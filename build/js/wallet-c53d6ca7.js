/*! For license information please see wallet-c53d6ca7.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7882],{39016:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletSDK=void 0;const r=n(52719),i=n(82704),s=n(49682),o=n(83143),a=n(31405),c=n(16570),l=n(27472),u=n(94643),h=n(43604);class d{constructor(e){var t,n,r;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const o=e.linkAPIUrl||i.LINK_API_URL;let u;if(u=e.uiConstructor?e.uiConstructor:e=>new a.WalletSDKUI(e),void 0===e.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this._overrideIsCoinbaseBrowser=null!==(n=e.overrideIsCoinbaseBrowser)&&void 0!==n&&n,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=null===(r=e.reloadOnDisconnect)||void 0===r||r;const p=new URL(o),f=`${p.protocol}//${p.host}`;this._storage=new s.ScopedLocalStorage(`-walletlink:${f}`),this._storage.setItem("version",d.VERSION),this.walletExtension||this.coinbaseBrowser||(this._relayEventManager=new l.WalletSDKRelayEventManager,this._relay=new c.WalletSDKRelay({linkAPIUrl:o,version:h.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:u,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),e.headlessMode||this._relay.attachUI())}makeWeb3Provider(e="",t=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,t),!1===this._reloadOnDisconnect&&"function"==typeof n.disableReloadOnDisconnect&&n.disableReloadOnDisconnect(),n;const r=this.coinbaseBrowser;if(r)return r;const i=this._relay;if(!i||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||i.setConnectDisabled(!0),new o.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(i),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,t){var n;this._appName=e||"DApp",this._appLogoUrl=t||(0,u.getFavicon)();const r=this.walletExtension;r?this.isCipherProvider(r)||r.setAppInfo(this._appName,this._appLogoUrl):null===(n=this._relay)||void 0===n||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const t=this.walletExtension;t?t.close():null===(e=this._relay)||void 0===e||e.resetAndReload()}getQrUrl(){var e,t;return null!==(t=null===(e=this._relay)||void 0===e?void 0:e.getQRCodeUrl())&&void 0!==t?t:null}getCoinbaseWalletLogo(e,t=240){return(0,r.walletLogo)(e,t)}get walletExtension(){var e;return null!==(e=window.coinbaseWalletExtension)&&void 0!==e?e:window.walletLinkExtension}get coinbaseBrowser(){var e,t;try{const n=null!==(e=window.ethereum)&&void 0!==e?e:null===(t=window.top)||void 0===t?void 0:t.ethereum;if(!n)return;return"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch(e){return}}isCipherProvider(e){return"boolean"==typeof e.isCipher&&e.isCipher}}t.CoinbaseWalletSDK=d,d.VERSION=h.LIB_VERSION},52719:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.walletLogo=void 0;t.walletLogo=(e,t)=>{let n;switch(e){case"standard":default:return n=t,`data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`}}},57816:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}"},95558:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseAppSteps=t.CoinbaseWalletSteps=t.ConnectItem=t.ConnectContent=void 0;const i=r(n(86010)),s=n(6400),o=n(30396),a=n(94643),c=n(43604),l=n(37598),u=r(n(417)),h=r(n(12348)),d=n(18646),p=r(n(35666)),f=r(n(30019)),g=n(67494),m=n(70381),w=n(88727),y=r(n(57816)),v={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:h.default,steps:E},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:u.default,steps:x}},b=e=>"light"===e?"#FFFFFF":"#0A0B0D";function _({title:e,description:t,icon:n,selected:r,theme:o,onClick:a}){return(0,s.h)("div",{onClick:a,class:(0,i.default)("-cbwsdk-connect-item",o,{selected:r})},(0,s.h)("div",null,(0,s.h)("img",{src:n,alt:e})),(0,s.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,s.h)("h3",{class:"-cbwsdk-connect-item-title"},e),(0,s.h)("p",{class:"-cbwsdk-connect-item-description"},t)))}function E({theme:e}){return(0,s.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,s.h)("li",{class:(0,i.default)("-cbwsdk-wallet-steps-item",e)},(0,s.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,s.h)("li",{class:(0,i.default)("-cbwsdk-wallet-steps-item",e)},(0,s.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,s.h)("span",null,"Tap ",(0,s.h)("strong",null,"Scan")," "),(0,s.h)("span",{class:(0,i.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,s.h)(d.QRCodeIcon,{fill:b(e)})))))}function x({theme:e}){return(0,s.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,s.h)("li",{class:(0,i.default)("-cbwsdk-wallet-steps-item",e)},(0,s.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,s.h)("li",{class:(0,i.default)("-cbwsdk-wallet-steps-item",e)},(0,s.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,s.h)("span",null,"Tap ",(0,s.h)("strong",null,"More")),(0,s.h)("span",{class:(0,i.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,s.h)(g.StatusDotIcon,{fill:b(e)})),(0,s.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,s.h)("strong",null,"Scan")),(0,s.h)("span",{class:(0,i.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,s.h)(d.QRCodeIcon,{fill:b(e)})))))}t.ConnectContent=function(e){const{theme:t}=e,[n,r]=(0,o.useState)("coinbase-wallet-app"),u=(0,o.useCallback)((e=>{r(e)}),[]),h=(0,a.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId);if(!n)return null;const d=v[n].steps,g="coinbase-app"===n;return(0,s.h)("div",{"data-testid":"connect-content",class:(0,i.default)("-cbwsdk-connect-content",t)},(0,s.h)("style",null,y.default),(0,s.h)("div",{class:"-cbwsdk-connect-content-header"},(0,s.h)("h2",{class:(0,i.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with one of our mobile apps"),e.onCancel&&(0,s.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,s.h)(l.CloseIcon,{fill:"light"===t?"#0A0B0D":"#FFFFFF"}))),(0,s.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,s.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,s.h)("div",null,Object.entries(v).map((([e,r])=>(0,s.h)(_,{key:e,title:r.title,description:r.description,icon:r.icon,selected:n===e,onClick:()=>u(e),theme:t})))),g&&(0,s.h)("div",{class:(0,i.default)("-cbwsdk-connect-content-update-app",t)},"Don’t see a ",(0,s.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,s.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,s.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,s.h)(m.QRCode,{content:h,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:(b=n,"coinbase-app"===b?p.default:f.default),width:25,height:25}}),(0,s.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:c.LIB_VERSION}),(0,s.h)("input",{type:"hidden",value:h})),(0,s.h)(d,{theme:t}),!e.isConnected&&(0,s.h)("div",{"data-testid":"connecting-spinner",class:(0,i.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,s.h)(w.Spinner,{size:36,color:"dark"===t?"#FFF":"#000"}),(0,s.h)("p",null,"Connecting...")))));var b},t.ConnectItem=_,t.CoinbaseWalletSteps=E,t.CoinbaseAppSteps=x},96956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}"},98845:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectDialog=void 0;const i=r(n(86010)),s=n(6400),o=n(30396),a=n(95558),c=n(26868),l=r(n(96956));t.ConnectDialog=e=>{const{isOpen:t,darkMode:n}=e,[r,u]=(0,o.useState)(!t),[h,d]=(0,o.useState)(!t);(0,o.useEffect)((()=>{const e=[window.setTimeout((()=>{d(!t)}),10)];return t?u(!1):e.push(window.setTimeout((()=>{u(!0)}),360)),()=>{e.forEach(window.clearTimeout)}}),[e.isOpen]);const p=n?"dark":"light";return(0,s.h)("div",{class:(0,i.default)("-cbwsdk-connect-dialog-container",r&&"-cbwsdk-connect-dialog-container-hidden")},(0,s.h)("style",null,l.default),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-connect-dialog-backdrop",p,h&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,s.h)("div",{class:"-cbwsdk-connect-dialog"},(0,s.h)("div",{class:(0,i.default)("-cbwsdk-connect-dialog-box",h&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,s.h)(a.ConnectContent,{theme:p,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,s.h)(c.TryExtensionContent,{theme:p}))))}},27759:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkFlow=void 0;const r=n(6400),i=n(34143),s=n(98845);t.LinkFlow=class{constructor(e){this.extensionUI$=new i.BehaviorSubject({}),this.subscriptions=new i.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe((e=>{this.isConnected!==e&&(this.isConnected=e,this.render())}))),this.subscriptions.add(this.chainId$.subscribe((e=>{this.chainId!==e&&(this.chainId=e,this.render())})))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,r.render)(null,this.root),null===(e=this.root.parentElement)||void 0===e||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe((()=>{this.root&&(0,r.render)((0,r.h)(s.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}));this.subscriptions.add(e)}}},70381:function(e,t,n){"use strict";var r=n(48764).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QRCode=void 0;const s=n(6400),o=n(30396),a=i(n(7713));t.QRCode=e=>{const[t,n]=(0,o.useState)("");return(0,o.useEffect)((()=>{var t,i;const s=new a.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(t=e.width)&&void 0!==t?t:256,height:null!==(i=e.height)&&void 0!==i?i:256,padding:0,image:e.image}),o=r.from(s.svg(),"utf8").toString("base64");n(`data:image/svg+xml;base64,${o}`)})),t?(0,s.h)("img",{src:t,alt:"QR Code"}):null}},24325:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"},19199:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const i=r(n(86010)),s=n(6400),o=n(30396),a=r(n(24325));function c(e){return"coinbase-app"===e?"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+":"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}t.Snackbar=class{constructor(e){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=e.darkMode}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,s.render)((0,s.h)("div",null,(0,s.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map((([e,n])=>(0,s.h)(t.SnackbarInstance,Object.assign({},n,{key:e})))))),this.root)}};t.SnackbarContainer=e=>(0,s.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-container")},(0,s.h)("style",null,a.default),(0,s.h)("div",{class:"-cbwsdk-snackbar"},e.children));t.SnackbarInstance=({autoExpand:e,message:t,menuItems:n,appSrc:r})=>{const[a,l]=(0,o.useState)(!0),[u,h]=(0,o.useState)(null!=e&&e);(0,o.useEffect)((()=>{const e=[window.setTimeout((()=>{l(!1)}),1),window.setTimeout((()=>{h(!0)}),1e4)];return()=>{e.forEach(window.clearTimeout)}}));return(0,s.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-instance",a&&"-cbwsdk-snackbar-instance-hidden",u&&"-cbwsdk-snackbar-instance-expanded")},(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{h(!u)}},(0,s.h)("img",{src:c(r),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,s.h)("div",{class:"-gear-container"},!u&&(0,s.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,s.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&(0,s.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map(((e,t)=>(0,s.h)("div",{class:(0,i.default)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,s.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,s.h)("span",{class:(0,i.default)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info))))))}},22061:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"},88727:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;const i=n(6400),s=r(n(22061));t.Spinner=e=>{var t;const n=null!==(t=e.size)&&void 0!==t?t:64,r=e.color||"#000";return(0,i.h)("div",{class:"-cbwsdk-spinner"},(0,i.h)("style",null,s.default),(0,i.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:n,height:n}},(0,i.h)("circle",{style:{cx:50,cy:50,r:45,stroke:r}})))}},5157:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}"},26868:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TryExtensionContent=void 0;const i=r(n(86010)),s=n(6400),o=n(30396),a=n(79414),c=n(52467),l=n(25178),u=r(n(5157));t.TryExtensionContent=function({theme:e}){const[t,n]=(0,o.useState)(!1),r=(0,o.useCallback)((()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}),[]),h=(0,o.useCallback)((()=>{t?window.location.reload():(r(),n(!0))}),[r,t]);return(0,s.h)("div",{class:(0,i.default)("-cbwsdk-try-extension",e)},(0,s.h)("style",null,u.default),(0,s.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,s.h)("h3",{class:(0,i.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,s.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,s.h)("button",{class:(0,i.default)("-cbwsdk-try-extension-cta",e),onClick:h},t?"Refresh":"Install"),(0,s.h)("div",null,!t&&(0,s.h)(a.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:"light"===e?"#0052FF":"#588AF5"})))),(0,s.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,s.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,s.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,s.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,s.h)("span",{class:(0,i.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,s.h)(c.LaptopIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,s.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,s.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,s.h)("span",{class:(0,i.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,s.h)(l.SafeIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,s.h)("div",{class:(0,i.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}},79414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowLeftIcon=void 0;const r=n(6400);t.ArrowLeftIcon=function(e){return(0,r.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,r.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}},37598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseIcon=void 0;const r=n(6400);t.CloseIcon=function(e){return(0,r.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,r.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}},52467:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaptopIcon=void 0;const r=n(6400);t.LaptopIcon=function(e){return(0,r.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,r.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,r.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}},18646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodeIcon=void 0;const r=n(6400);t.QRCodeIcon=function(e){return(0,r.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},e),(0,r.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,r.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,r.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,r.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,r.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,r.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,r.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,r.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,r.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}},35666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='\n    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>\n        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>\n        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>\n    </svg>\n'},30019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <circle cx="50" cy="50" r="50" fill="white"/>\n        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>\n        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>\n    </svg>\n'},25178:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafeIcon=void 0;const r=n(6400);t.SafeIcon=function(e){return(0,r.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}},67494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusDotIcon=void 0;const r=n(6400);t.StatusDotIcon=function(e){return(0,r.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},e),(0,r.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}},417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4="},12348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg=="},85755:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientMessagePublishEvent=t.ClientMessageSetSessionConfig=t.ClientMessageGetSessionConfig=t.ClientMessageIsLinked=t.ClientMessageHostSession=void 0,t.ClientMessageHostSession=function(e){return Object.assign({type:"HostSession"},e)},t.ClientMessageIsLinked=function(e){return Object.assign({type:"IsLinked"},e)},t.ClientMessageGetSessionConfig=function(e){return Object.assign({type:"GetSessionConfig"},e)},t.ClientMessageSetSessionConfig=function(e){return Object.assign({type:"SetSessionConfig"},e)},t.ClientMessagePublishEvent=function(e){return Object.assign({type:"PublishEvent"},e)}},32191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=void 0,t.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}},80179:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const r=n(34143),i=n(11717);var s;!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(s=t.ConnectionState||(t.ConnectionState={}));t.RxWebSocket=class{constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.connectionStateSubject=new r.BehaviorSubject(s.DISCONNECTED),this.incomingDataSubject=new r.Subject,this.url=e.replace(/^http/,"ws")}connect(){return this.webSocket?(0,r.throwError)(new Error("webSocket object is not null")):new r.Observable((e=>{let t;try{this.webSocket=t=new this.WebSocketClass(this.url)}catch(t){return void e.error(t)}this.connectionStateSubject.next(s.CONNECTING),t.onclose=t=>{this.clearWebSocket(),e.error(new Error(`websocket error ${t.code}: ${t.reason}`)),this.connectionStateSubject.next(s.DISCONNECTED)},t.onopen=t=>{e.next(),e.complete(),this.connectionStateSubject.next(s.CONNECTED)},t.onmessage=e=>{this.incomingDataSubject.next(e.data)}})).pipe((0,i.take)(1))}disconnect(){const{webSocket:e}=this;if(e){this.clearWebSocket(),this.connectionStateSubject.next(s.DISCONNECTED);try{e.close()}catch(e){}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,i.flatMap)((e=>{let t;try{t=JSON.parse(e)}catch(e){return(0,r.empty)()}return(0,r.of)(t)})))}sendData(e){const{webSocket:t}=this;if(!t)throw new Error("websocket is not connected");t.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}},76156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isServerMessageFail=void 0,t.isServerMessageFail=function(e){return e&&"Fail"===e.type&&"number"==typeof e.id&&"string"==typeof e.sessionId&&"string"==typeof e.error}},18876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletSDKConnection=void 0;const r=n(34143),i=n(11717),s=n(73526),o=n(91295),a=n(85755),c=n(32191),l=n(80179),u=n(76156);t.WalletSDKConnection=class{constructor(e,t,n,a,u=WebSocket){this.sessionId=e,this.sessionKey=t,this.diagnostic=a,this.subscriptions=new r.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,o.IntNumber)(1),this.connectedSubject=new r.BehaviorSubject(!1),this.linkedSubject=new r.BehaviorSubject(!1),this.sessionConfigSubject=new r.ReplaySubject(1);const h=new l.RxWebSocket(n+"/rpc",u);this.ws=h,this.subscriptions.add(h.connectionState$.pipe((0,i.tap)((t=>{var n;return null===(n=this.diagnostic)||void 0===n?void 0:n.log(c.EVENTS.CONNECTED_STATE_CHANGE,{state:t,sessionIdHash:s.Session.hash(e)})})),(0,i.skip)(1),(0,i.filter)((e=>e===l.ConnectionState.DISCONNECTED&&!this.destroyed)),(0,i.delay)(5e3),(0,i.filter)((e=>!this.destroyed)),(0,i.flatMap)((e=>h.connect())),(0,i.retry)()).subscribe()),this.subscriptions.add(h.connectionState$.pipe((0,i.skip)(2),(0,i.switchMap)((e=>(0,r.iif)((()=>e===l.ConnectionState.CONNECTED),this.authenticate().pipe((0,i.tap)((e=>this.sendIsLinked())),(0,i.tap)((e=>this.sendGetSessionConfig())),(0,i.map)((e=>!0))),(0,r.of)(!1)))),(0,i.distinctUntilChanged)(),(0,i.catchError)((e=>(0,r.of)(!1)))).subscribe((e=>this.connectedSubject.next(e)))),this.subscriptions.add(h.connectionState$.pipe((0,i.skip)(1),(0,i.switchMap)((e=>(0,r.iif)((()=>e===l.ConnectionState.CONNECTED),(0,r.timer)(0,1e4))))).subscribe((e=>0===e?this.updateLastHeartbeat():this.heartbeat()))),this.subscriptions.add(h.incomingData$.pipe((0,i.filter)((e=>"h"===e))).subscribe((e=>this.updateLastHeartbeat()))),this.subscriptions.add(h.incomingJSONData$.pipe((0,i.filter)((e=>["IsLinkedOK","Linked"].includes(e.type)))).subscribe((t=>{var n;const r=t;null===(n=this.diagnostic)||void 0===n||n.log(c.EVENTS.LINKED,{sessionIdHash:s.Session.hash(e),linked:r.linked,type:t.type,onlineGuests:r.onlineGuests}),this.linkedSubject.next(r.linked||r.onlineGuests>0)}))),this.subscriptions.add(h.incomingJSONData$.pipe((0,i.filter)((e=>["GetSessionConfigOK","SessionConfigUpdated"].includes(e.type)))).subscribe((t=>{var n;const r=t;null===(n=this.diagnostic)||void 0===n||n.log(c.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:s.Session.hash(e),metadata_keys:r&&r.metadata?Object.keys(r.metadata):void 0}),this.sessionConfigSubject.next({webhookId:r.webhookId,webhookUrl:r.webhookUrl,metadata:r.metadata})})))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");null===(e=this.diagnostic)||void 0===e||e.log(c.EVENTS.STARTED_CONNECTING,{sessionIdHash:s.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),null===(e=this.diagnostic)||void 0===e||e.log(c.EVENTS.DISCONNECTED,{sessionIdHash:s.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,i.filter)((e=>e)),(0,i.take)(1),(0,i.map)((()=>{})))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,i.filter)((e=>e)),(0,i.take)(1),(0,i.map)((()=>{})))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,i.filter)((e=>{if("Event"!==e.type)return!1;const t=e;return"string"==typeof t.sessionId&&"string"==typeof t.eventId&&"string"==typeof t.event&&"string"==typeof t.data})),(0,i.map)((e=>e)))}setSessionMetadata(e,t){const n=(0,a.ClientMessageSetSessionConfig)({id:(0,o.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:t}});return this.onceConnected$.pipe((0,i.flatMap)((e=>this.makeRequest(n))),(0,i.map)((e=>{if((0,u.isServerMessageFail)(e))throw new Error(e.error||"failed to set session metadata")})))}publishEvent(e,t,n=!1){const r=(0,a.ClientMessagePublishEvent)({id:(0,o.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:t,callWebhook:n});return this.onceLinked$.pipe((0,i.flatMap)((e=>this.makeRequest(r))),(0,i.map)((e=>{if((0,u.isServerMessageFail)(e))throw new Error(e.error||"failed to publish event");return e.eventId})))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)this.ws.disconnect();else try{this.ws.sendData("h")}catch(e){}}makeRequest(e,t=6e4){const n=e.id;try{this.sendData(e)}catch(e){return(0,r.throwError)(e)}return this.ws.incomingJSONData$.pipe((0,i.timeoutWith)(t,(0,r.throwError)(new Error(`request ${n} timed out`))),(0,i.filter)((e=>e.id===n)),(0,i.take)(1))}authenticate(){const e=(0,a.ClientMessageHostSession)({id:(0,o.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,i.map)((e=>{if((0,u.isServerMessageFail)(e))throw new Error(e.error||"failed to authentcate")})))}sendIsLinked(){const e=(0,a.ClientMessageIsLinked)({id:(0,o.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,a.ClientMessageGetSessionConfig)({id:(0,o.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}},82704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LINK_API_URL=void 0,t.LINK_API_URL="https://www.walletlink.org"},69621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const r=n(79826),i=n(67386),s=n(43604);t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},r.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},r.errorCodes.provider),{unsupportedChain:4902}))})),t.standardErrorMessage=function(e){return void 0!==e?(0,r.getMessageFromCode)(e):"Unknown error"},t.standardErrors=Object.freeze(Object.assign(Object.assign({},r.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},r.ethErrors.provider),{unsupportedChain:(e="")=>r.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${e}. Try adding the chain using wallet_addEthereumChain first.`})}))})),t.serializeError=function(e,n){const o=(0,r.serializeError)(function(e){return"string"==typeof e?{message:e,code:t.standardErrorCodes.rpc.internal}:(0,i.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method,result:e.result}}):e}(e),{shouldIncludeStack:!0}),a=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");a.searchParams.set("version",s.LIB_VERSION),a.searchParams.set("code",o.code.toString());const c=function(e,t){var n;const r=null===(n=e)||void 0===n?void 0:n.method;if(r)return r;return void 0===t?void 0:"string"==typeof t?t:Array.isArray(t)?t.length>0?t[0].method:void 0:t.method}(o.data,n);return c&&a.searchParams.set("method",c),a.searchParams.set("message",o.message),Object.assign(Object.assign({},o),{docUrl:a.href})},t.getErrorCode=function(e){var t;return"number"==typeof e?e:function(e){return"object"==typeof e&&null!==e&&("number"==typeof e.code||"number"==typeof e.errorCode)}(e)?null!==(t=e.code)&&void 0!==t?t:e.errorCode:void 0}},45811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const r=n(39016),i=n(83143);var s=n(39016);Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return s.CoinbaseWalletSDK}});var o=n(83143);Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return o.CoinbaseWalletProvider}}),t.default=r.CoinbaseWalletSDK,"undefined"!=typeof window&&(window.CoinbaseWalletSDK=r.CoinbaseWalletSDK,window.CoinbaseWalletProvider=i.CoinbaseWalletProvider,window.WalletLink=r.CoinbaseWalletSDK,window.WalletLinkProvider=i.CoinbaseWalletProvider)},49682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScopedLocalStorage=void 0;t.ScopedLocalStorage=class{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);"string"==typeof r&&r.startsWith(e)&&t.push(r)}t.forEach((e=>localStorage.removeItem(e)))}scopedKey(e){return`${this.scope}:${e}`}}},1119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}'},27162:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.injectCssReset=void 0;const i=r(n(1119));t.injectCssReset=function(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(i.default)),document.documentElement.appendChild(e)}},83143:function(e,t,n){"use strict";var r=n(48764).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=void 0;const s=i(n(19394)),o=i(n(13550)),a=n(32191),c=n(69621),l=n(73526),u=n(15633),h=n(93083),d=n(67386),p=n(94643),f=i(n(14497)),g=n(33648),m=n(28565),w=n(5313),y="DefaultChainId",v="DefaultJsonRpcUrl";class b extends s.default{constructor(e){var t,n;super(),this._filterPolyfill=new g.FilterPolyfill(this),this._subscriptionManager=new w.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t,this.isCoinbaseBrowser=null!==(n=e.overrideIsCoinbaseBrowser)&&void 0!==n&&n,this.qrUrl=e.qrUrl;const r=this.getChainId(),i=(0,p.prepend0x)(r.toString(16));this.emit("connect",{chainIdStr:i});const s=this._storage.getItem(u.LOCAL_STORAGE_ADDRESSES_KEY);if(s){const e=s.split(" ");""!==e[0]&&(this._addresses=e.map((e=>(0,p.ensureAddressString)(e))),this.emit("accountsChanged",e))}this._subscriptionManager.events.on("notification",(e=>{this.emit("message",{type:e.method,data:e.params})})),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",(e=>{var t;if(e.origin===location.origin&&e.source===window&&"walletLinkMessage"===e.data.type){if("dappChainSwitched"===e.data.data.action){const n=e.data.data.chainId,r=null!==(t=e.data.data.jsonRpcUrl)&&void 0!==t?t:this.jsonRpcUrl;this.updateProviderInfo(r,Number(n))}"addressChanged"===e.data.data.action&&this._setAddresses([e.data.data.address])}}))}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,p.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return null!==(e=this._storage.getItem(v))&&void 0!==e?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(v,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,t){this.isCoinbaseBrowser||(this._chainIdFromOpts=t,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,t){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(y,t.toString(10));!((0,p.ensureIntNumber)(t)!==n)&&this.hasMadeFirstChainChangedEmission||(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,t,n,r,i,s){const o=await this.initializeRelay();return!!(await o.watchAsset(e,t,n,r,i,null==s?void 0:s.toString()).promise).result}async addEthereumChain(e,t,n,r,i,s){var o,a;if((0,p.ensureIntNumber)(e)===this.getChainId())return!1;const c=await this.initializeRelay(),l=c.inlineAddEthereumChain(e.toString());this._isAuthorized()||l||await c.requestEthereumAccounts().promise;const u=await c.addEthereumChain(e.toString(),t,i,n,r,s).promise;return!0===(null===(o=u.result)||void 0===o?void 0:o.isApproved)&&this.updateProviderInfo(t[0],e),!0===(null===(a=u.result)||void 0===a?void 0:a.isApproved)}async switchEthereumChain(e){const t=await this.initializeRelay(),n=await t.switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,d.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===c.standardErrorCodes.provider.unsupportedChain?c.standardErrors.provider.unsupportedChain(e):c.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const r=n.result;r.isApproved&&r.rpcUrl.length>0&&this.updateProviderInfo(r.rpcUrl,e)}setAppInfo(e,t){this.initializeRelay().then((n=>n.setAppInfo(e,t)))}async enable(){var e;return null===(e=this.diagnostic)||void 0===e||e.log(a.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?l.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(m.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,t){try{const n=this._send(e,t);if(n instanceof Promise)return n.catch((t=>{throw(0,c.serializeError)(t,e)}))}catch(t){throw(0,c.serializeError)(t,e)}}_send(e,t){if("string"==typeof e){const n={jsonrpc:"2.0",id:0,method:e,params:Array.isArray(t)?t:void 0!==t?[t]:[]};return this._sendRequestAsync(n).then((e=>e.result))}if("function"==typeof t){const n=e,r=t;return this._sendAsync(n,r)}if(Array.isArray(e)){return e.map((e=>this._sendRequest(e)))}const n=e;return this._sendRequest(n)}async sendAsync(e,t){try{return this._sendAsync(e,t).catch((t=>{throw(0,c.serializeError)(t,e)}))}catch(t){return Promise.reject((0,c.serializeError)(t,e))}}async _sendAsync(e,t){if("function"!=typeof t)throw new Error("callback is required");if(Array.isArray(e)){const n=t;return void this._sendMultipleRequestsAsync(e).then((e=>n(null,e))).catch((e=>n(e,null)))}const n=t;return this._sendRequestAsync(e).then((e=>n(null,e))).catch((e=>n(e,null)))}async request(e){try{return this._request(e).catch((t=>{throw(0,c.serializeError)(t,e.method)}))}catch(t){return Promise.reject((0,c.serializeError)(t,e.method))}}async _request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw c.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:n}=e;if("string"!=typeof t||0===t.length)throw c.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==n&&!Array.isArray(n)&&("object"!=typeof n||null===n))throw c.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const r=void 0===n?[]:n,i=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:t,params:r,jsonrpc:"2.0",id:i})).result}async scanQRCode(e){var t;const n=await this.initializeRelay(),r=await n.scanQRCode((0,p.ensureRegExpString)(e)).promise;if("string"!=typeof r.result)throw(0,c.serializeError)(null!==(t=r.errorMessage)&&void 0!==t?t:"result was not a string",h.Web3Method.scanQRCode);return r.result}async genericRequest(e,t){var n;const r=await this.initializeRelay(),i=await r.genericRequest(e,t).promise;if("string"!=typeof i.result)throw(0,c.serializeError)(null!==(n=i.errorMessage)&&void 0!==n?n:"result was not a string",h.Web3Method.generic);return i.result}async selectProvider(e){var t;const n=await this.initializeRelay(),r=await n.selectProvider(e).promise;if("string"!=typeof r.result)throw(0,c.serializeError)(null!==(t=r.errorMessage)&&void 0!==t?t:"result was not a string",h.Web3Method.selectProvider);return r.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const t={jsonrpc:"2.0",id:e.id},{method:n}=e;if(t.result=this._handleSynchronousMethods(e),void 0===t.result)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return t}_setAddresses(e,t){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map((e=>(0,p.ensureAddressString)(e)));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(u.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise(((t,n)=>{try{const r=this._handleSynchronousMethods(e);if(void 0!==r)return t({jsonrpc:"2.0",id:e.id,result:r});const i=this._handleAsynchronousFilterMethods(e);if(void 0!==i)return void i.then((n=>t(Object.assign(Object.assign({},n),{id:e.id})))).catch((e=>n(e)));const s=this._handleSubscriptionMethods(e);if(void 0!==s)return void s.then((n=>t({jsonrpc:"2.0",id:e.id,result:n.result}))).catch((e=>n(e)))}catch(e){return n(e)}this._handleAsynchronousMethods(e).then((n=>n&&t(Object.assign(Object.assign({},n),{id:e.id})))).catch((e=>n(e)))}))}_sendMultipleRequestsAsync(e){return Promise.all(e.map((e=>this._sendRequestAsync(e))))}_handleSynchronousMethods(e){const{method:t}=e,n=e.params||[];switch(t){case m.JSONRPCMethod.eth_accounts:return this._eth_accounts();case m.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case m.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case m.JSONRPCMethod.net_version:return this._net_version();case m.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:t}=e,n=e.params||[];switch(t){case m.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case m.JSONRPCMethod.eth_sign:return this._eth_sign(n);case m.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case m.JSONRPCMethod.personal_sign:return this._personal_sign(n);case m.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case m.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case m.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case m.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case m.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case m.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case m.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case m.JSONRPCMethod.eth_signTypedData_v4:case m.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case m.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case m.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case m.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case m.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:t}=e,n=e.params||[];switch(t){case m.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case m.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case m.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case m.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case m.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case m.JSONRPCMethod.eth_subscribe:case m.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const t=(0,p.ensureAddressString)(e);return this._addresses.map((e=>(0,p.ensureAddressString)(e))).includes(t)}catch(e){}return!1}_ensureKnownAddress(e){var t;if(!this._isKnownAddress(e))throw null===(t=this.diagnostic)||void 0===t||t.log(a.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const t=e.from?(0,p.ensureAddressString)(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(t);return{fromAddress:t,toAddress:e.to?(0,p.ensureAddressString)(e.to):null,weiValue:null!=e.value?(0,p.ensureBN)(e.value):new o.default(0),data:e.data?(0,p.ensureBuffer)(e.data):r.alloc(0),nonce:null!=e.nonce?(0,p.ensureIntNumber)(e.nonce):null,gasPriceInWei:null!=e.gasPrice?(0,p.ensureBN)(e.gasPrice):null,maxFeePerGas:null!=e.maxFeePerGas?(0,p.ensureBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:null!=e.maxPriorityFeePerGas?(0,p.ensureBN)(e.maxPriorityFeePerGas):null,gasLimit:null!=e.gas?(0,p.ensureBN)(e.gas):null,chainId:this.getChainId()}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw c.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw c.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,t,n,r){this._ensureKnownAddress(t);try{const i=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await i.signEthereumMessage(e,t,n,r).promise).result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw c.standardErrors.provider.userRejectedRequest("User denied message signature");throw e}}async _ethereumAddressFromSignedMessage(e,t,n){const r=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await r.ethereumAddressFromSignedMessage(e,t,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,p.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(y);if(!e)return(0,p.ensureIntNumber)(this._chainIdFromOpts);const t=parseInt(e,10);return(0,p.ensureIntNumber)(t)}async _eth_requestAccounts(){var e;if(null===(e=this.diagnostic)||void 0===e||e.log(a.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?l.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{const e=await this.initializeRelay();t=await e.requestEthereumAccounts().promise}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw c.standardErrors.provider.userRejectedRequest("User denied account authorization");throw e}if(!t.result)throw new Error("accounts received is empty");return this._setAddresses(t.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const t=(0,p.ensureAddressString)(e[0]),n=(0,p.ensureBuffer)(e[1]);return this._signEthereumMessage(n,t,!1)}_eth_ecRecover(e){const t=(0,p.ensureBuffer)(e[0]),n=(0,p.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!1)}_personal_sign(e){this._requireAuthorization();const t=(0,p.ensureBuffer)(e[0]),n=(0,p.ensureAddressString)(e[1]);return this._signEthereumMessage(t,n,!0)}_personal_ecRecover(e){const t=(0,p.ensureBuffer)(e[0]),n=(0,p.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const e=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await e.signEthereumTransaction(t).promise).result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw c.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw e}}async _eth_sendRawTransaction(e){const t=(0,p.ensureBuffer)(e[0]),n=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await n.submitEthereumTransaction(t,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const e=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await e.signAndSubmitEthereumTransaction(t).promise).result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw c.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw e}}async _eth_signTypedData_v1(e){this._requireAuthorization();const t=(0,p.ensureParsedJSONObject)(e[0]),n=(0,p.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const r=f.default.hashForSignTypedDataLegacy({data:t}),i=JSON.stringify(t,null,2);return this._signEthereumMessage(r,n,!1,i)}async _eth_signTypedData_v3(e){this._requireAuthorization();const t=(0,p.ensureAddressString)(e[0]),n=(0,p.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const r=f.default.hashForSignTypedData_v3({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(r,t,!1,i)}async _eth_signTypedData_v4(e){this._requireAuthorization();const t=(0,p.ensureAddressString)(e[0]),n=(0,p.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const r=f.default.hashForSignTypedData_v4({data:n}),i=JSON.stringify(n,null,2);return this._signEthereumMessage(r,t,!1,i)}async _cbwallet_arbitrary(e){const t=e[0],n=e[1];if("string"!=typeof n)throw new Error("parameter must be a string");if("object"!=typeof t||null===t)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(t,n)}}async _wallet_addEthereumChain(e){var t,n,r,i;const s=e[0];if(0===(null===(t=s.rpcUrls)||void 0===t?void 0:t.length))return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!s.chainName||""===s.chainName.trim())throw c.standardErrors.rpc.invalidParams("chainName is a required field");if(!s.nativeCurrency)throw c.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const o=parseInt(s.chainId,16);return await this.addEthereumChain(o,null!==(n=s.rpcUrls)&&void 0!==n?n:[],null!==(r=s.blockExplorerUrls)&&void 0!==r?r:[],s.chainName,null!==(i=s.iconUrls)&&void 0!==i?i:[],s.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const t=e[0];return await this.switchEthereumChain(parseInt(t.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const t=Array.isArray(e)?e[0]:e;if(!t.type)throw c.standardErrors.rpc.invalidParams("Type is required");if("ERC20"!==(null==t?void 0:t.type))throw c.standardErrors.rpc.invalidParams(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw c.standardErrors.rpc.invalidParams("Options are required");if(!(null==t?void 0:t.options.address))throw c.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:r,symbol:i,image:s,decimals:o}=t.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(t.type,r,i,o,s,n)}}_eth_uninstallFilter(e){const t=(0,p.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(t)}async _eth_newFilter(e){const t=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(t)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const t=(0,p.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(t)}_eth_getFilterLogs(e){const t=(0,p.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(t)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then((e=>(e.setAccountsCallback(((e,t)=>this._setAddresses(e,t))),e.setChainCallback(((e,t)=>{this.updateProviderInfo(t,parseInt(e,10))})),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e)))}}t.CoinbaseWalletProvider=b},33648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterFromParam=t.FilterPolyfill=void 0;const r=n(91295),i=n(94643),s={jsonrpc:"2.0",id:0};function o(e){return{fromBlock:c(e.fromBlock),toBlock:c(e.toBlock),addresses:void 0===e.address?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}function a(e){const t={fromBlock:l(e.fromBlock),toBlock:l(e.toBlock),topics:e.topics};return null!==e.addresses&&(t.address=e.addresses),t}function c(e){if(void 0===e||"latest"===e||"pending"===e)return"latest";if("earliest"===e)return(0,r.IntNumber)(0);if((0,i.isHexString)(e))return(0,i.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function l(e){return"latest"===e?e:(0,i.hexStringFromIntNumber)(e)}function u(){return Object.assign(Object.assign({},s),{error:{code:-32e3,message:"filter not found"}})}function h(){return Object.assign(Object.assign({},s),{result:[]})}t.FilterPolyfill=class{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,r.IntNumber)(1),this.provider=e}async newFilter(e){const t=o(e),n=this.makeFilterId();await this.setInitialCursorPosition(n,t.fromBlock);return this.logFilters.set(n,t),this.setFilterTimeout(n),(0,i.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId();await this.setInitialCursorPosition(e,"latest");return this.blockFilters.add(e),this.setFilterTimeout(e),(0,i.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId();await this.setInitialCursorPosition(e,"latest");return this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,i.hexStringFromIntNumber)(e)}uninstallFilter(e){const t=(0,i.intNumberFromHexString)(e);return this.deleteFilter(t),!0}getFilterChanges(e){const t=(0,i.intNumberFromHexString)(e);return this.timeouts.has(t)&&this.setFilterTimeout(t),this.logFilters.has(t)?this.getLogFilterChanges(t):this.blockFilters.has(t)?this.getBlockFilterChanges(t):this.pendingTransactionFilters.has(t)?this.getPendingTransactionFilterChanges(t):Promise.resolve(u())}async getFilterLogs(e){const t=(0,i.intNumberFromHexString)(e),n=this.logFilters.get(t);return n?this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_getLogs",params:[a(n)]})):u()}makeFilterId(){return(0,r.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise(((t,n)=>{this.provider.sendAsync(e,((e,r)=>e?n(e):Array.isArray(r)||null==r?n(new Error(`unexpected response received: ${JSON.stringify(r)}`)):void t(r)))}))}deleteFilter(e){this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const t=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!t)return u();const o=await this.getCurrentBlockHeight(),c="latest"===t.toBlock?o:t.toBlock;if(n>o)return h();if(n>t.toBlock)return h();const l=await this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_getLogs",params:[a(Object.assign(Object.assign({},t),{fromBlock:n,toBlock:c}))]}));if(Array.isArray(l.result)){const t=l.result.map((e=>(0,i.intNumberFromHexString)(e.blockNumber||"0x0"))),s=Math.max(...t);if(s&&s>n){const t=(0,r.IntNumber)(s+1);this.cursors.set(e,t)}}return l}async getBlockFilterChanges(e){const t=this.cursors.get(e);if(!t)return u();const n=await this.getCurrentBlockHeight();if(t>n)return h();const o=(await Promise.all((0,i.range)(t,n+1).map((e=>this.getBlockHashByNumber((0,r.IntNumber)(e)))))).filter((e=>!!e)),a=(0,r.IntNumber)(t+o.length);return this.cursors.set(e,a),Object.assign(Object.assign({},s),{result:o})}async getPendingTransactionFilterChanges(e){return Promise.resolve(h())}async setInitialCursorPosition(e,t){const n=await this.getCurrentBlockHeight(),r="number"==typeof t&&t>n?t:n;return this.cursors.set(e,r),r}setFilterTimeout(e){const t=this.timeouts.get(e);t&&window.clearTimeout(t);const n=window.setTimeout((()=>{this.deleteFilter(e)}),3e5);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_blockNumber",params:[]}));return(0,i.intNumberFromHexString)((0,i.ensureHexString)(e))}async getBlockHashByNumber(e){const t=await this.sendAsyncPromise(Object.assign(Object.assign({},s),{method:"eth_getBlockByNumber",params:[(0,i.hexStringFromIntNumber)(e),!1]}));return t.result&&"string"==typeof t.result.hash?(0,i.ensureHexString)(t.result.hash):null}},t.filterFromParam=o},28565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))},5313:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionManager=void 0;const r=n(6842),i=n(68961),s=()=>{};t.SubscriptionManager=class{constructor(e){const t=new r.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:s}=i({blockTracker:t,provider:e});this.events=n,this.subscriptionMiddleware=s}async handleRequest(e){const t={};return await this.subscriptionMiddleware(e,t,s,s),t}destroy(){this.subscriptionMiddleware.destroy()}}},31405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletSDKUI=void 0;const r=n(27759),i=n(19199),s=n(27162);t.WalletSDKUI=class{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new i.Snackbar({darkMode:e.darkMode}),this.linkFlow=new r.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.linkFlow.attach(t),this.snackbar.attach(t),this.attached=!0,(0,s.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return null!==(e=this.standalone)&&void 0!==e&&e}}},85813:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))},73526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;const r=n(89072),i=n(94643),s="session:id",o="session:secret",a="session:linked";class c{constructor(e,t,n,s){this._storage=e,this._id=t||(0,i.randomBytesHex)(16),this._secret=n||(0,i.randomBytesHex)(32),this._key=(new r.sha256).update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!s}static load(e){const t=e.getItem(s),n=e.getItem(a),r=e.getItem(o);return t&&r?new c(e,t,r,"1"===n):null}static hash(e){return(new r.sha256).update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(s,this._id),this._storage.setItem(o,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(a,this._linked?"1":"0")}}t.Session=c},16570:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletSDKRelay=void 0;const c=a(n(47056)),l=n(34143),u=n(11717),h=n(32191),d=n(18876),p=n(69621),f=n(91295),g=n(94643),m=o(n(20235)),w=n(73526),y=n(15633),v=n(93083),b=n(85186),_=n(3770),E=n(67386),x=n(50287);class C extends y.WalletSDKRelayAbstract{constructor(e){var t;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new l.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new l.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:r,connection:i}=this.subscribe();if(this._session=n,this.connection=i,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=null===(t=e.reloadOnDisconnect)||void 0===t||t,this.ui=r}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe((e=>{this.dappDefaultChain!==e&&(this.dappDefaultChain=e)})));const e=w.Session.load(this.storage)||new w.Session(this.storage).save(),t=new d.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(t.sessionConfig$.subscribe({next:e=>{this.onSessionConfigChanged(e)},error:()=>{var e;null===(e=this.diagnostic)||void 0===e||e.log(h.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(t.incomingEvent$.pipe((0,u.filter)((e=>"Web3Response"===e.event))).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(t.linked$.pipe((0,u.skip)(1),(0,u.tap)((e=>{var t;this.isLinked=e;const n=this.storage.getItem(y.LOCAL_STORAGE_ADDRESSES_KEY);if(e&&(this.session.linked=e),this.isUnlinkedErrorState=!1,n){const r=n.split(" "),i="true"===this.storage.getItem("IsStandaloneSigning");if(""!==r[0]&&!e&&this.session.linked&&!i){this.isUnlinkedErrorState=!0;const e=this.getSessionIdHash();null===(t=this.diagnostic)||void 0===t||t.log(h.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:e})}}}))).subscribe()),this.subscriptions.add(t.sessionConfig$.pipe((0,u.filter)((e=>!!e.metadata&&"1"===e.metadata.__destroyed))).subscribe((()=>{var e;const n=t.isDestroyed;return null===(e=this.diagnostic)||void 0===e||e.log(h.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:n,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()}))),this.subscriptions.add(t.sessionConfig$.pipe((0,u.filter)((e=>e.metadata&&void 0!==e.metadata.WalletUsername))).pipe((0,u.mergeMap)((t=>m.decrypt(t.metadata.WalletUsername,e.secret)))).subscribe({next:e=>{this.storage.setItem(y.WALLET_USER_NAME_KEY,e)},error:()=>{var e;null===(e=this.diagnostic)||void 0===e||e.log(h.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,u.filter)((e=>e.metadata&&void 0!==e.metadata.AppVersion))).pipe((0,u.mergeMap)((t=>m.decrypt(t.metadata.AppVersion,e.secret)))).subscribe({next:e=>{this.storage.setItem(y.APP_VERSION_KEY,e)},error:()=>{var e;null===(e=this.diagnostic)||void 0===e||e.log(h.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,u.filter)((e=>e.metadata&&void 0!==e.metadata.ChainId&&void 0!==e.metadata.JsonRpcUrl))).pipe((0,u.mergeMap)((t=>(0,l.zip)(m.decrypt(t.metadata.ChainId,e.secret),m.decrypt(t.metadata.JsonRpcUrl,e.secret))))).pipe((0,u.distinctUntilChanged)()).subscribe({next:([e,t])=>{this.chainCallback&&this.chainCallback(e,t)},error:()=>{var e;null===(e=this.diagnostic)||void 0===e||e.log(h.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,u.filter)((e=>e.metadata&&void 0!==e.metadata.EthereumAddress))).pipe((0,u.mergeMap)((t=>m.decrypt(t.metadata.EthereumAddress,e.secret)))).subscribe({next:e=>{this.accountsCallback&&this.accountsCallback([e]),C.accountRequestCallbackIds.size>0&&(Array.from(C.accountRequestCallbackIds.values()).forEach((t=>{const n=(0,x.Web3ResponseMessage)({id:t,response:(0,E.RequestEthereumAccountsResponse)([e])});this.invokeCallback(Object.assign(Object.assign({},n),{id:t}))})),C.accountRequestCallbackIds.clear())},error:()=>{var e;null===(e=this.diagnostic)||void 0===e||e.log(h.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,u.filter)((e=>e.metadata&&void 0!==e.metadata.AppSrc))).pipe((0,u.mergeMap)((t=>m.decrypt(t.metadata.AppSrc,e.secret)))).subscribe({next:e=>{this.ui.setAppSrc(e)},error:()=>{var e;null===(e=this.diagnostic)||void 0===e||e.log(h.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:t.connected$,chainId$:this.dappDefaultChainSubject});return t.connect(),{session:e,ui:n,connection:t}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,u.timeout)(1e3),(0,u.catchError)((e=>(0,l.of)(null)))).subscribe((e=>{var t,n,r;const i=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch(e){null===(t=this.diagnostic)||void 0===t||t.log(h.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}null===(n=this.diagnostic)||void 0===n||n.log(h.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const s=w.Session.load(this.storage);if((null==s?void 0:s.id)===this._session.id?this.storage.clear():s&&(null===(r=this.diagnostic)||void 0===r||r.log(h.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:w.Session.hash(s.id)})),this._reloadOnDisconnect)return void this.ui.reloadUI();this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new l.Subscription;const{session:o,ui:a,connection:c}=this.subscribe();this._session=o,this.connection=c,this.ui=a,i&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()}),(e=>{var t;null===(t=this.diagnostic)||void 0===t||t.log(h.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})}))}setAppInfo(e,t){this.appName=e,this.appLogoUrl=t}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,t){this.storage.setItem(e,t)}signEthereumMessage(e,t,n,r){return this.sendRequest({method:v.Web3Method.signEthereumMessage,params:{message:(0,g.hexStringFromBuffer)(e,!0),address:t,addPrefix:n,typedDataJson:r||null}})}ethereumAddressFromSignedMessage(e,t,n){return this.sendRequest({method:v.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,g.hexStringFromBuffer)(e,!0),signature:(0,g.hexStringFromBuffer)(t,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:v.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,g.bigIntStringFromBN)(e.weiValue),data:(0,g.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,g.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,g.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,g.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,g.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:v.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,g.bigIntStringFromBN)(e.weiValue),data:(0,g.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,g.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,g.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,g.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,g.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:v.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,g.hexStringFromBuffer)(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:v.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,g.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,t){return this.sendRequest({method:v.Web3Method.generic,params:{action:t,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let t=null;const n=(0,g.randomBytesHex)(8),r=r=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,r),null==t||t()};return{promise:new Promise(((i,s)=>{this.ui.isStandalone()||(t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:r,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,(e=>{if(null==t||t(),e.errorMessage)return s(new Error(e.errorMessage));i(e)})),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)})),cancel:r}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,t){var n;const r=(0,_.Web3RequestMessage)({id:e,request:t}),i=w.Session.load(this.storage);null===(n=this.diagnostic)||void 0===n||n.log(h.EVENTS.WEB3_REQUEST,{eventId:r.id,method:`relay::${r.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?w.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",r,!0).subscribe({next:e=>{var t;null===(t=this.diagnostic)||void 0===t||t.log(h.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:r.id,method:`relay::${r.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:i?w.Session.hash(i.id):"",isSessionMismatched:((null==i?void 0:i.id)!==this._session.id).toString()})},error:e=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:r.id,response:{method:r.request.method,errorMessage:e.message}}))}}))}publishWeb3RequestCanceledEvent(e){const t=(0,b.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",t,!1).subscribe())}publishEvent(e,t,n){const r=this.session.secret;return new l.Observable((e=>{m.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin})),r).then((t=>{e.next(t),e.complete()}))})).pipe((0,u.mergeMap)((t=>this.connection.publishEvent(e,t,n))))}handleIncomingEvent(e){try{this.subscriptions.add((0,l.from)(m.decrypt(e.data,this.session.secret)).pipe((0,u.map)((e=>JSON.parse(e)))).subscribe({next:e=>{const t=(0,x.isWeb3ResponseMessage)(e)?e:null;t&&this.handleWeb3ResponseMessage(t)},error:()=>{var e;null===(e=this.diagnostic)||void 0===e||e.log(h.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch(e){return}}handleWeb3ResponseMessage(e){var t;const{response:n}=e;if(null===(t=this.diagnostic)||void 0===t||t.log(h.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,E.isRequestEthereumAccountsResponse)(n))return C.accountRequestCallbackIds.forEach((t=>this.invokeCallback(Object.assign(Object.assign({},e),{id:t})))),void C.accountRequestCallbackIds.clear();this.invokeCallback(e)}handleErrorResponse(e,t,n,r){var i;const s=null!==(i=null==n?void 0:n.message)&&void 0!==i?i:(0,p.standardErrorMessage)(r);this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:e,response:{method:t,errorMessage:s,errorCode:r}}))}invokeCallback(e){const t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:v.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},t=(0,g.randomBytesHex)(8),n=n=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,e.method,n)};return{promise:new Promise(((r,i)=>{var s;this.relayEventManager.callbacks.set(t,(e=>{if(this.ui.hideRequestEthereumAccounts(),e.errorMessage)return i(new Error(e.errorMessage));r(e)}));const o=(null===(s=null===window||void 0===window?void 0:window.navigator)||void 0===s?void 0:s.userAgent)||null;if(o&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(o)){let e;try{e=(0,g.isInIFrame)()&&window.top?window.top.location:window.location}catch(t){e=window.location}e.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(e.href)}`}else{if(this.ui.inlineAccountsResponse()){const e=e=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:t,response:(0,E.RequestEthereumAccountsResponse)(e)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:e})}else{const e=p.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(e)})}C.accountRequestCallbackIds.add(t),this.ui.inlineAccountsResponse()||this.ui.isStandalone()||this.publishWeb3RequestEvent(t,e)}})),cancel:n}}selectProvider(e){const t={method:v.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,g.randomBytesHex)(8);return{cancel:e=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,e)},promise:new Promise(((t,r)=>{this.relayEventManager.callbacks.set(n,(e=>{if(e.errorMessage)return r(new Error(e.errorMessage));t(e)}));this.ui.selectProvider&&this.ui.selectProvider({onApprove:e=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:n,response:(0,E.SelectProviderResponse)(e)}))},onCancel:e=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:n,response:(0,E.SelectProviderResponse)(f.ProviderType.Unselected)}))},providerOptions:e})}))}}watchAsset(e,t,n,r,i,s){const o={method:v.Web3Method.watchAsset,params:{type:e,options:{address:t,symbol:n,decimals:r,image:i},chainId:s}};let a=null;const c=(0,g.randomBytesHex)(8),l=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,o.method,e),null==a||a()};this.ui.inlineWatchAsset()||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));return{cancel:l,promise:new Promise(((l,u)=>{this.relayEventManager.callbacks.set(c,(e=>{if(null==a||a(),e.errorMessage)return u(new Error(e.errorMessage));l(e)}));const h=e=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:c,response:(0,E.WatchAssetReponse)(!1)}))},d=()=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:c,response:(0,E.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:d,onCancel:h,type:e,address:t,symbol:n,decimals:r,image:i,chainId:s}),this.ui.inlineWatchAsset()||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,o)}))}}addEthereumChain(e,t,n,r,i,s){const o={method:v.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:t,blockExplorerUrls:r,chainName:i,iconUrls:n,nativeCurrency:s}};let a=null;const c=(0,g.randomBytesHex)(8),l=e=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,o.method,e),null==a||a()};this.ui.inlineAddEthereumChain(e)||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));return{promise:new Promise(((t,n)=>{this.relayEventManager.callbacks.set(c,(e=>{if(null==a||a(),e.errorMessage)return n(new Error(e.errorMessage));t(e)}));const r=e=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:c,response:(0,E.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},i=e=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:c,response:(0,E.AddEthereumChainResponse)({isApproved:!0,rpcUrl:e})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:r,onApprove:i,chainId:o.params.chainId,rpcUrls:o.params.rpcUrls,blockExplorerUrls:o.params.blockExplorerUrls,chainName:o.params.chainName,iconUrls:o.params.iconUrls,nativeCurrency:o.params.nativeCurrency}),this.ui.inlineAddEthereumChain(e)||this.ui.isStandalone()||this.publishWeb3RequestEvent(c,o)})),cancel:l}}switchEthereumChain(e,t){const n={method:v.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:t})},r=(0,g.randomBytesHex)(8);return{promise:new Promise(((t,i)=>{this.relayEventManager.callbacks.set(r,(e=>(0,E.isErrorResponse)(e)&&e.errorCode?i(p.standardErrors.provider.custom({code:e.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):e.errorMessage?i(new Error(e.errorMessage)):void t(e)));this.ui.switchEthereumChain({onCancel:t=>{var n;if(t){const i=null!==(n=(0,p.getErrorCode)(t))&&void 0!==n?n:p.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(r,v.Web3Method.switchEthereumChain,t instanceof Error?t:p.standardErrors.provider.unsupportedChain(e),i)}else this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:r,response:(0,E.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},onApprove:e=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:r,response:(0,E.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:e})}))},chainId:n.params.chainId,address:n.params.address}),this.ui.inlineSwitchEthereumChain()||this.ui.isStandalone()||this.publishWeb3RequestEvent(r,n)})),cancel:e=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,n.method,e)}}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return w.Session.hash(this._session.id)}sendRequestStandalone(e,t){const n=n=>{this.handleErrorResponse(e,t.method,n)},r=t=>{this.handleWeb3ResponseMessage((0,x.Web3ResponseMessage)({id:e,response:t}))};switch(t.method){case v.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:t,onSuccess:r,onCancel:n});break;case v.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:t,onSuccess:r,onCancel:n});break;case v.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:t,onSuccess:r,onCancel:n});break;case v.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:t,onSuccess:r});break;default:n()}}onSessionConfigChanged(e){}}C.accountRequestCallbackIds=new Set,s([c.default],C.prototype,"resetAndReload",null),s([c.default],C.prototype,"handleIncomingEvent",null),t.WalletSDKRelay=C},15633:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletSDKRelayAbstract=t.APP_VERSION_KEY=t.LOCAL_STORAGE_ADDRESSES_KEY=t.WALLET_USER_NAME_KEY=void 0;const r=n(69621);t.WALLET_USER_NAME_KEY="walletUsername",t.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",t.APP_VERSION_KEY="AppVersion";t.WalletSDKRelayAbstract=class{async makeEthereumJSONRPCRequest(e,t){if(!t)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(t,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{if(!t)throw r.standardErrors.rpc.parse({});const n=t,{error:i}=n;if(i)throw(0,r.serializeError)(i,e.method);return n}))}}},27472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletSDKRelayEventManager=void 0;const r=n(94643);t.WalletSDKRelayEventManager=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,t=(0,r.prepend0x)(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}},93083:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))},85186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Web3RequestCanceledMessage=void 0;const r=n(85813);t.Web3RequestCanceledMessage=function(e){return{type:r.RelayMessageType.WEB3_REQUEST_CANCELED,id:e}}},3770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Web3RequestMessage=void 0;const r=n(85813);t.Web3RequestMessage=function(e){return Object.assign({type:r.RelayMessageType.WEB3_REQUEST},e)}},67386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumAddressFromSignedMessageResponse=t.SubmitEthereumTransactionResponse=t.SignEthereumTransactionResponse=t.SignEthereumMessageResponse=t.isRequestEthereumAccountsResponse=t.SelectProviderResponse=t.WatchAssetReponse=t.RequestEthereumAccountsResponse=t.SwitchEthereumChainResponse=t.AddEthereumChainResponse=t.isErrorResponse=void 0;const r=n(93083);t.isErrorResponse=function(e){var t,n;return void 0!==(null===(t=e)||void 0===t?void 0:t.method)&&void 0!==(null===(n=e)||void 0===n?void 0:n.errorMessage)},t.AddEthereumChainResponse=function(e){return{method:r.Web3Method.addEthereumChain,result:e}},t.SwitchEthereumChainResponse=function(e){return{method:r.Web3Method.switchEthereumChain,result:e}},t.RequestEthereumAccountsResponse=function(e){return{method:r.Web3Method.requestEthereumAccounts,result:e}},t.WatchAssetReponse=function(e){return{method:r.Web3Method.watchAsset,result:e}},t.SelectProviderResponse=function(e){return{method:r.Web3Method.selectProvider,result:e}},t.isRequestEthereumAccountsResponse=function(e){return e&&e.method===r.Web3Method.requestEthereumAccounts},t.SignEthereumMessageResponse=function(e){return{method:r.Web3Method.signEthereumMessage,result:e}},t.SignEthereumTransactionResponse=function(e){return{method:r.Web3Method.signEthereumTransaction,result:e}},t.SubmitEthereumTransactionResponse=function(e){return{method:r.Web3Method.submitEthereumTransaction,result:e}},t.EthereumAddressFromSignedMessageResponse=function(e){return{method:r.Web3Method.ethereumAddressFromSignedMessage,result:e}}},50287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWeb3ResponseMessage=t.Web3ResponseMessage=void 0;const r=n(85813);t.Web3ResponseMessage=function(e){return Object.assign({type:r.RelayMessageType.WEB3_RESPONSE},e)},t.isWeb3ResponseMessage=function(e){return e&&e.type===r.RelayMessageType.WEB3_RESPONSE}},20235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;const r=n(94643);t.encrypt=async function(e,t){if(64!==t.length)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,r.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(e)),a=o.slice(o.byteLength-16),c=o.slice(0,o.byteLength-16),l=new Uint8Array(a),u=new Uint8Array(c),h=new Uint8Array([...n,...l,...u]);return(0,r.uint8ArrayToHex)(h)},t.decrypt=function(e,t){if(64!==t.length)throw Error("secret must be 256 bits");return new Promise(((n,i)=>{!async function(){const s=await crypto.subtle.importKey("raw",(0,r.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,r.hexStringToUint8Array)(e),a=o.slice(0,12),c=o.slice(12,28),l=o.slice(28),u=new Uint8Array([...l,...c]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const e=await window.crypto.subtle.decrypt(h,s,u),t=new TextDecoder;n(t.decode(e))}catch(e){i(e)}}()}))}},91295:(e,t)=>{"use strict";function n(){return e=>e}Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0,t.OpaqueType=n,t.HexString=e=>e,t.AddressString=e=>e,t.BigIntString=e=>e,t.IntNumber=function(e){return Math.floor(e)},t.RegExpString=e=>e,function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""}(t.ProviderType||(t.ProviderType={}))},94643:function(e,t,n){"use strict";var r=n(48764).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isInIFrame=t.createQrUrl=t.getFavicon=t.range=t.isBigNumber=t.ensureParsedJSONObject=t.ensureBN=t.ensureRegExpString=t.ensureIntNumber=t.ensureBuffer=t.ensureAddressString=t.ensureEvenLengthHexString=t.ensureHexString=t.isHexString=t.prepend0x=t.strip0x=t.has0xPrefix=t.hexStringFromIntNumber=t.intNumberFromHexString=t.bigIntStringFromBN=t.hexStringFromBuffer=t.hexStringToUint8Array=t.uint8ArrayToHex=t.randomBytesHex=void 0;const s=i(n(13550)),o=n(93430),a=n(69621),c=n(91295),l=/^[0-9]*$/,u=/^[a-f0-9]*$/;function h(e){return[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}function d(e){return e.startsWith("0x")||e.startsWith("0X")}function p(e){return d(e)?e.slice(2):e}function f(e){return d(e)?"0x"+e.slice(2):"0x"+e}function g(e){if("string"!=typeof e)return!1;const t=p(e).toLowerCase();return u.test(t)}function m(e,t=!1){if("string"==typeof e){const n=p(e).toLowerCase();if(u.test(n))return(0,c.HexString)(t?"0x"+n:n)}throw a.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}function w(e,t=!1){let n=m(e,!1);return n.length%2==1&&(n=(0,c.HexString)("0"+n)),t?(0,c.HexString)("0x"+n):n}function y(e){if("number"==typeof e&&Number.isInteger(e))return(0,c.IntNumber)(e);if("string"==typeof e){if(l.test(e))return(0,c.IntNumber)(Number(e));if(g(e))return(0,c.IntNumber)(new s.default(w(e,!1),16).toNumber())}throw a.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}function v(e){if(null==e||"function"!=typeof e.constructor)return!1;const{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}t.randomBytesHex=function(e){return h(crypto.getRandomValues(new Uint8Array(e)))},t.uint8ArrayToHex=h,t.hexStringToUint8Array=function(e){return new Uint8Array(e.match(/.{1,2}/g).map((e=>parseInt(e,16))))},t.hexStringFromBuffer=function(e,t=!1){const n=e.toString("hex");return(0,c.HexString)(t?"0x"+n:n)},t.bigIntStringFromBN=function(e){return(0,c.BigIntString)(e.toString(10))},t.intNumberFromHexString=function(e){return(0,c.IntNumber)(new s.default(w(e,!1),16).toNumber())},t.hexStringFromIntNumber=function(e){return(0,c.HexString)("0x"+new s.default(e).toString(16))},t.has0xPrefix=d,t.strip0x=p,t.prepend0x=f,t.isHexString=g,t.ensureHexString=m,t.ensureEvenLengthHexString=w,t.ensureAddressString=function(e){if("string"==typeof e){const t=p(e).toLowerCase();if(g(t)&&40===t.length)return(0,c.AddressString)(f(t))}throw a.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)},t.ensureBuffer=function(e){if(r.isBuffer(e))return e;if("string"==typeof e){if(g(e)){const t=w(e,!1);return r.from(t,"hex")}return r.from(e,"utf8")}throw a.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)},t.ensureIntNumber=y,t.ensureRegExpString=function(e){if(e instanceof RegExp)return(0,c.RegExpString)(e.toString());throw a.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)},t.ensureBN=function(e){if(null!==e&&(s.default.isBN(e)||v(e)))return new s.default(e.toString(10),10);if("number"==typeof e)return new s.default(y(e));if("string"==typeof e){if(l.test(e))return new s.default(e,10);if(g(e))return new s.default(w(e,!1),16)}throw a.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)},t.ensureParsedJSONObject=function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw a.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)},t.isBigNumber=v,t.range=function(e,t){return Array.from({length:t-e},((t,n)=>e+n))},t.getFavicon=function(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:n}=document.location,r=e?e.getAttribute("href"):null;return!r||r.startsWith("javascript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?t+r:`${t}//${n}${r}`},t.createQrUrl=function(e,t,n,r,i,s){const a=r?"parent-id":"id";return`${n}/#/link?${(0,o.stringify)({[a]:e,secret:t,server:n,v:i,chainId:s})}`},t.isInIFrame=function(){try{return null!==window.frameElement}catch(e){return!1}}},36089:(e,t,n)=>{var r=n(48764).Buffer;const i=n(32518),s=n(13550);function o(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function a(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function c(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function l(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function u(e){var t=typeof e;if("string"===t)return i.isHexString(e)?new s(i.stripHexPrefix(e),16):new s(e,10);if("number"===t)return new s(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function h(e,t){var n,o,d,p;if("address"===e)return h("uint160",u(t));if("bool"===e)return h("uint8",t?1:0);if("string"===e)return h("bytes",new r(t,"utf8"));if(function(e){return e.lastIndexOf("]")===e.length-1}(e)){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(n=l(e))&&0!==n&&t.length>n)throw new Error("Elements exceed array size: "+n);for(p in d=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)d.push(h(e,t[p]));if("dynamic"===n){var f=h("uint256",t.length);d.unshift(f)}return r.concat(d)}if("bytes"===e)return t=new r(t),d=r.concat([h("uint256",t.length),t]),t.length%32!=0&&(d=r.concat([d,i.zeros(32-t.length%32)])),d;if(e.startsWith("bytes")){if((n=a(e))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return i.setLengthRight(t,32)}if(e.startsWith("uint")){if((n=a(e))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((o=u(t)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+o.bitLength());if(o<0)throw new Error("Supplied uint is negative");return o.toArrayLike(r,"be",32)}if(e.startsWith("int")){if((n=a(e))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((o=u(t)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+o.bitLength());return o.toTwos(256).toArrayLike(r,"be",32)}if(e.startsWith("ufixed")){if(n=c(e),(o=u(t))<0)throw new Error("Supplied ufixed is negative");return h("uint256",o.mul(new s(2).pow(new s(n[1]))))}if(e.startsWith("fixed"))return n=c(e),h("int256",u(t).mul(new s(2).pow(new s(n[1]))));throw new Error("Unsupported or invalid type: "+e)}function d(e){return"string"===e||"bytes"===e||"dynamic"===l(e)}function p(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var n,s,c=[],l=0;l<e.length;l++){var h=o(e[l]),d=t[l];if("bytes"===h)c.push(d);else if("string"===h)c.push(new r(d,"utf8"));else if("bool"===h)c.push(new r(d?"01":"00","hex"));else if("address"===h)c.push(i.setLength(d,20));else if(h.startsWith("bytes")){if((n=a(h))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);c.push(i.setLengthRight(d,n))}else if(h.startsWith("uint")){if((n=a(h))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((s=u(d)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+s.bitLength());c.push(s.toArrayLike(r,"be",n/8))}else{if(!h.startsWith("int"))throw new Error("Unsupported or invalid type: "+h);if((n=a(h))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((s=u(d)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+s.bitLength());c.push(s.toTwos(n).toArrayLike(r,"be",n/8))}}return r.concat(c)}e.exports={rawEncode:function(e,t){var n=[],i=[],s=32*e.length;for(var a in e){var c=o(e[a]),l=h(c,t[a]);d(c)?(n.push(h("uint256",s)),i.push(l),s+=l.length):n.push(l)}return r.concat(n.concat(i))},solidityPack:p,soliditySHA3:function(e,t){return i.keccak(p(e,t))}}},14497:(e,t,n)=>{var r=n(48764).Buffer;const i=n(32518),s=n(36089),o={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},a={encodeData(e,t,n,o=!0){const a=["bytes32"],c=[this.hashType(e,n)];if(o){const l=(e,t,a)=>{if(void 0!==n[t])return["bytes32",null==a?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,a,n,o))];if(void 0===a)throw new Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(a)];if("string"===t)return"string"==typeof a&&(a=r.from(a,"utf8")),["bytes32",i.keccak(a)];if(t.lastIndexOf("]")===t.length-1){const n=t.slice(0,t.lastIndexOf("[")),r=a.map((t=>l(e,n,t)));return["bytes32",i.keccak(s.rawEncode(r.map((([e])=>e)),r.map((([,e])=>e))))]}return[t,a]};for(const r of n[e]){const[e,n]=l(r.name,r.type,t[r.name]);a.push(e),c.push(n)}}else for(const s of n[e]){let e=t[s.name];if(void 0!==e)if("bytes"===s.type)a.push("bytes32"),e=i.keccak(e),c.push(e);else if("string"===s.type)a.push("bytes32"),"string"==typeof e&&(e=r.from(e,"utf8")),e=i.keccak(e),c.push(e);else if(void 0!==n[s.type])a.push("bytes32"),e=i.keccak(this.encodeData(s.type,e,n,o)),c.push(e);else{if(s.type.lastIndexOf("]")===s.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");a.push(s.type),c.push(e)}}return s.rawEncode(a,c)},encodeType(e,t){let n="",r=this.findTypeDependencies(e,t).filter((t=>t!==e));r=[e].concat(r.sort());for(const e of r){if(!t[e])throw new Error("No type definition specified: "+e);n+=e+"("+t[e].map((({name:e,type:t})=>t+" "+e)).join(",")+")"}return n},findTypeDependencies(e,t,n=[]){if(e=e.match(/^\w*/)[0],n.includes(e)||void 0===t[e])return n;n.push(e);for(const r of t[e])for(const e of this.findTypeDependencies(r.type,t,n))!n.includes(e)&&n.push(e);return n},hashStruct(e,t,n,r=!0){return i.keccak(this.encodeData(e,t,n,r))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const n in o.properties)e[n]&&(t[n]=e[n]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const n=this.sanitizeData(e),s=[r.from("1901","hex")];return s.push(this.hashStruct("EIP712Domain",n.domain,n.types,t)),"EIP712Domain"!==n.primaryType&&s.push(this.hashStruct(n.primaryType,n.message,n.types,t)),i.keccak(r.concat(s))}};e.exports={TYPED_MESSAGE_SCHEMA:o,TypedDataUtils:a,hashForSignTypedDataLegacy:function(e){return function(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;const n=e.map((function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value})),r=e.map((function(e){return e.type})),o=e.map((function(e){if(!e.name)throw t;return e.type+" "+e.name}));return s.soliditySHA3(["bytes32","bytes32"],[s.soliditySHA3(new Array(e.length).fill("string"),o),s.soliditySHA3(r,n)])}(e.data)},hashForSignTypedData_v3:function(e){return a.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return a.hash(e.data)}}},32518:(e,t,n)=>{var r=n(48764).Buffer;const i=n(95811),s=n(13550);function o(e){return r.allocUnsafe(e).fill(0)}function a(e,t,n){const r=o(t);return e=c(e),n?e.length<t?(e.copy(r),r):e.slice(0,t):e.length<t?(e.copy(r,t-e.length),r):e.slice(-t)}function c(e){if(!r.isBuffer(e))if(Array.isArray(e))e=r.from(e);else if("string"==typeof e)e=l(e)?r.from((t=u(e)).length%2?"0"+t:t,"hex"):r.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=r.allocUnsafe(0);else if(s.isBN(e))e=e.toArrayLike(r);else{if(!e.toArray)throw new Error("invalid type");e=r.from(e.toArray())}var t;return e}function l(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function u(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}e.exports={zeros:o,setLength:a,setLengthRight:function(e,t){return a(e,t,!0)},isHexString:l,stripHexPrefix:u,toBuffer:c,bufferToHex:function(e){return"0x"+(e=c(e)).toString("hex")},keccak:function(e,t){return e=c(e),t||(t=256),i("keccak"+t).update(e).digest()}}},7713:e=>{function t(e){this.mode=r.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var i=[],s=this.data.charCodeAt(t);s>65536?(i[0]=240|(1835008&s)>>>18,i[1]=128|(258048&s)>>>12,i[2]=128|(4032&s)>>>6,i[3]=128|63&s):s>2048?(i[0]=224|(61440&s)>>>12,i[1]=128|(4032&s)>>>6,i[2]=128|63&s):s>128?(i[0]=192|(1984&s)>>>6,i[1]=128|63&s):i[0]=s,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function n(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},n.prototype={addData:function(e){var n=new t(e);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[r][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=m.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},createMovieClip:function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var i=0;i<this.modules.length;i++)for(var s=1*i,o=0;o<this.modules[i].length;o++){var a=1*o;this.modules[i][o]&&(r.beginFill(0,100),r.moveTo(a,s),r.lineTo(a+1,s),r.lineTo(a+1,s+1),r.lineTo(a,s+1),r.endFill())}return r},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=m.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n];if(null==this.modules[r][i])for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)this.modules[r+s][i+o]=-2==s||2==s||-2==o||2==o||0==s&&0==o}},setupTypeNumber:function(e){for(var t=m.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=m.getBCHTypeInfo(n),i=0;i<15;i++){var s=!e&&1==(r>>i&1);i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(i=0;i<15;i++){s=!e&&1==(r>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var a=0;a<2;a++)if(null==this.modules[r][o-a]){var c=!1;s<e.length&&(c=1==(e[s]>>>i&1)),m.getMask(t,r,o-a)&&(c=!c),this.modules[r][o-a]=c,-1==--i&&(s++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(e,t,r){for(var i=b.getRSBlocks(e,t),s=new _,o=0;o<r.length;o++){var a=r[o];s.put(a.mode,4),s.put(a.getLength(),m.getLengthInBits(a.mode,e)),a.write(s)}var c=0;for(o=0;o<i.length;o++)c+=i[o].dataCount;if(s.getLengthInBits()>8*c)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*c+")");for(s.getLengthInBits()+4<=8*c&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*c||(s.put(n.PAD0,8),s.getLengthInBits()>=8*c));)s.put(n.PAD1,8);return n.createBytes(s,i)},n.createBytes=function(e,t){for(var n=0,r=0,i=0,s=new Array(t.length),o=new Array(t.length),a=0;a<t.length;a++){var c=t[a].dataCount,l=t[a].totalCount-c;r=Math.max(r,c),i=Math.max(i,l),s[a]=new Array(c);for(var u=0;u<s[a].length;u++)s[a][u]=255&e.buffer[u+n];n+=c;var h=m.getErrorCorrectPolynomial(l),d=new v(s[a],h.getLength()-1).mod(h);o[a]=new Array(h.getLength()-1);for(u=0;u<o[a].length;u++){var p=u+d.getLength()-o[a].length;o[a][u]=p>=0?d.get(p):0}}var f=0;for(u=0;u<t.length;u++)f+=t[u].totalCount;var g=new Array(f),w=0;for(u=0;u<r;u++)for(a=0;a<t.length;a++)u<s[a].length&&(g[w++]=s[a][u]);for(u=0;u<i;u++)for(a=0;a<t.length;a++)u<o[a].length&&(g[w++]=o[a][u]);return g};for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i=1,s=0,o=3,a=2,c=0,l=1,u=2,h=3,d=4,p=5,f=6,g=7,m={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;m.getBCHDigit(t)-m.getBCHDigit(m.G15)>=0;)t^=m.G15<<m.getBCHDigit(t)-m.getBCHDigit(m.G15);return(e<<10|t)^m.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;m.getBCHDigit(t)-m.getBCHDigit(m.G18)>=0;)t^=m.G18<<m.getBCHDigit(t)-m.getBCHDigit(m.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return m.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case c:return(t+n)%2==0;case l:return t%2==0;case u:return n%3==0;case h:return(t+n)%3==0;case d:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case p:return t*n%2+t*n%3==0;case f:return(t*n%2+t*n%3)%2==0;case g:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new v([1],0),n=0;n<e;n++)t=t.multiply(new v([1,w.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var s=0,o=e.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||t<=r+a))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||0==a&&0==c||o==e.isDark(r+a,i+c)&&s++;s>5&&(n+=3+s-5)}for(r=0;r<t-1;r++)for(i=0;i<t-1;i++){var l=0;e.isDark(r,i)&&l++,e.isDark(r+1,i)&&l++,e.isDark(r,i+1)&&l++,e.isDark(r+1,i+1)&&l++,0!=l&&4!=l||(n+=3)}for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);var u=0;for(i=0;i<t;i++)for(r=0;r<t;r++)e.isDark(r,i)&&u++;return n+=10*(Math.abs(100*u/t/t-50)/5)}},w={glog:function(e){if(e<1)throw new Error("glog("+e+")");return w.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return w.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},y=0;y<8;y++)w.EXP_TABLE[y]=1<<y;for(y=8;y<256;y++)w.EXP_TABLE[y]=w.EXP_TABLE[y-4]^w.EXP_TABLE[y-5]^w.EXP_TABLE[y-6]^w.EXP_TABLE[y-8];for(y=0;y<255;y++)w.LOG_TABLE[w.EXP_TABLE[y]]=y;function v(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}function b(e,t){this.totalCount=e,this.dataCount=t}function _(){this.buffer=[],this.length=0}v.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=w.gexp(w.glog(this.get(n))+w.glog(e.get(r)));return new v(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=w.glog(this.get(0))-w.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(r=0;r<e.getLength();r++)n[r]^=w.gexp(w.glog(e.get(r))+t);return new v(n,0).mod(e)}},b.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b.getRSBlocks=function(e,t){var n=b.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,i=[],s=0;s<r;s++)for(var o=n[3*s+0],a=n[3*s+1],c=n[3*s+2],l=0;l<o;l++)i.push(new b(a,c));return i},b.getRsBlockTable=function(e,t){switch(t){case i:return b.RS_BLOCK_TABLE[4*(e-1)+0];case s:return b.RS_BLOCK_TABLE[4*(e-1)+1];case o:return b.RS_BLOCK_TABLE[4*(e-1)+2];case a:return b.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},_.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var E=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function x(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},"string"==typeof e&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var r=this.options.content,c=function(e,t){for(var n=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),r=1,i=0,s=0,o=E.length;s<=o;s++){var a=E[s];if(!a)throw new Error("Content too long: expected "+i+" but got "+n);switch(t){case"L":i=a[0];break;case"M":i=a[1];break;case"Q":i=a[2];break;case"H":i=a[3];break;default:throw new Error("Unknwon error correction level: "+t)}if(n<=i)break;r++}if(r>E.length)throw new Error("Content too long");return r}(r,this.options.ecl),l=function(e){switch(e){case"L":return i;case"M":return s;case"Q":return o;case"H":return a;default:throw new Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new n(c,l),this.qrcode.addData(r),this.qrcode.make()}x.prototype.svg=function(e){var t=this.options||{},n=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var r=void 0===t.pretty||!!t.pretty,i=r?"  ":"",s=r?"\r\n":"",o=t.width,a=t.height,c=n.length,l=o/(c+2*t.padding),u=a/(c+2*t.padding),h=void 0!==t.join&&!!t.join,d=void 0!==t.swap&&!!t.swap,p=void 0===t.xmlDeclaration||!!t.xmlDeclaration,f=void 0!==t.predefined&&!!t.predefined,g=f?i+'<defs><path id="qrmodule" d="M0 0 h'+u+" v"+l+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+s:"",m=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+s,w="",y="",v=0;v<c;v++)for(var b=0;b<c;b++){if(n[b][v]){var _=b*l+t.padding*l,E=v*u+t.padding*u;if(d){var x=_;_=E,E=x}if(h){var C=l+_,I=u+E;_=Number.isInteger(_)?Number(_):_.toFixed(2),E=Number.isInteger(E)?Number(E):E.toFixed(2),C=Number.isInteger(C)?Number(C):C.toFixed(2),y+="M"+_+","+E+" V"+(I=Number.isInteger(I)?Number(I):I.toFixed(2))+" H"+C+" V"+E+" H"+_+" Z "}else w+=f?i+'<use x="'+_.toString()+'" y="'+E.toString()+'" href="#qrmodule" />'+s:i+'<rect x="'+_.toString()+'" y="'+E.toString()+'" width="'+l+'" height="'+u+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+s}}h&&(w=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+y+'" />');let S="";if(void 0!==this.options.image&&this.options.image.svg){const e=o*this.options.image.width/100,t=a*this.options.image.height/100;S+=`<svg x="${o/2-e/2}" y="${a/2-t/2}" width="${e}" height="${t}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,S+=this.options.image.svg+s,S+="</svg>"}var O="";switch(e.container){case"svg":p&&(O+='<?xml version="1.0" standalone="yes"?>'+s),O+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,O+=g+m+w,O+=S,O+="</svg>";break;case"svg-viewbox":p&&(O+='<?xml version="1.0" standalone="yes"?>'+s),O+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,O+=g+m+w,O+=S,O+="</svg>";break;case"g":O+='<g width="'+o+'" height="'+a+'">'+s,O+=g+m+w,O+=S,O+="</g>";break;default:O+=(g+m+w+S).replace(/^\s+/,"")}return O},e.exports=x},43604:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0,t.LIB_VERSION="3.7.2"},56232:(e,t,n)=>{"use strict";n.r(t),n.d(t,{detectEnv:()=>v,detectOS:()=>b,formatIOSMobile:()=>H,formatMobileRegistry:()=>X,formatMobileRegistryEntry:()=>J,getClientMeta:()=>U,getCrypto:()=>L,getCryptoOrThrow:()=>R,getDappRegistryUrl:()=>Q,getDocument:()=>P,getDocumentOrThrow:()=>k,getFromWindow:()=>S,getFromWindowOrThrow:()=>O,getLocal:()=>q,getLocalStorage:()=>j,getLocalStorageOrThrow:()=>D,getLocation:()=>T,getLocationOrThrow:()=>M,getMobileLinkRegistry:()=>G,getMobileRegistryEntry:()=>K,getNavigator:()=>N,getNavigatorOrThrow:()=>A,getWalletRegistryUrl:()=>Y,isAndroid:()=>_,isBrowser:()=>I,isIOS:()=>E,isMobile:()=>x,isNode:()=>C,mobileLinkChoiceKey:()=>F,removeLocal:()=>W,safeJsonParse:()=>B,safeJsonStringify:()=>$,saveMobileLinkInfo:()=>V,setLocal:()=>z});var r=n(68364),i=n(40957),s=n(34155),o=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r},a=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},c=function(e){this.version=e,this.type="node",this.name="node",this.os=s.platform},l=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},h=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},d=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,p=3,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],g=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function m(e){return e?y(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new h:"undefined"!=typeof navigator?y(navigator.userAgent):function(){var e=void 0!==s&&s.version;return e?new c(s.version.slice(1)):null}()}function w(e){return""!==e&&f.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]}),!1)}function y(e){var t=w(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new u;var i=r[1]&&r[1].split(/[._]/).slice(0,3);i?i.length<p&&(i=o(i,function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(p-i.length))):i=[];var s=i.join("."),c=function(e){for(var t=0,n=g.length;t<n;t++){var r=g[t],i=r[0];if(r[1].exec(e))return i}return null}(e),h=d.exec(e);return h&&h[1]?new l(n,s,c,h[1]):new a(n,s,c)}function v(e){return m(e)}function b(){const e=v();return e&&e.os?e.os:void 0}function _(){const e=b();return!!e&&e.toLowerCase().includes("android")}function E(){const e=b();return!!e&&(e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}function x(){return!!b()&&(_()||E())}function C(){const e=v();return!(!e||!e.name)&&"node"===e.name.toLowerCase()}function I(){return!C()&&!!N()}const S=i.getFromWindow,O=i.getFromWindowOrThrow,k=i.getDocumentOrThrow,P=i.getDocument,A=i.getNavigatorOrThrow,N=i.getNavigator,M=i.getLocationOrThrow,T=i.getLocation,R=i.getCryptoOrThrow,L=i.getCrypto,D=i.getLocalStorageOrThrow,j=i.getLocalStorage;function U(){return r.D()}const B=function(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return JSON.parse(e)}catch(t){return e}},$=function(e){return"string"==typeof e?e:JSON.stringify(e)};function z(e,t){const n=$(t),r=j();r&&r.setItem(e,n)}function q(e){let t=null,n=null;const r=j();return r&&(n=r.getItem(e)),t=n?B(n):n,t}function W(e){const t=j();t&&t.removeItem(e)}const F="WALLETCONNECT_DEEPLINK_CHOICE";function H(e,t){const n=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${n}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""}function V(e){const t=e.href.split("?")[0];z(F,Object.assign(Object.assign({},e),{href:t}))}function K(e,t){return e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))[0]}function G(e,t){let n=e;return t&&(n=t.map((t=>K(e,t))).filter(Boolean)),n}const Z="https://registry.walletconnect.com";function Y(){return Z+"/api/v2/wallets"}function Q(){return Z+"/api/v2/dapps"}function J(e,t="mobile"){var n;return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:null!==(n=e.image_url.sm)&&void 0!==n?n:"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function X(e,t="mobile"){return Object.values(e).filter((e=>!!e[t].universal||!!e[t].native)).map((e=>J(e,t)))}},40957:(e,t)=>{"use strict";function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},68364:(e,t,n)=>{"use strict";t.D=void 0;const r=n(40957);t.D=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(e){return null}function n(...t){const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const r=n[e],i=["itemprop","property","name"].map((e=>r.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(i.length&&i){const e=r.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},40926:(e,t,n)=>{"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},88618:(e,t,n)=>{"use strict";var r=n(34155);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==r&&void 0!==r.versions&&void 0!==r.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=s,t.isBrowser=function(){return!i()&&!s()}},1468:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34308);r.__exportStar(n(40926),t),r.__exportStar(n(88618),t)},34308:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>_,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>S,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>p,__extends:()=>i,__generator:()=>h,__importDefault:()=>C,__importStar:()=>x,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>w,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(e){u(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},21180:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EthereumProvider:()=>ja,OPTIONAL_EVENTS:()=>Ca,OPTIONAL_METHODS:()=>Ea,REQUIRED_EVENTS:()=>xa,REQUIRED_METHODS:()=>_a,default:()=>Da});var r=n(17187),i=n.n(r),s=n(15501),o=n(512),a=n(31416),c=n(73294),l=n(57664),u=n(37466),h=n(66736),d=n(62873),p=n(65755);n(87283),n(61882);const f={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};n(34155);Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const g={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function m(e,t){const{message:n,code:r}=g[e];return{message:t?`${n} ${t}`:n,code:r}}function w(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}var y=n(88626),v=n(24678);const b=e=>JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString()+"n":t)),_=e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,((e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))};function E(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return _(e)}catch(t){return e}}function x(e){return"string"==typeof e?e:b(e)||""}var C=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>t+e;let r;return e.dbName&&e.storeName&&(r=(0,v.MT)(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await(0,v.U2)(n(e),r)>"u"),getItem:async e=>await(0,v.U2)(n(e),r)??null,setItem:(e,t)=>(0,v.t8)(n(e),t,r),removeItem:e=>(0,v.IV)(n(e),r),getKeys:()=>(0,v.XP)(r),clear:()=>(0,v.ZH)(r)}};class I{constructor(){this.indexedDb=(0,y.o6)({driver:C({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e=>[e.key,e.value]))}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,x(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},O={exports:{}};function k(e){var t;return[e[0],E(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof S<"u"&&S.localStorage?O.exports=S.localStorage:typeof window<"u"&&window.localStorage?O.exports=window.localStorage:O.exports=new t}();class P{constructor(){this.localStorage=O.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return E(t)}async setItem(e,t){this.localStorage.setItem(e,x(t))}async removeItem(e){this.localStorage.removeItem(e)}}const A=async(e,t)=>{t.length&&t.forEach((async t=>{await e.removeItem(t)}))};class N{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new P;this.storage=e;try{(async(e,t,n)=>{const r="wc_storage_version",i=await t.getItem(r);if(i&&i>=1)return void n(t);const s=await e.getKeys();if(!s.length)return void n(t);const o=[];for(;s.length;){const n=s.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await e.getItem(n);await t.setItem(n,r),o.push(n)}}await t.setItem(r,1),n(t),A(e,o)})(e,new I,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise((e=>{const t=setInterval((()=>{this.initialized&&(clearInterval(t),e())}),20)}))}}var M=n(90772),T=n(9107),R=n(38200);class L extends R.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class D extends R.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class j{constructor(e,t){this.logger=e,this.core=t}}class U extends R.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class B extends R.q{constructor(e){super()}}class ${constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}class z extends R.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class q extends R.q{constructor(e,t){super(),this.core=e,this.logger=t}}class W{constructor(e,t){this.projectId=e,this.logger=t}}var F=n(31050);const H=".",V="base64url",K="utf8",G="utf8",Z=":",Y="did",Q="key",J="base58btc",X="z",ee="K36";var te=n(20605),ne=n(92263),re=n(52217);function ie(e){return(0,ne.B)((0,re.m)(x(e),K),V)}function se(e){const t=(0,re.m)(ee,J),n=X+(0,ne.B)((0,te.z)([t,e]),J);return[Y,Q,n].join(Z)}function oe(e=(0,a.randomBytes)(32)){return F._w(e)}async function ae(e,t,n,r,i=(0,h.fromMiliseconds)(Date.now())){const s={alg:"EdDSA",typ:"JWT"},o={iss:se(r.publicKey),sub:e,aud:t,iat:i,exp:i+n},a=(c={header:s,payload:o},(0,re.m)([ie(c.header),ie(c.payload)].join(H),G));var c;return function(e){return[ie(e.header),ie(e.payload),(t=e.signature,(0,ne.B)(t,V))].join(H);var t}({header:s,payload:o,signature:F.Xx(r.secretKey,a)})}n(43014);var ce=n(43631),le=n(33684),ue=n(34155);const he="base10",de="base16",pe="base64pad",fe="utf8",ge=0,me=1,we=0,ye=1,ve=12,be=32;function _e(){const e=(0,a.randomBytes)(be);return(0,u.BB)(e,de)}function Ee(e){const t=(0,c.vp)((0,u.mL)(e,fe));return(0,u.BB)(t,de)}function xe(e){return Number((0,u.BB)(e,he))}function Ce(e){const t=function(e){return(0,u.mL)(`${e}`,he)}(typeof e.type<"u"?e.type:ge);if(xe(t)===me&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?(0,u.mL)(e.senderPublicKey,de):void 0,r=typeof e.iv<"u"?(0,u.mL)(e.iv,de):(0,a.randomBytes)(ve);return function(e){if(xe(e.type)===me){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,u.BB)((0,u.zo)([e.type,e.senderPublicKey,e.iv,e.sealed]),pe)}return(0,u.BB)((0,u.zo)([e.type,e.iv,e.sealed]),pe)}({type:t,sealed:new s.OK((0,u.mL)(e.symKey,de)).seal(r,(0,u.mL)(e.message,fe)),iv:r,senderPublicKey:n})}function Ie(e){const t=(0,u.mL)(e,pe),n=t.slice(we,ye),r=ye;if(xe(n)===me){const e=r+be,i=e+ve,s=t.slice(r,e),o=t.slice(e,i);return{type:n,sealed:t.slice(i),iv:o,senderPublicKey:s}}const i=r+ve,s=t.slice(r,i);return{type:n,sealed:t.slice(i),iv:s}}function Se(e){const t=e?.type||ge;if(t===me){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function Oe(e){return e.type===me&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var ke=Object.defineProperty,Pe=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,Me=(e,t,n)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Te=(e,t)=>{for(var n in t||(t={}))Ae.call(t,n)&&Me(e,n,t[n]);if(Pe)for(var n of Pe(t))Ne.call(t,n)&&Me(e,n,t[n]);return e};const Re="ReactNative",Le={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},De="js";function je(){return typeof ue<"u"&&typeof ue.versions<"u"&&typeof ue.versions.node<"u"}function Ue(){return!(0,d.getDocument)()&&!!(0,d.getNavigator)()&&navigator.product===Re}function Be(){return!je()&&!!(0,d.getNavigator)()}function $e(){return Ue()?Le.reactNative:je()?Le.node:Be()?Le.browser:Le.unknown}function ze(e,t,r){const i=function(){if($e()===Le.reactNative&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){const{OS:e,Version:t}=n.g.Platform;return[e,t].join("-")}const e=(0,ce.qY)();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;const t=$e();return t===Le.browser?[t,(null==(e=(0,d.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[De,r].join("-"),i,s].join("/")}function qe({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const c=n.split("?"),l={auth:i,ua:ze(e,t,r),projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},u=function(e,t){let n=le.parse(e);return n=Te(Te({},n),t),le.stringify(n)}(c[1]||"",l);return c[0]+"?"+u}function We(e){return Object.fromEntries(e.entries())}function Fe(e){return new Map(Object.entries(e))}function He(e,t,n){return new Promise((async(r,i)=>{const s=setTimeout((()=>i(new Error(n))),t);try{r(await e)}catch(e){i(e)}clearTimeout(s)}))}function Ve(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Ke(e,t){return(0,h.fromMiliseconds)((t||Date.now())+(0,h.toMiliseconds)(e))}function Ge(e){return Date.now()>=(0,h.toMiliseconds)(e)}function Ze(e,t){return`${e}${t?`:${t}`:""}`}function Ye(e){return e?.relay||{protocol:"irn"}}function Qe(e){const t=f[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var Je=Object.defineProperty,Xe=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,nt=(e,t,n)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function rt(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach((t=>{if(t.startsWith(r)){const i=t.replace(r,""),s=e[t];n[i]=s}})),n}function it(e){const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=le.parse(s);return{protocol:r,topic:st(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:rt(o)}}function st(e){return e.startsWith("//")?e.substring(2):e}function ot(e){return`${e.protocol}:${e.topic}@${e.version}?`+le.stringify(((e,t)=>{for(var n in t||(t={}))et.call(t,n)&&nt(e,n,t[n]);if(Xe)for(var n of Xe(t))tt.call(t,n)&&nt(e,n,t[n]);return e})({symKey:e.symKey},function(e,t="-"){const n={};return Object.keys(e).forEach((r=>{const i="relay"+t+r;e[r]&&(n[i]=e[r])})),n}(e.relay)))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const at={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ct={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function lt(e,t){const{message:n,code:r}=ct[e];return{message:t?`${n} ${t}`:n,code:r}}function ut(e,t){const{message:n,code:r}=at[e];return{message:t?`${n} ${t}`:n,code:r}}function ht(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function dt(e){return typeof e>"u"}function pt(e,t){return!(!t||!dt(e))||"string"==typeof e&&!!e.trim().length}function ft(e){return typeof e<"u"&&null!==typeof e}function gt(){const e=$e();return new Promise((t=>{switch(e){case Le.browser:t(Be()&&navigator?.onLine);break;case Le.reactNative:t(async function(){if(Ue()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo){const e=await(null==n.g?void 0:n.g.NetInfo.fetch());return e?.isConnected}return!0}());break;case Le.node:default:t(!0)}}))}function mt(e){switch($e()){case Le.browser:!function(e){!Ue()&&Be()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case Le.reactNative:!function(e){Ue()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&n.g?.NetInfo.addEventListener((t=>e(t?.isConnected)))}(e);case Le.node:}}const wt="INTERNAL_ERROR",yt="SERVER_ERROR",vt=[-32700,-32600,-32601,-32602,-32603],bt={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[wt]:{code:-32603,message:"Internal error"},[yt]:{code:-32e3,message:"Server error"}},_t=yt;function Et(e){return vt.includes(e)}function xt(e){return Object.keys(bt).includes(e)?bt[e]:bt[_t]}function Ct(e){const t=Object.values(bt).find((t=>t.code===e));return t||bt[_t]}function It(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var St=n(1468);function Ot(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function kt(e=6){return BigInt(Ot(e))}function Pt(e,t,n){return{id:n||Ot(),jsonrpc:"2.0",method:e,params:t}}function At(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Nt(e,t,n){return{id:e,jsonrpc:"2.0",error:Mt(t,n)}}function Mt(e,t){return void 0===e?xt(wt):("string"==typeof e&&(e=Object.assign(Object.assign({},xt(yt)),{message:e})),void 0!==t&&(e.data=t),Et(e.code)&&(e=Ct(e.code)),e)}class Tt{}class Rt extends Tt{constructor(){super()}}class Lt extends Rt{constructor(e){super()}}function Dt(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==n&&new RegExp(t).test(n)}function jt(e){return Dt(e,"^https?:")}function Ut(e){return Dt(e,"^wss?:")}function Bt(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function $t(e){return Bt(e)&&"method"in e}function zt(e){return Bt(e)&&(qt(e)||Wt(e))}function qt(e){return"result"in e}function Wt(e){return"error"in e}class Ft extends Lt{constructor(e){super(e),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Pt(e.method,e.params||[],e.id||kt().toString()),t)}async requestStrict(e,t){return new Promise((async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(e){r(e)}this.events.on(`${e.id}`,(e=>{Wt(e)?r(e.error):n(e.result)}));try{await this.connection.send(e,t)}catch(e){r(e)}}))}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),zt(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const Ht=e=>e.split("?")[0],Vt=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(72030);class Kt{constructor(e){if(this.url=e,this.events=new r.EventEmitter,this.registering=!1,!Ut(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(x(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!Ut(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,r)=>{const i=new URLSearchParams(e).get("origin"),s=(0,St.isReactNative)()?{headers:{origin:i}}:{rejectUnauthorized:(a=e,!new RegExp("wss?://localhost(:d{2,5})?").test(a))},o=new Vt(e,[],s);var a;typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=e=>{const t=e;r(this.emitError(t.error))}:o.on("error",(e=>{r(this.emitError(e))})),o.onopen=()=>{this.onOpen(o),t(o)}}))}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?E(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=Nt(e,n.message||n.toString());this.events.emit("payload",r)}parseError(e,t=this.url){return It(e,Ht(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${Ht(this.url)}`));return this.events.emit("register_error",t),t}}var Gt=n(72307),Zt=n.n(Gt),Yt=n(34155);var Qt=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===c;)r++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var p=s-i;p!==s&&0===o[p];)p++;for(var f=new Uint8Array(r+(s-p)),g=r;p!==s;)f[g++]=o[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,p=o-1;(0!==h||d<r)&&-1!==p;p--,d++)h+=256*l[p]>>>0,l[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var f=o-r;f!==o&&0===l[f];)f++;for(var g=c.repeat(n);f<o;++f)g+=e.charAt(l[f]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error(`Non-${t} character`)}}},Jt=Qt;const Xt=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class en{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tn{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return rn(this,e)}}class nn{constructor(e){this.decoders=e}or(e){return rn(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const rn=(e,t)=>new nn({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class sn{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new en(e,t,n),this.decoder=new tn(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const on=({name:e,prefix:t,encode:n,decode:r})=>new sn(e,t,n,r),an=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=Jt(n,t);return on({prefix:e,name:t,encode:r,decode:e=>Xt(i(e))})},cn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>on({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|e[r],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${r} character`);c=c<<n|s,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,r,n,e)}),ln=on({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var un=Object.freeze({__proto__:null,identity:ln});const hn=cn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var dn=Object.freeze({__proto__:null,base2:hn});const pn=cn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var fn=Object.freeze({__proto__:null,base8:pn});const gn=an({prefix:"9",name:"base10",alphabet:"0123456789"});var mn=Object.freeze({__proto__:null,base10:gn});const wn=cn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),yn=cn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vn=Object.freeze({__proto__:null,base16:wn,base16upper:yn});const bn=cn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_n=cn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),En=cn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xn=cn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Cn=cn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),In=cn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Sn=cn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),On=cn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),kn=cn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Pn=Object.freeze({__proto__:null,base32:bn,base32upper:_n,base32pad:En,base32padupper:xn,base32hex:Cn,base32hexupper:In,base32hexpad:Sn,base32hexpadupper:On,base32z:kn});const An=an({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Nn=an({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Mn=Object.freeze({__proto__:null,base36:An,base36upper:Nn});const Tn=an({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Rn=an({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ln=Object.freeze({__proto__:null,base58btc:Tn,base58flickr:Rn});const Dn=cn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),jn=cn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Un=cn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Bn=cn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $n=Object.freeze({__proto__:null,base64:Dn,base64pad:jn,base64url:Un,base64urlpad:Bn});const zn=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),qn=zn.reduce(((e,t,n)=>(e[n]=t,e)),[]),Wn=zn.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const Fn=on({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=qn[t]),"")},decode:function(e){const t=[];for(const n of e){const e=Wn[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var Hn=Object.freeze({__proto__:null,base256emoji:Fn}),Vn=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=Zn;)n[r++]=255&t|Kn,t/=128;for(;t&Gn;)n[r++]=255&t|Kn,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Kn=128,Gn=-128,Zn=Math.pow(2,31);var Yn=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&Jn)<<s:(r&Jn)*Math.pow(2,s),s+=7}while(r>=Qn);return e.bytes=o-n,i},Qn=128,Jn=127;var Xn=Math.pow(2,7),er=Math.pow(2,14),tr=Math.pow(2,21),nr=Math.pow(2,28),rr=Math.pow(2,35),ir=Math.pow(2,42),sr=Math.pow(2,49),or=Math.pow(2,56),ar=Math.pow(2,63),cr={encode:Vn,decode:Yn,encodingLength:function(e){return e<Xn?1:e<er?2:e<tr?3:e<nr?4:e<rr?5:e<ir?6:e<sr?7:e<or?8:e<ar?9:10}};const lr=(e,t,n=0)=>(cr.encode(e,t,n),t),ur=e=>cr.encodingLength(e),hr=(e,t)=>{const n=t.byteLength,r=ur(e),i=r+ur(n),s=new Uint8Array(i+n);return lr(e,s,0),lr(n,s,r),s.set(t,i),new dr(e,n,t,s)};class dr{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const pr=({name:e,code:t,encode:n})=>new fr(e,t,n);class fr{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?hr(this.code,t):t.then((e=>hr(this.code,e)))}throw Error("Unknown type, must be binary type")}}const gr=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),mr=pr({name:"sha2-256",code:18,encode:gr("SHA-256")}),wr=pr({name:"sha2-512",code:19,encode:gr("SHA-512")});Object.freeze({__proto__:null,sha256:mr,sha512:wr});const yr=Xt,vr={code:0,name:"identity",encode:yr,digest:e=>hr(0,yr(e))};Object.freeze({__proto__:null,identity:vr});new TextEncoder,new TextDecoder;const br={...un,...dn,...fn,...mn,...vn,...Pn,...Mn,...Ln,...$n,...Hn};function _r(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Er(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const xr=Er("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Cr=Er("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?_r(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Ir={utf8:xr,"utf-8":xr,hex:br.base16,latin1:Cr,ascii:Cr,binary:Cr,...br};const Sr="core",Or=`wc@2:${Sr}:`,kr="error",Pr={database:":memory:"},Ar="client_ed25519_seed",Nr=h.ONE_DAY,Mr=h.SIX_HOURS,Tr="wss://relay.walletconnect.com",Rr="wss://relay.walletconnect.org",Lr="relayer_message",Dr="relayer_message_ack",jr="relayer_connect",Ur="relayer_disconnect",Br="relayer_error",$r="relayer_connection_stalled",zr="relayer_publish",qr="payload",Wr="connect",Fr="disconnect",Hr="error",Vr=h.ONE_SECOND,Kr="subscription_created",Gr="subscription_deleted",Zr="subscription_sync",Yr="subscription_resubscribed",Qr=1e3*h.FIVE_SECONDS,Jr={wc_pairingDelete:{req:{ttl:h.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:h.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:h.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:h.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:h.ONE_DAY,prompt:!1,tag:0},res:{ttl:h.ONE_DAY,prompt:!1,tag:0}}},Xr="pairing_create",ei="pairing_expire",ti="pairing_delete",ni="pairing_ping",ri="history_created",ii="history_updated",si="history_deleted",oi="history_sync",ai="expirer_created",ci="expirer_deleted",li="expirer_expired",ui="expirer_sync",hi="verify-api",di="https://verify.walletconnect.com",pi="https://verify.walletconnect.org",fi=[di,pi];class gi{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Or,this.init=async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=lt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=(0,T.generateChildLogger)(t,this.name)}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,We(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Fe(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=lt("NOT_INITIALIZED",this.name);throw new Error(e)}}}class mi{constructor(e,t,n){this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>{this.isInitialized();return se(oe(await this.getClientSeed()).publicKey)},this.generateKeyPair=()=>{this.isInitialized();const e=function(){const e=l.Au();return{privateKey:(0,u.BB)(e.secretKey,de),publicKey:(0,u.BB)(e.publicKey,de)}}();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();const t=oe(await this.getClientSeed()),n=_e(),r=Nr;return await ae(n,e,r,t)},this.generateSharedKey=(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=l.gi((0,u.mL)(e,de),(0,u.mL)(t,de),!0),r=new o.t(c.mE,n).expand(be);return(0,u.BB)(r,de)}(this.getPrivateKey(e),t);return this.setSymKey(r,n)},this.setSymKey=async(e,t)=>{this.isInitialized();const n=t||function(e){const t=(0,c.vp)((0,u.mL)(e,de));return(0,u.BB)(t,de)}(e);return await this.keychain.set(n,e),n},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,n)=>{this.isInitialized();const r=Se(n),i=x(t);if(Oe(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=r;return Ce({type:o,symKey:s,message:i,senderPublicKey:a})},this.decode=async(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=Ie(e);return Se({type:xe(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?(0,u.BB)(n.senderPublicKey,de):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,n);if(Oe(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const n=function(e){const t=new s.OK((0,u.mL)(e.symKey,de)),{sealed:n,iv:r}=Ie(e.encoded),i=t.open(r,n);if(null===i)throw new Error("Failed to decrypt");return(0,u.BB)(i,fe)}({symKey:this.getSymKey(e),encoded:t});return E(n)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}},this.getPayloadType=e=>xe(Ie(e).type),this.getPayloadSenderPublicKey=e=>{const t=Ie(e);return t.senderPublicKey?(0,u.BB)(t.senderPublicKey,de):void 0},this.core=e,this.logger=(0,T.generateChildLogger)(t,this.name),this.keychain=n||new gi(this.core,this.logger)}get context(){return(0,T.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Ar)}catch{e=_e(),await this.keychain.set(Ar,e)}return function(e,t="utf8"){const n=Ir[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):_r(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=lt("NOT_INITIALIZED",this.name);throw new Error(e)}}}class wi extends j{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Or,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();const n=Ee(t);let r=this.messages.get(e);return typeof r>"u"&&(r={}),typeof r[n]<"u"||(r[n]=t,this.messages.set(e,r),await this.persist()),n},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>{this.isInitialized();return typeof this.get(e)[Ee(t)]<"u"},this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=(0,T.generateChildLogger)(e,this.name),this.core=t}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,We(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Fe(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=lt("NOT_INITIALIZED",this.name);throw new Error(e)}}}class yi extends U{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new r.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,h.toMiliseconds)(h.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(e,t,n)=>{var r;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});try{const i=n?.ttl||Mr,s=Ye(n),o=n?.prompt||!1,a=n?.tag||0,c=n?.id||kt().toString(),l={topic:e,message:t,opts:{ttl:i,relay:s,prompt:o,tag:a,id:c}},u=setTimeout((()=>this.queue.set(c,l)),this.publishTimeout);try{await await He(this.rpcPublish(e,t,i,s,o,a,c),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(c),this.relayer.events.emit(zr,l)}catch(e){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,null!=(r=n?.internal)&&r.throwOnFailedPublish)throw this.removeRequestFromQueue(c),e;return}finally{clearTimeout(u)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}})}catch(e){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(e),e}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=(0,T.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,T.getLoggerContext)(this.logger)}rpcPublish(e,t,n,r,i,s,o){var a,c,l,u;const h={method:Qe(r.protocol).publish,params:{topic:e,message:t,ttl:n,prompt:i,tag:s},id:o};return dt(null==(a=h.params)?void 0:a.prompt)&&(null==(c=h.params)||delete c.prompt),dt(null==(l=h.params)?void 0:l.tag)&&(null==(u=h.params)||delete u.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:h}),this.relayer.request(h)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach((async e=>{const{topic:t,message:n,opts:r}=e;await this.publish(t,n,r)}))}registerEventListeners(){this.relayer.core.heartbeat.on(M.HEARTBEAT_EVENTS.pulse,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit($r);this.checkQueue()})),this.relayer.on(Dr,(e=>{this.removeRequestFromQueue(e.id.toString())}))}}class vi{constructor(){this.map=new Map,this.set=(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter((e=>e!==t));r.length?this.map.set(e,r):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var bi=Object.defineProperty,_i=Object.defineProperties,Ei=Object.getOwnPropertyDescriptors,xi=Object.getOwnPropertySymbols,Ci=Object.prototype.hasOwnProperty,Ii=Object.prototype.propertyIsEnumerable,Si=(e,t,n)=>t in e?bi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oi=(e,t)=>{for(var n in t||(t={}))Ci.call(t,n)&&Si(e,n,t[n]);if(xi)for(var n of xi(t))Ii.call(t,n)&&Si(e,n,t[n]);return e},ki=(e,t)=>_i(e,Ei(t));class Pi extends z{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new vi,this.events=new r.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Or,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const n=Ye(t),r={topic:e,relay:n};this.pending.set(e,r);const i=await this.rpcSubscribe(e,n);return this.onSubscribe(i,r),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}}),i}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),typeof t?.id<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>!!this.topics.includes(e)||await new Promise(((t,n)=>{const r=new h.Watch;r.start(this.pendingSubscriptionWatchLabel);const i=setInterval((()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(i),r.stop(this.pendingSubscriptionWatchLabel),t(!0)),r.elapsed(this.pendingSubscriptionWatchLabel)>=Qr&&(clearInterval(i),r.stop(this.pendingSubscriptionWatchLabel),n(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1)),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=(0,T.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map((async n=>await this.unsubscribeById(e,n,t))))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=Ye(n);await this.rpcUnsubscribe(e,t,r);const i=ut("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t){const n={method:Qe(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await He(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit($r)}return Ee(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:Qe(e[0].relay.protocol).batchSubscribe,params:{topics:e.map((e=>e.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{return await await He(this.relayer.request(t),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit($r)}}rpcUnsubscribe(e,t,n){const r={method:Qe(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,ki(Oi({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach((e=>{this.setSubscription(e.id,Oi({},e)),this.pending.delete(e.topic)}))}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Oi({},t)),this.topicMap.set(t.topic,e),this.events.emit(Kr,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=lt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Gr,ki(Oi({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Zr)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const e=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(e)}}this.events.emit(Yr)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:e}=lt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);ht(t)&&this.onBatchSubscribe(t.map(((t,n)=>ki(Oi({},e[n]),{id:t}))))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach((t=>{e.push(t)})),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(M.HEARTBEAT_EVENTS.pulse,(async()=>{await this.checkPending()})),this.relayer.on(jr,(async()=>{await this.onConnect()})),this.relayer.on(Ur,(()=>{this.onDisconnect()})),this.events.on(Kr,(async e=>{const t=Kr;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})),this.events.on(Gr,(async e=>{const t=Gr;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=lt("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise((e=>{const t=setInterval((()=>{this.restartInProgress||(clearInterval(t),e())}),this.pollingInterval)}))}}var Ai=Object.defineProperty,Ni=Object.getOwnPropertySymbols,Mi=Object.prototype.hasOwnProperty,Ti=Object.prototype.propertyIsEnumerable,Ri=(e,t,n)=>t in e?Ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Li extends B{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new r.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async e=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(e)}catch(e){throw this.logger.debug("Failed to Publish Request"),this.logger.error(e),e}},this.onPayloadHandler=e=>{this.onProviderPayload(e)},this.onConnectHandler=()=>{this.events.emit(jr)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.error(e),this.events.emit(Br,e),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(qr,this.onPayloadHandler),this.provider.on(Wr,this.onConnectHandler),this.provider.on(Fr,this.onDisconnectHandler),this.provider.on(Hr,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?(0,T.generateChildLogger)(e.logger,this.name):(0,T.pino)((0,T.getDefaultLoggerOptions)({level:e.logger||"error"})),this.messages=new wi(this.logger,e.core),this.subscriber=new Pi(this,this.logger),this.publisher=new yi(this,this.logger),this.relayUrl=e?.relayUrl||Tr,this.projectId=e.projectId,this.bundleId=function(){var e;try{return Ue()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Application)<"u"?null==(e=n.g.Application)?void 0:e.applicationId:void 0}catch{return}}(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${Rr}...`),await this.restartTransport(Rr)}this.initialized=!0,setTimeout((async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)}),1e4)}get context(){return(0,T.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var n;this.isInitialized();let r,i=(null==(n=this.subscriber.topicMap.get(e))?void 0:n[0])||"";if(i)return i;const s=t=>{t.topic===e&&(this.subscriber.off(Kr,s),r())};return await Promise.all([new Promise((e=>{r=e,this.subscriber.on(Kr,s)})),new Promise((async n=>{i=await this.subscriber.subscribe(e,t),n()}))]),i}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await He(this.provider.disconnect(),1e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise((e=>{if(!this.initialized)return e();this.subscriber.once(Yr,(()=>{e()}))})),new Promise((async(e,t)=>{try{await He(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(e){return void t(e)}e()}))])}catch(e){this.logger.error(e);const t=e;if(!this.isConnectionStalled(t.message))throw e;this.provider.events.emit(Fr)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await gt())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some((t=>e.includes(t)))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ft(new Kt(qe({sdkVersion:"2.10.6",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:n}=e;await this.messages.set(t,n)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const r=this.messages.has(t,n);return r&&this.logger.debug(`Ignoring duplicate message: ${n}`),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),$t(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i}=t.data,s={topic:n,message:r,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(((e,t)=>{for(var n in t||(t={}))Mi.call(t,n)&&Ri(e,n,t[n]);if(Ni)for(var n of Ni(t))Ti.call(t,n)&&Ri(e,n,t[n]);return e})({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}else zt(e)&&this.events.emit(Dr,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Lr,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=At(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(qr,this.onPayloadHandler),this.provider.off(Wr,this.onConnectHandler),this.provider.off(Fr,this.onDisconnectHandler),this.provider.off(Hr,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on($r,(()=>{this.restartTransport().catch((e=>this.logger.error(e)))}));let e=await gt();mt((async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch((e=>this.logger.error(e))):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch((e=>this.logger.error(e)))))}))}onProviderDisconnect(){this.events.emit(Ur),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout((async()=>{await this.restartTransport().catch((e=>this.logger.error(e)))}),(0,h.toMiliseconds)(Vr)))}isInitialized(){if(!this.initialized){const{message:e}=lt("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise((e=>{const t=setInterval((()=>{this.connected&&(clearInterval(t),e())}),this.connectionStatusPollingInterval)}));await this.restartTransport()}}}var Di=Object.defineProperty,ji=Object.getOwnPropertySymbols,Ui=Object.prototype.hasOwnProperty,Bi=Object.prototype.propertyIsEnumerable,$i=(e,t,n)=>t in e?Di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zi=(e,t)=>{for(var n in t||(t={}))Ui.call(t,n)&&$i(e,n,t[n]);if(ji)for(var n of ji(t))Bi.call(t,n)&&$i(e,n,t[n]);return e};class qi extends ${constructor(e,t,n,r=Or,i=void 0){super(e,t,n,r),this.core=e,this.logger=t,this.name=n,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Or,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>{this.getKey&&null!==e&&!dt(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return e?.topic}(e)&&this.map.set(e.topic,e)})),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter((t=>Object.keys(e).every((n=>Zt()(t[n],e[n]))))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=zi(zi({},this.getData(e)),t);this.map.set(e,n),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),await this.persist())},this.logger=(0,T.generateChildLogger)(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:t}=lt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=lt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=lt("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Wi{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(i()),this.initialized=!1,this.storagePrefix=Or,this.ignoredPayloadTypes=[me],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]},this.create=async()=>{this.isInitialized();const e=_e(),t=await this.core.crypto.setSymKey(e),n=Ke(h.FIVE_MINUTES),r={protocol:"irn"},i={topic:t,expiry:n,relay:r,active:!1},s=ot({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:e,relay:r});return await this.pairings.set(t,i),await this.core.relayer.subscribe(t),this.core.expirer.set(t,n),{topic:t,uri:s}},this.pair=async e=>{this.isInitialized(),this.isValidPair(e);const{topic:t,symKey:n,relay:r}=it(e.uri);let i;if(this.pairings.keys.includes(t)&&(i=this.pairings.get(t),i.active))throw new Error(`Pairing already exists: ${t}. Please try again with a new connection URI.`);const s=Ke(h.FIVE_MINUTES),o={topic:t,relay:r,expiry:s,active:!1};return await this.pairings.set(t,o),this.core.expirer.set(t,s),e.activatePairing&&await this.activate({topic:t}),this.events.emit(Xr,o),this.core.crypto.keychain.has(t)||(await this.core.crypto.setSymKey(n,t),await this.core.relayer.subscribe(t,{relay:r})),o},this.activate=async({topic:e})=>{this.isInitialized();const t=Ke(h.THIRTY_DAYS);await this.pairings.update(e,{active:!0,expiry:t}),this.core.expirer.set(e,t)},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=function(e=h.FIVE_MINUTES,t){const n=(0,h.toMiliseconds)(e||h.FIVE_MINUTES);let r,i,s;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise(((e,o)=>{s=setTimeout((()=>{o(new Error(t))}),n),r=e,i=o}))}}();this.events.once(Ze("pairing_ping",e),(({error:e})=>{e?i(e):r()})),await n()}},this.updateExpiry=async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})},this.updateMetadata=async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",ut("USER_DISCONNECTED")),await this.deletePairing(t))},this.sendRequest=async(e,t,n)=>{const r=Pt(t,n),i=await this.core.crypto.encode(e,r),s=Jr[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,s),r.id},this.sendResult=async(e,t,n)=>{const r=At(e,n),i=await this.core.crypto.encode(t,r),s=await this.core.history.get(t,e),o=Jr[s.request.method].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)},this.sendError=async(e,t,n)=>{const r=Nt(e,n),i=await this.core.crypto.encode(t,r),s=await this.core.history.get(t,e),o=Jr[s.request.method]?Jr[s.request.method].res:Jr.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,ut("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{const e=this.pairings.getAll().filter((e=>Ge(e.expiry)));await Promise.all(e.map((e=>this.deletePairing(e.topic))))},this.onRelayEventRequest=e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return this.onPairingPingRequest(t,n);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,n);default:return this.onUnknownRpcMethodRequest(t,n)}},this.onRelayEventResponse=async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)},this.onPairingPingRequest=async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit(ni,{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.logger.error(t)}},this.onPairingPingResponse=(e,t)=>{const{id:n}=t;setTimeout((()=>{qt(t)?this.events.emit(Ze("pairing_ping",n),{}):Wt(t)&&this.events.emit(Ze("pairing_ping",n),{error:t.error})}),500)},this.onPairingDeleteRequest=async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(ti,{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.logger.error(t)}},this.onUnknownRpcMethodRequest=async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=ut("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(t){await this.sendError(n,e,t),this.logger.error(t)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error(ut("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=e=>{var t;if(!ft(e)){const{message:t}=lt("MISSING_OR_INVALID",`pair() params: ${e}`);throw new Error(t)}if(!function(e){if(pt(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}(e.uri)){const{message:t}=lt("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw new Error(t)}const n=it(e.uri);if(null==(t=n?.relay)||!t.protocol){const{message:e}=lt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(e)}if(null==n||!n.symKey){const{message:e}=lt("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(e)}},this.isValidPing=async e=>{if(!ft(e)){const{message:t}=lt("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!ft(e)){const{message:t}=lt("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!pt(e,!1)){const{message:t}=lt("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=lt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Ge(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=lt("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}},this.core=e,this.logger=(0,T.generateChildLogger)(t,this.name),this.pairings=new qi(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,T.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=lt("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Lr,(async e=>{const{topic:t,message:n}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const r=await this.core.crypto.decode(t,n);try{$t(r)?(this.core.history.set(t,r),this.onRelayEventRequest({topic:t,payload:r})):zt(r)&&(await this.core.history.resolve(r),await this.onRelayEventResponse({topic:t,payload:r}),this.core.history.delete(t,r.id))}catch(e){this.logger.error(e)}}))}registerExpirerEvents(){this.core.expirer.on(li,(async e=>{const{topic:t}=function(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(ei,{topic:t}))}))}}class Fi extends D{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new r.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Or,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.records.set(e.id,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:Ke(h.THIRTY_DAYS)};this.records.set(r.id,r),this.events.emit(ri,r)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=Wt(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.events.emit(ii,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach((n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(si,n)}}))},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,T.generateChildLogger)(t,this.name)}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach((t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:Pt(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)})),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=lt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(oi)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=lt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ri,(e=>{const t=ri;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})),this.events.on(ii,(e=>{const t=ii;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})),this.events.on(si,(e=>{const t=si;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})),this.core.heartbeat.on(M.HEARTBEAT_EVENTS.pulse,(()=>{this.cleanup()}))}cleanup(){try{this.records.forEach((e=>{(0,h.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))}))}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=lt("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Hi extends q{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new r.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Or,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.expirations.set(e.target,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch{return!1}},this.set=(e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(ai,{target:n,expiration:r})},this.get=e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(ci,{target:t,expiration:n})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,T.generateChildLogger)(t,this.name)}get context(){return(0,T.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return Ve("topic",e)}(e);if("number"==typeof e)return function(e){return Ve("id",e)}(e);const{message:t}=lt("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ui)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=lt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=lt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,h.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(li,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((e,t)=>this.checkExpiry(t,e)))}registerEventListeners(){this.core.heartbeat.on(M.HEARTBEAT_EVENTS.pulse,(()=>this.checkExpirations())),this.events.on(ai,(e=>{const t=ai;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(li,(e=>{const t=li;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(ci,(e=>{const t=ci;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=lt("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Vi extends W{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=hi,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async e=>{if(this.verifyDisabled||Ue()||!Be())return;const t=this.getVerifyUrl(e?.verifyUrl);this.verifyUrl!==t&&this.removeIframe(),this.verifyUrl=t;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e)}if(!this.initialized){this.removeIframe(),this.verifyUrl=pi;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e),this.verifyDisabled=!0}}},this.register=async e=>{this.initialized?this.sendPost(e.attestationId):(this.addToQueue(e.attestationId),await this.init())},this.resolve=async e=>{if(this.isDevEnv)return"";const t=this.getVerifyUrl(e?.verifyUrl);let n;try{n=await this.fetchAttestation(e.attestationId,t)}catch(r){this.logger.info(`failed to resolve attestation: ${e.attestationId} from url: ${t}`),this.logger.info(r),n=await this.fetchAttestation(e.attestationId,pi)}return n},this.fetchAttestation=async(e,t)=>{this.logger.info(`resolving attestation: ${e} from url: ${t}`);const n=this.startAbortTimer(2*h.ONE_SECOND),r=await fetch(`${t}/attestation/${e}`,{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0},this.addToQueue=e=>{this.queue.push(e)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach((e=>this.sendPost(e))),this.queue=[])},this.sendPost=e=>{var t;try{if(!this.iframe)return;null==(t=this.iframe.contentWindow)||t.postMessage(e,"*"),this.logger.info(`postMessage sent: ${e} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let e;const t=n=>{"verify_ready"===n.data&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",t),e())};await Promise.race([new Promise((n=>{if(document.getElementById(hi))return n();window.addEventListener("message",t);const r=document.createElement("iframe");r.id=hi,r.src=`${this.verifyUrl}/${this.projectId}`,r.style.display="none",document.body.append(r),this.iframe=r,e=n})),new Promise(((e,n)=>setTimeout((()=>{window.removeEventListener("message",t),n("verify iframe load timeout")}),(0,h.toMiliseconds)(h.FIVE_SECONDS))))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=e=>{let t=e||di;return fi.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${di}`),t=di),t},this.logger=(0,T.generateChildLogger)(t,this.name),this.verifyUrl=di,this.abortController=new AbortController,this.isDevEnv=je()&&Yt.env.IS_VITEST}get context(){return(0,T.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,h.toMiliseconds)(e))}}var Ki=Object.defineProperty,Gi=Object.getOwnPropertySymbols,Zi=Object.prototype.hasOwnProperty,Yi=Object.prototype.propertyIsEnumerable,Qi=(e,t,n)=>t in e?Ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ji=(e,t)=>{for(var n in t||(t={}))Zi.call(t,n)&&Qi(e,n,t[n]);if(Gi)for(var n of Gi(t))Yi.call(t,n)&&Qi(e,n,t[n]);return e};class Xi extends L{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=Sr,this.events=new r.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Tr,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,T.pino)((0,T.getDefaultLoggerOptions)({level:e?.logger||kr}));this.logger=(0,T.generateChildLogger)(t,this.name),this.heartbeat=new M.HeartBeat,this.crypto=new mi(this,this.logger,e?.keychain),this.history=new Fi(this,this.logger),this.expirer=new Hi(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new N(Ji(Ji({},Pr),e?.storageOptions)),this.relayer=new Li({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Wi(this,this.logger),this.verify=new Vi(this.projectId||"",this.logger)}static async init(e){const t=new Xi(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return(0,T.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const es=Xi;class ts{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class ns{constructor(e){this.client=e}}n(87338);var rs=n(34155);function is(e,t){return e.includes(":")?[e]:t.chains||[]}const ss="base16",os="utf8",as=1;function cs(e){const t=(0,c.vp)((0,u.mL)(e,os));return(0,u.BB)(t,ss)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const ls="ReactNative",us={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function hs(){return typeof rs<"u"&&typeof rs.versions<"u"&&typeof rs.versions.node<"u"}function ds(){return!(0,d.getDocument)()&&!!(0,d.getNavigator)()&&navigator.product===ls}function ps(){return!hs()&&!!(0,d.getNavigator)()}function fs(){return ds()?us.reactNative:hs()?us.node:ps()?us.browser:us.unknown}function gs(e,t){return e.filter((e=>t.includes(e))).length===e.length}function ms(e=h.FIVE_MINUTES,t){const n=(0,h.toMiliseconds)(e||h.FIVE_MINUTES);let r,i,s;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise(((e,o)=>{s=setTimeout((()=>{o(new Error(t))}),n),r=e,i=o}))}}function ws(e,t){return(0,h.fromMiliseconds)((t||Date.now())+(0,h.toMiliseconds)(e))}function ys(e){return Date.now()>=(0,h.toMiliseconds)(e)}function vs(e,t){return`${e}${t?`:${t}`:""}`}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function bs(e){const t=[];return e.forEach((e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)})),t}const _s={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Es={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function xs(e,t){const{message:n,code:r}=Es[e];return{message:t?`${n} ${t}`:n,code:r}}function Cs(e,t){const{message:n,code:r}=_s[e];return{message:t?`${n} ${t}`:n,code:r}}function Is(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function Ss(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Os(e){return typeof e>"u"}function ks(e,t){return!(!t||!Os(e))||"string"==typeof e&&!!e.trim().length}function Ps(e,t){return!(!t||!Os(e))||"number"==typeof e&&!isNaN(e)}function As(e){return!(!ks(e,!1)||!e.includes(":"))&&2===e.split(":").length}function Ns(e){let t=!0;return Is(e)?e.length&&(t=e.every((e=>ks(e,!1)))):t=!1,t}function Ms(e,t,n){let r=null;return Object.entries(e).forEach((([e,i])=>{if(r)return;const s=function(e,t,n){let r=null;return Is(t)&&t.length?t.forEach((e=>{r||As(e)||(r=Cs("UNSUPPORTED_CHAINS",`${n}, chain ${e} should be a string and conform to "namespace:chainId" format`))})):As(e)||(r=Cs("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(e,is(e,i),`${t} ${n}`);s&&(r=s)})),r}function Ts(e,t){let n=null;return Is(e)?e.forEach((e=>{n||function(e){if(ks(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&As(e)}}return!1}(e)||(n=Cs("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))})):n=Cs("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Rs(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=function(e,t){let n=null;return Ns(e?.methods)?Ns(e?.events)||(n=Cs("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=Cs("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}(e,`${t}, namespace`);r&&(n=r)})),n}function Ls(e,t){let n=null;if(e&&Ss(e)){const r=Rs(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach((e=>{if(n)return;const r=Ts(e?.accounts,`${t} namespace`);r&&(n=r)})),n}(e,t);i&&(n=i)}else n=xs("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function Ds(e){return ks(e.protocol,!0)}function js(e){return typeof e<"u"&&null!==typeof e}function Us(e,t){return!(!As(t)||!function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...bs(e.accounts))})),t}(e).includes(t))}function Bs(e,t,n){return!!ks(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{bs(e.accounts).includes(t)&&n.push(...e.methods)})),n}(e,t).includes(n)}function $s(e,t,n){return!!ks(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach((e=>{bs(e.accounts).includes(t)&&n.push(...e.events)})),n}(e,t).includes(n)}function zs(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach((n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach((r=>{t[r]={methods:e[n].methods,events:e[n].events}}))})),t}(e),s=function(e){const t={};return Object.keys(e).forEach((n=>{if(n.includes(":"))t[n]=e[n];else{const r=bs(e[n].accounts);r?.forEach((r=>{t[r]={accounts:e[n].accounts.filter((e=>e.includes(`${r}:`))),methods:e[n].methods,events:e[n].events}}))}})),t}(t),o=Object.keys(i),a=Object.keys(s),c=qs(Object.keys(e)),l=qs(Object.keys(t)),u=c.filter((e=>!l.includes(e)));return u.length&&(r=xs("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(t).toString()}`)),gs(o,a)||(r=xs("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(t).forEach((e=>{if(!e.includes(":")||r)return;const i=bs(t[e].accounts);i.includes(e)||(r=xs("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`))})),o.forEach((e=>{r||(gs(i[e].methods,s[e].methods)?gs(i[e].events,s[e].events)||(r=xs("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${e}`)):r=xs("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${e}`))})),r}function qs(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}const Ws={};class Fs{static get(e){return Ws[e]}static set(e,t){Ws[e]=t}static delete(e){delete Ws[e]}}const Hs="client",Vs=`wc@2:${Hs}:`,Ks=Hs,Gs="error",Zs="WALLETCONNECT_DEEPLINK_CHOICE",Ys="Proposal expired",Qs=h.SEVEN_DAYS,Js={wc_sessionPropose:{req:{ttl:h.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:h.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:h.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:h.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:h.ONE_DAY,prompt:!1,tag:1104},res:{ttl:h.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:h.ONE_DAY,prompt:!1,tag:1106},res:{ttl:h.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:h.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:h.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:h.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:h.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:h.ONE_DAY,prompt:!1,tag:1112},res:{ttl:h.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:h.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:h.THIRTY_SECONDS,prompt:!1,tag:1115}}},Xs={min:h.FIVE_MINUTES,max:h.SEVEN_DAYS},eo="IDLE",to="ACTIVE",no=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var ro=Object.defineProperty,io=Object.defineProperties,so=Object.getOwnPropertyDescriptors,oo=Object.getOwnPropertySymbols,ao=Object.prototype.hasOwnProperty,co=Object.prototype.propertyIsEnumerable,lo=(e,t,n)=>t in e?ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uo=(e,t)=>{for(var n in t||(t={}))ao.call(t,n)&&lo(e,n,t[n]);if(oo)for(var n of oo(t))co.call(t,n)&&lo(e,n,t[n]);return e},ho=(e,t)=>io(e,so(t));class po extends ns{constructor(e){super(e),this.name="engine",this.events=new(i()),this.initialized=!1,this.ignoredPayloadTypes=[as],this.requestQueue={state:eo,queue:[]},this.sessionRequestQueue={state:eo,queue:[]},this.requestQueueDelay=h.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Js)}),this.initialized=!0,setTimeout((()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,h.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{await this.isInitialized();const t=ho(uo({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:n,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:s,relays:o}=t;let a,c=n,l=!1;if(c&&(l=this.client.core.pairing.pairings.get(c).active),!c||!l){const{topic:e,uri:t}=await this.client.core.pairing.create();c=e,a=t}const u=await this.client.core.crypto.generateKeyPair(),d=uo({requiredNamespaces:r,optionalNamespaces:i,relays:o??[{protocol:"irn"}],proposer:{publicKey:u,metadata:this.client.metadata}},s&&{sessionProperties:s}),{reject:p,resolve:f,done:g}=ms(h.FIVE_MINUTES,Ys);if(this.events.once(vs("session_connect"),(async({error:e,session:t})=>{if(e)p(e);else if(t){t.self.publicKey=u;const e=ho(uo({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces});await this.client.session.set(t.topic,e),await this.setExpiry(t.topic,t.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:t.peer.metadata}),f(e)}})),!c){const{message:e}=xs("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(e)}const m=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:d}),w=ws(h.FIVE_MINUTES);return await this.setProposal(m,uo({id:m,expiry:w},d)),{uri:a,approval:g}},this.pair=async e=>(await this.isInitialized(),await this.client.core.pairing.pair(e)),this.approve=async e=>{await this.isInitialized(),await this.isValidApprove(e);const{id:t,relayProtocol:n,namespaces:r,sessionProperties:i}=e,s=this.client.proposal.get(t);let{pairingTopic:o,proposer:a,requiredNamespaces:c,optionalNamespaces:l}=s;o=o||"",Ss(c)||(c=function(e,t){const n=Ls(e,t);if(n)throw new Error(n.message);const r={};for(const[t,n]of Object.entries(e))r[t]={methods:n.methods,events:n.events,chains:n.accounts.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))};return r}(r,"approve()"));const u=await this.client.core.crypto.generateKeyPair(),h=a.publicKey,d=await this.client.core.crypto.generateSharedKey(u,h);o&&t&&(await this.client.core.pairing.updateMetadata({topic:o,metadata:a.metadata}),await this.sendResult({id:t,topic:o,result:{relay:{protocol:n??"irn"},responderPublicKey:u}}),await this.client.proposal.delete(t,Cs("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:o}));const p=uo({relay:{protocol:n??"irn"},namespaces:r,requiredNamespaces:c,optionalNamespaces:l,pairingTopic:o,controller:{publicKey:u,metadata:this.client.metadata},expiry:ws(Qs)},i&&{sessionProperties:i});await this.client.core.relayer.subscribe(d),await this.sendRequest({topic:d,method:"wc_sessionSettle",params:p,throwOnFailedPublish:!0});const f=ho(uo({},p),{topic:d,pairingTopic:o,acknowledged:!1,self:p.controller,peer:{publicKey:a.publicKey,metadata:a.metadata},controller:u});return await this.client.session.set(d,f),await this.setExpiry(d,ws(Qs)),{topic:d,acknowledged:()=>new Promise((e=>setTimeout((()=>e(this.client.session.get(d))),500)))}},this.reject=async e=>{await this.isInitialized(),await this.isValidReject(e);const{id:t,reason:n}=e,{pairingTopic:r}=this.client.proposal.get(t);r&&(await this.sendError(t,r,n),await this.client.proposal.delete(t,Cs("USER_DISCONNECTED")))},this.update=async e=>{await this.isInitialized(),await this.isValidUpdate(e);const{topic:t,namespaces:n}=e,r=await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n}}),{done:i,resolve:s,reject:o}=ms();return this.events.once(vs("session_update",r),(({error:e})=>{e?o(e):s()})),await this.client.session.update(t,{namespaces:n}),{acknowledged:i}},this.extend=async e=>{await this.isInitialized(),await this.isValidExtend(e);const{topic:t}=e,n=await this.sendRequest({topic:t,method:"wc_sessionExtend",params:{}}),{done:r,resolve:i,reject:s}=ms();return this.events.once(vs("session_extend",n),(({error:e})=>{e?s(e):i()})),await this.setExpiry(t,ws(Qs)),{acknowledged:r}},this.request=async e=>{await this.isInitialized(),await this.isValidRequest(e);const{chainId:t,request:r,topic:i,expiry:s}=e,o=Ot(),{done:a,resolve:c,reject:l}=ms(s,"Request expired. Please try again.");return this.events.once(vs("session_request",o),(({error:e,result:t})=>{e?l(e):c(t)})),await Promise.all([new Promise((async e=>{await this.sendRequest({clientRpcId:o,topic:i,method:"wc_sessionRequest",params:{request:r,chainId:t},expiry:s,throwOnFailedPublish:!0}).catch((e=>l(e))),this.client.events.emit("session_request_sent",{topic:i,request:r,chainId:t,id:o}),e()})),new Promise((async e=>{const t=await async function(e,t){try{return await e.getItem(t)||(ps()?localStorage.getItem(t):void 0)}catch(e){}}(this.client.core.storage,Zs);(async function({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;const i="string"==typeof r?JSON.parse(r):r;let s=i?.href;if("string"!=typeof s)return;s.endsWith("/")&&(s=s.slice(0,-1));const o=`${s}/wc?requestId=${e}&sessionTopic=${t}`,a=fs();a===us.browser?o.startsWith("https://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):a===us.reactNative&&typeof(null==n.g?void 0:n.g.Linking)<"u"&&await n.g.Linking.openURL(o)}catch(e){}})({id:o,topic:i,wcDeepLink:t}),e()})),a()]).then((e=>e[2]))},this.respond=async e=>{await this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:n}=e,{id:r}=n;qt(n)?await this.sendResult({id:r,topic:t,result:n.result,throwOnFailedPublish:!0}):Wt(n)&&await this.sendError(r,t,n.error),this.cleanupAfterResponse(e)},this.ping=async e=>{await this.isInitialized(),await this.isValidPing(e);const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=await this.sendRequest({topic:t,method:"wc_sessionPing",params:{}}),{done:n,resolve:r,reject:i}=ms();this.events.once(vs("session_ping",e),(({error:e})=>{e?i(e):r()})),await n()}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{await this.isInitialized(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e;await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r}})},this.disconnect=async e=>{await this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.client.session.keys.includes(t)?(await this.sendRequest({topic:t,method:"wc_sessionDelete",params:Cs("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(t)):await this.client.core.pairing.disconnect({topic:t})},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter((t=>function(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return!!gs(i,r)&&(r.forEach((t=>{const{accounts:r,methods:i,events:o}=e.namespaces[t],a=bs(r),c=n[t];gs(is(t,c),a)&&gs(c.methods,i)&&gs(c.events,o)||(s=!1)})),s)}(t,e)))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter((n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic}));if(0===n.length)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map((e=>this.client.core.pairing.disconnect({topic:e.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}},this.deleteSession=async(e,t)=>{const{self:n}=this.client.session.get(e);await this.client.core.relayer.unsubscribe(e),this.client.session.delete(e,Cs("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(n.publicKey)&&await this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.keychain.has(e)&&await this.client.core.crypto.deleteSymKey(e),t||this.client.core.expirer.del(e),this.client.core.storage.removeItem(Zs).catch((e=>this.client.logger.warn(e)))},this.deleteProposal=async(e,t)=>{await Promise.all([this.client.proposal.delete(e,Cs("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)])},this.deletePendingSessionRequest=async(e,t,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),n?Promise.resolve():this.client.core.expirer.del(e)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter((t=>t.id!==e)),n&&(this.sessionRequestQueue.state=eo)},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&await this.client.session.update(e,{expiry:t}),this.client.core.expirer.set(e,t)},this.setProposal=async(e,t)=>{await this.client.proposal.set(e,t),this.client.core.expirer.set(e,t.expiry)},this.setPendingSessionRequest=async e=>{const t=Js.wc_sessionRequest.req.ttl,{id:n,topic:r,params:i,verifyContext:s}=e;await this.client.pendingRequest.set(n,{id:n,topic:r,params:i,verifyContext:s}),t&&this.client.core.expirer.set(n,ws(t))},this.sendRequest=async e=>{const{topic:t,method:n,params:r,expiry:i,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:a}=e,c=Pt(n,r,o);if(ps()&&no.includes(n)){const e=cs(JSON.stringify(c));this.client.core.verify.register({attestationId:e})}const l=await this.client.core.crypto.encode(t,c),u=Js[n].req;return i&&(u.ttl=i),s&&(u.id=s),this.client.core.history.set(t,c),a?(u.internal=ho(uo({},u.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,l,u)):this.client.core.relayer.publish(t,l,u).catch((e=>this.client.logger.error(e))),c.id},this.sendResult=async e=>{const{id:t,topic:n,result:r,throwOnFailedPublish:i}=e,s=At(t,r),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,t),c=Js[a.request.method].res;i?(c.internal=ho(uo({},c.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,o,c)):this.client.core.relayer.publish(n,o,c).catch((e=>this.client.logger.error(e))),await this.client.core.history.resolve(s)},this.sendError=async(e,t,n)=>{const r=Nt(e,n),i=await this.client.core.crypto.encode(t,r),s=await this.client.core.history.get(t,e),o=Js[s.request.method].res;this.client.core.relayer.publish(t,i,o),await this.client.core.history.resolve(r)},this.cleanup=async()=>{const e=[],t=[];this.client.session.getAll().forEach((t=>{ys(t.expiry)&&e.push(t.topic)})),this.client.proposal.getAll().forEach((e=>{ys(e.expiry)&&t.push(e.id)})),await Promise.all([...e.map((e=>this.deleteSession(e))),...t.map((e=>this.deleteProposal(e)))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==to){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=to;const e=this.requestQueue.queue.shift();if(e)try{this.processRequest(e),await new Promise((e=>setTimeout(e,300)))}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=eo}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=e=>{const{topic:t,payload:n}=e,r=n.method;switch(r){case"wc_sessionPropose":return this.onSessionProposeRequest(t,n);case"wc_sessionSettle":return this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return this.onSessionExtendRequest(t,n);case"wc_sessionPing":return this.onSessionPingRequest(t,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return this.onSessionRequest(t,n);case"wc_sessionEvent":return this.onSessionEventRequest(t,n);default:return this.client.logger.info(`Unsupported request method ${r}`)}},this.onRelayEventResponse=async e=>{const{topic:t,payload:n}=e,r=(await this.client.core.history.get(t,n.id)).request.method;switch(r){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);default:return this.client.logger.info(`Unsupported response method ${r}`)}},this.onRelayEventUnknownPayload=e=>{const{topic:t}=e,{message:n}=xs("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.onSessionProposeRequest=async(e,t)=>{const{params:n,id:r}=t;try{this.isValidConnect(uo({},t.params));const i=ws(h.FIVE_MINUTES),s=uo({id:r,pairingTopic:e,expiry:i},n);await this.setProposal(r,s);const o=cs(JSON.stringify(t)),a=await this.getVerifyContext(o,s.proposer.metadata);this.client.events.emit("session_proposal",{id:r,params:s,verifyContext:a})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionProposeResponse=async(e,t)=>{const{id:n}=t;if(qt(t)){const{result:r}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:r});const i=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i});const s=i.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});const o=r.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});const a=await this.client.core.crypto.generateSharedKey(s,o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a});const c=await this.client.core.relayer.subscribe(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:e})}else Wt(t)&&(await this.client.proposal.delete(n,Cs("USER_DISCONNECTED")),this.events.emit(vs("session_connect"),{error:t.error}))},this.onSessionSettleRequest=async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:s,namespaces:o,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:l,pairingTopic:u}=t.params,h=uo({topic:e,relay:n,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u,requiredNamespaces:a,optionalNamespaces:c,controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},l&&{sessionProperties:l});await this.sendResult({id:t.id,topic:e,result:!0}),this.events.emit(vs("session_connect"),{session:h}),this.cleanupDuplicatePairings(h)}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.onSessionSettleResponse=async(e,t)=>{const{id:n}=t;qt(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(vs("session_approve",n),{})):Wt(t)&&(await this.client.session.delete(e,Cs("USER_DISCONNECTED")),this.events.emit(vs("session_approve",n),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{const{params:n,id:r}=t;try{const t=`${e}_session_update`,i=Fs.get(t);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidUpdate(uo({topic:e},n)),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_update",{id:r,topic:e,params:n}),Fs.set(t,r)}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.isRequestOutOfSync=(e,t)=>parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,t)=>{const{id:n}=t;qt(t)?this.events.emit(vs("session_update",n),{}):Wt(t)&&this.events.emit(vs("session_update",n),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,ws(Qs)),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.onSessionExtendResponse=(e,t)=>{const{id:n}=t;qt(t)?this.events.emit(vs("session_extend",n),{}):Wt(t)&&this.events.emit(vs("session_extend",n),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.onSessionPingResponse=(e,t)=>{const{id:n}=t;setTimeout((()=>{qt(t)?this.events.emit(vs("session_ping",n),{}):Wt(t)&&this.events.emit(vs("session_ping",n),{error:t.error})}),500)},this.onSessionDeleteRequest=async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise((t=>{this.client.core.relayer.once(zr,(async()=>{t(await this.deleteSession(e))}))})),this.sendResult({id:n,topic:e,result:!0})]),this.client.events.emit("session_delete",{id:n,topic:e})}catch(e){this.client.logger.error(e)}},this.onSessionRequest=async(e,t)=>{const{id:n,params:r}=t;try{this.isValidRequest(uo({topic:e},r));const t=cs(JSON.stringify(Pt("wc_sessionRequest",r,n))),i=this.client.session.get(e),s={id:n,topic:e,params:r,verifyContext:await this.getVerifyContext(t,i.peer.metadata)};await this.setPendingSessionRequest(s),this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue()}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.onSessionRequestResponse=(e,t)=>{const{id:n}=t;qt(t)?this.events.emit(vs("session_request",n),{result:t.result}):Wt(t)&&this.events.emit(vs("session_request",n),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{const{id:n,params:r}=t;try{const t=`${e}_session_event_${r.event.name}`,i=Fs.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info(`Discarding out of sync request - ${n}`);this.isValidEmit(uo({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),Fs.set(t,n)}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=eo,this.processSessionRequestQueue()}),(0,h.toMiliseconds)(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===to)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.sessionRequestQueue.state=to,this.client.events.emit("session_request",e)}catch(e){this.client.logger.error(e)}else this.client.logger.info("session request queue is empty.")},this.onPairingCreated=e=>{if(e.active)return;const t=this.client.proposal.getAll().find((t=>t.pairingTopic===e.topic));t&&this.onSessionProposeRequest(e.topic,Pt("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id))},this.isValidConnect=async e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,relays:s}=e;if(Os(t)||await this.isValidPairingTopic(t),!function(e,t){let n=!1;return t&&!e?n=!0:e&&Is(e)&&e.length&&e.forEach((e=>{n=Ds(e)})),n}(s,!0)){const{message:e}=xs("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(e)}!Os(n)&&0!==Ss(n)&&this.validateNamespaces(n,"requiredNamespaces"),!Os(r)&&0!==Ss(r)&&this.validateNamespaces(r,"optionalNamespaces"),Os(i)||this.validateSessionProps(i,"sessionProperties")},this.validateNamespaces=(e,t)=>{const n=function(e,t,n){let r=null;if(e&&Ss(e)){const i=Rs(e,t);i&&(r=i);const s=Ms(e,t,n);s&&(r=s)}else r=xs("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}(e,"connect()",t);if(n)throw new Error(n.message)},this.isValidApprove=async e=>{if(!js(e))throw new Error(xs("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i}=e;await this.isValidProposalId(t);const s=this.client.proposal.get(t),o=Ls(n,"approve()");if(o)throw new Error(o.message);const a=zs(s.requiredNamespaces,n,"approve()");if(a)throw new Error(a.message);if(!ks(r,!0)){const{message:e}=xs("MISSING_OR_INVALID",`approve() relayProtocol: ${r}`);throw new Error(e)}Os(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(t)}const{id:t,reason:n}=e;if(await this.isValidProposalId(t),!function(e){return!!(e&&"object"==typeof e&&e.code&&Ps(e.code,!1)&&e.message&&ks(e.message,!1))}(n)){const{message:e}=xs("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(e)}},this.isValidSessionSettleRequest=e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!Ds(t)){const{message:e}=xs("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e,t){let n=null;return ks(e?.publicKey,!1)||(n=xs("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}(n,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=Ls(r,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(ys(i)){const{message:e}=xs("EXPIRED","onSessionSettleRequest()");throw new Error(e)}},this.isValidUpdate=async e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(t)}const{topic:t,namespaces:n}=e;await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=Ls(n,"update()");if(i)throw new Error(i.message);const s=zs(r.requiredNamespaces,n,"update()");if(s)throw new Error(s.message)},this.isValidExtend=async e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!Us(s,r)){const{message:e}=xs("MISSING_OR_INVALID",`request() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(Os(e)||!ks(e.method,!1))}(n)){const{message:e}=xs("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(e)}if(!Bs(s,r,n.method)){const{message:e}=xs("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(e)}if(i&&!function(e,t){return Ps(e,!1)&&e<=t.max&&e>=t.min}(i,Xs)){const{message:e}=xs("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${Xs.min} and ${Xs.max}`);throw new Error(e)}},this.isValidRespond=async e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(t)}const{topic:t,response:n}=e;if(await this.isValidSessionTopic(t),!function(e){return!(Os(e)||Os(e.result)&&Os(e.error)||!Ps(e.id,!1)||!ks(e.jsonrpc,!1))}(n)){const{message:e}=xs("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(e)}},this.isValidPing=async e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!Us(i,r)){const{message:e}=xs("MISSING_OR_INVALID",`emit() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(Os(e)||!ks(e.name,!1))}(n)){const{message:e}=xs("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}if(!$s(i,r,n.name)){const{message:e}=xs("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}},this.isValidDisconnect=async e=>{if(!js(e)){const{message:t}=xs("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.getVerifyContext=async(e,t)=>{const n={verified:{verifyUrl:t.verifyUrl||di,validation:"UNKNOWN",origin:t.url||""}};try{const r=await this.client.core.verify.resolve({attestationId:e,verifyUrl:t.verifyUrl});r&&(n.verified.origin=r.origin,n.verified.isScam=r.isScam,n.verified.validation=r.origin===new URL(t.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.info(e)}return this.client.logger.info(`Verify context: ${JSON.stringify(n)}`),n},this.validateSessionProps=(e,t)=>{Object.values(e).forEach((e=>{if(!ks(e,!1)){const{message:n}=xs("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`);throw new Error(n)}}))}}async isInitialized(){if(!this.initialized){const{message:e}=xs("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Lr,(async e=>{const{topic:t,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const r=await this.client.core.crypto.decode(t,n);try{$t(r)?(this.client.core.history.set(t,r),this.onRelayEventRequest({topic:t,payload:r})):zt(r)?(await this.client.core.history.resolve(r),await this.onRelayEventResponse({topic:t,payload:r}),this.client.core.history.delete(t,r.id)):this.onRelayEventUnknownPayload({topic:t,payload:r})}catch(e){this.client.logger.error(e)}}))}registerExpirerEvents(){this.client.core.expirer.on(li,(async e=>{const{topic:t,id:n}=function(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,xs("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))}))}registerPairingEvents(){this.client.core.pairing.events.on(Xr,(e=>this.onPairingCreated(e)))}isValidPairingTopic(e){if(!ks(e,!1)){const{message:t}=xs("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=xs("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(ys(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=xs("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!ks(e,!1)){const{message:t}=xs("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=xs("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(ys(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:t}=xs("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(ks(e,!1)){const{message:t}=xs("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}{const{message:t}=xs("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=xs("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=xs("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(ys(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:t}=xs("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class fo extends qi{constructor(e,t){super(e,t,"proposal",Vs),this.core=e,this.logger=t}}class go extends qi{constructor(e,t){super(e,t,"session",Vs),this.core=e,this.logger=t}}class mo extends qi{constructor(e,t){super(e,t,"request",Vs,(e=>e.id)),this.core=e,this.logger=t}}class wo extends ts{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=Ks,this.events=new r.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}},this.update=async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}},this.request=async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}},this.find=e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.name=e?.name||Ks,this.metadata=e?.metadata||(0,p.D)()||{name:"",description:"",url:"",icons:[""]};const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,T.pino)((0,T.getDefaultLoggerOptions)({level:e?.logger||Gs}));this.core=e?.core||new es(e),this.logger=(0,T.generateChildLogger)(t,this.name),this.session=new go(this.core,this.logger),this.proposal=new fo(this.core,this.logger),this.pendingRequest=new mo(this.core,this.logger),this.engine=new po(this)}static async init(e){const t=new wo(e);return await t.initialize(),t}get context(){return(0,T.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}n(94543),n(34155);const yo=":";function vo(e){const[t,n]=e.split(yo);return{namespace:t,reference:n}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function bo(e=[],t=[]){return[...new Set([...e,...t])]}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function _o(e){return e.includes(":")}function Eo(e){return _o(e)?e.split(":")[0]:e}const xo={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function Co(e,t){const{message:n,code:r}=xo[e];return{message:t?`${n} ${t}`:n,code:r}}function Io(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function So(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}var Oo=n(54098),ko=n.n(Oo);const Po={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class Ao{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!jt(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{const t=x(e),n=await ko()(this.url,Object.assign(Object.assign({},Po),{body:t})),r=await n.json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!jt(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),void 0===this.isAvailable)return t(new Error("HTTP connection is missing or invalid"));e()}))}))}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=x({id:1,jsonrpc:"2.0",method:"test",params:[]});await ko()(e,Object.assign(Object.assign({},Po),{body:t}))}this.onOpen()}catch(e){const t=this.parseError(e);throw this.events.emit("register_error",t),this.onClose(),t}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(void 0===e.data)return;const t="string"==typeof e.data?E(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=Nt(e,n.message||n.toString());this.events.emit("payload",r)}parseError(e,t=this.url){return It(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const No=Ao,Mo="error",To="wc@2:universal_provider:",Ro="default_chain_changed";var Lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},Do={exports:{}};!function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",o=16,a=32,c=64,l=128,u=256,h=1/0,d=9007199254740991,p=NaN,f=4294967295,g=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",a],["partialRight",c],["rearg",u]],m="[object Arguments]",w="[object Array]",y="[object Boolean]",v="[object Date]",b="[object Error]",_="[object Function]",E="[object GeneratorFunction]",x="[object Map]",C="[object Number]",I="[object Object]",S="[object Promise]",O="[object RegExp]",k="[object Set]",P="[object String]",A="[object Symbol]",N="[object WeakMap]",M="[object ArrayBuffer]",T="[object DataView]",R="[object Float32Array]",L="[object Float64Array]",D="[object Int8Array]",j="[object Int16Array]",U="[object Int32Array]",B="[object Uint8Array]",$="[object Uint8ClampedArray]",z="[object Uint16Array]",q="[object Uint32Array]",W=/\b__p \+= '';/g,F=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,G=RegExp(V.source),Z=RegExp(K.source),Y=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),ie=/^\s+/,se=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",Ae="["+Ee+"]",Ne="["+ke+"]",Me="["+xe+"]",Te="\\d+",Re="["+Ce+"]",Le="["+Ie+"]",De="[^"+Ee+ke+Te+Ce+Ie+Se+"]",je="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Ee+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",$e="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Se+"]",qe="\\u200d",We="(?:"+Le+"|"+De+")",Fe="(?:"+ze+"|"+De+")",He="(?:['’](?:d|ll|m|re|s|t|ve))?",Ve="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Me+"|"+je+")"+"?",Ge="["+Oe+"]?",Ze=Ge+Ke+("(?:"+qe+"(?:"+[Ue,Be,$e].join("|")+")"+Ge+Ke+")*"),Ye="(?:"+[Re,Be,$e].join("|")+")"+Ze,Qe="(?:"+[Ue+Me+"?",Me,Be,$e,Ae].join("|")+")",Je=RegExp(Pe,"g"),Xe=RegExp(Me,"g"),et=RegExp(je+"(?="+je+")|"+Qe+Ze,"g"),tt=RegExp([ze+"?"+Le+"+"+He+"(?="+[Ne,ze,"$"].join("|")+")",Fe+"+"+Ve+"(?="+[Ne,ze+We,"$"].join("|")+")",ze+"?"+We+"+"+He,ze+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Te,Ye].join("|"),"g"),nt=RegExp("["+qe+Ee+xe+Oe+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ot={};ot[R]=ot[L]=ot[D]=ot[j]=ot[U]=ot[B]=ot[$]=ot[z]=ot[q]=!0,ot[m]=ot[w]=ot[M]=ot[y]=ot[T]=ot[v]=ot[b]=ot[_]=ot[x]=ot[C]=ot[I]=ot[O]=ot[k]=ot[P]=ot[N]=!1;var at={};at[m]=at[w]=at[M]=at[T]=at[y]=at[v]=at[R]=at[L]=at[D]=at[j]=at[U]=at[x]=at[C]=at[I]=at[O]=at[k]=at[P]=at[A]=at[B]=at[$]=at[z]=at[q]=!0,at[b]=at[_]=at[N]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ut=parseInt,ht="object"==typeof Lo&&Lo&&Lo.Object===Object&&Lo,dt="object"==typeof self&&self&&self.Object===Object&&self,pt=ht||dt||Function("return this")(),ft=t&&!t.nodeType&&t,gt=ft&&e&&!e.nodeType&&e,mt=gt&&gt.exports===ft,wt=mt&&ht.process,yt=function(){try{return gt&&gt.require&&gt.require("util").types||wt&&wt.binding&&wt.binding("util")}catch{}}(),vt=yt&&yt.isArrayBuffer,bt=yt&&yt.isDate,_t=yt&&yt.isMap,Et=yt&&yt.isRegExp,xt=yt&&yt.isSet,Ct=yt&&yt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function Nt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Rt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Ht("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function $t(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function zt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):$t(e,Wt,n)}function qt(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function Wt(e){return e!=e}function Ft(e,t){var n=null==e?0:e.length;return n?Gt(e,t)/n:p}function Ht(e){return function(t){return null==t?n:t[e]}}function Vt(e){return function(t){return null==e?n:e[t]}}function Kt(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function Gt(e,t){for(var r,i=-1,s=e.length;++i<s;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e&&e.slice(0,pn(e)+1).replace(ie,"")}function Qt(e){return function(t){return e(t)}}function Jt(e,t){return Tt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}var nn=Vt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),rn=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function on(e){return nt.test(e)}function an(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];(a===t||a===s)&&(e[n]=s,o[i++]=n)}return o}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){return on(e)?function(e){for(var t=et.lastIndex=0;et.test(e);)++t;return t}(e):Ut(e)}function dn(e){return on(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function pn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var fn=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var se=(t=null==t?pt:gn.defaults(pt.Object(),t,gn.pick(pt,it))).Array,Ee=t.Date,xe=t.Error,Ce=t.Function,Ie=t.Math,Se=t.Object,Oe=t.RegExp,ke=t.String,Pe=t.TypeError,Ae=se.prototype,Ne=Ce.prototype,Me=Se.prototype,Te=t["__core-js_shared__"],Re=Ne.toString,Le=Me.hasOwnProperty,De=0,je=function(){var e=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Me.toString,Be=Re.call(Se),$e=pt._,ze=Oe("^"+Re.call(Le).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=mt?t.Buffer:n,We=t.Symbol,Fe=t.Uint8Array,He=qe?qe.allocUnsafe:n,Ve=cn(Se.getPrototypeOf,Se),Ke=Se.create,Ge=Me.propertyIsEnumerable,Ze=Ae.splice,Ye=We?We.isConcatSpreadable:n,Qe=We?We.iterator:n,et=We?We.toStringTag:n,nt=function(){try{var e=us(Se,"defineProperty");return e({},"",{}),e}catch{}}(),ct=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ht=Ee&&Ee.now!==pt.Date.now&&Ee.now,dt=t.setTimeout!==pt.setTimeout&&t.setTimeout,ft=Ie.ceil,gt=Ie.floor,wt=Se.getOwnPropertySymbols,yt=qe?qe.isBuffer:n,Ut=t.isFinite,Vt=Ae.join,mn=cn(Se.keys,Se),wn=Ie.max,yn=Ie.min,vn=Ee.now,bn=t.parseInt,_n=Ie.random,En=Ae.reverse,xn=us(t,"DataView"),Cn=us(t,"Map"),In=us(t,"Promise"),Sn=us(t,"Set"),On=us(t,"WeakMap"),kn=us(Se,"create"),Pn=On&&new On,An={},Nn=Ds(xn),Mn=Ds(Cn),Tn=Ds(In),Rn=Ds(Sn),Ln=Ds(On),Dn=We?We.prototype:n,jn=Dn?Dn.valueOf:n,Un=Dn?Dn.toString:n;function Bn(e){if(ea(e)&&!Wo(e)&&!(e instanceof Wn)){if(e instanceof qn)return e;if(Le.call(e,"__wrapped__"))return js(e)}return new qn(e)}var $n=function(){function e(){}return function(t){if(!Xo(t))return{};if(Ke)return Ke(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function zn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Vn;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Zn(e,t){var n=Wo(e),r=!n&&qo(e),i=!n&&!r&&Ko(e),s=!n&&!r&&!i&&ca(e),o=n||r||i||s,a=o?Zt(e.length,ke):[],c=a.length;for(var l in e)(t||Le.call(e,l))&&(!o||!("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ws(l,c)))&&a.push(l);return a}function Yn(e){var t=e.length;return t?e[Kr(0,t-1)]:n}function Qn(e,t){return Ts(ki(e),or(t,0,e.length))}function Jn(e){return Ts(ki(e))}function Xn(e,t,r){(r!==n&&!Bo(e[t],r)||r===n&&!(t in e))&&ir(e,t,r)}function er(e,t,r){var i=e[t];(!Le.call(e,t)||!Bo(i,r)||r===n&&!(t in e))&&ir(e,t,r)}function tr(e,t){for(var n=e.length;n--;)if(Bo(e[n][0],t))return n;return-1}function nr(e,t,n,r){return hr(e,(function(e,i,s){t(r,e,n(e),s)})),r}function rr(e,t){return e&&Pi(t,Aa(t),e)}function ir(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,i=t.length,s=se(i),o=null==e;++r<i;)s[r]=o?n:Ia(e,t[r]);return s}function or(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function ar(e,t,r,i,s,o){var a,c=1&t,l=2&t,u=4&t;if(r&&(a=s?r(e,i,s,o):r(e)),a!==n)return a;if(!Xo(e))return e;var h=Wo(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return ki(e,a)}else{var d=ps(e),p=d==_||d==E;if(Ko(e))return Ei(e,c);if(d==I||d==m||p&&!s){if(a=l||p?{}:gs(e),!c)return l?function(e,t){return Pi(e,ds(e),t)}(e,function(e,t){return e&&Pi(t,Na(t),e)}(a,e)):function(e,t){return Pi(e,hs(e),t)}(e,rr(a,e))}else{if(!at[d])return s?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case M:return xi(e);case y:case v:return new r(+e);case T:return function(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case L:case D:case j:case U:case B:case $:case z:case q:return Ci(e,n);case x:return new r;case C:case P:return new r(e);case O:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return new r;case A:return function(e){return jn?Se(jn.call(e)):{}}(e)}}(e,d,c)}}o||(o=new Gn);var f=o.get(e);if(f)return f;o.set(e,a),sa(e)?e.forEach((function(n){a.add(ar(n,t,r,n,e,o))})):ta(e)&&e.forEach((function(n,i){a.set(i,ar(n,t,r,i,e,o))}));var g=h?n:(u?l?rs:ns:l?Na:Aa)(e);return Ot(g||e,(function(n,i){g&&(n=e[i=n]),er(a,i,ar(n,t,r,i,e,o))})),a}function cr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Se(e);i--;){var s=r[i],o=t[s],a=e[s];if(a===n&&!(s in e)||!o(a))return!1}return!0}function lr(e,t,i){if("function"!=typeof e)throw new Pe(r);return Ps((function(){e.apply(n,i)}),t)}function ur(e,t,n,r){var i=-1,s=Nt,o=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=Tt(t,Qt(n))),r?(s=Mt,o=!1):t.length>=200&&(s=Xt,o=!1,t=new Kn(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,o&&h==h){for(var d=l;d--;)if(t[d]===h)continue e;c.push(u)}else s(t,h,r)||c.push(u)}return c}Bn.templateSettings={escape:Y,evaluate:Q,interpolate:J,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,qn.prototype=$n(zn.prototype),qn.prototype.constructor=qn,Wn.prototype=$n(zn.prototype),Wn.prototype.constructor=Wn,Fn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},Fn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Fn.prototype.get=function(e){var t=this.__data__;if(kn){var r=t[e];return r===i?n:r}return Le.call(t,e)?t[e]:n},Fn.prototype.has=function(e){var t=this.__data__;return kn?t[e]!==n:Le.call(t,e)},Fn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kn&&t===n?i:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,r=tr(t,e);return r<0?n:t[r][1]},Hn.prototype.has=function(e){return tr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Fn,map:new(Cn||Hn),string:new Fn}},Vn.prototype.delete=function(e){var t=cs(this,e).delete(e);return this.size-=t?1:0,t},Vn.prototype.get=function(e){return cs(this,e).get(e)},Vn.prototype.has=function(e){return cs(this,e).has(e)},Vn.prototype.set=function(e,t){var n=cs(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,i),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(e,t),this.size=n.size,this};var hr=Mi(vr),dr=Mi(br,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function fr(e,t,r){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=t(o);if(null!=a&&(c===n?a==a&&!aa(a):r(a,c)))var c=a,l=o}return l}function gr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=ms),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?mr(a,t-1,n,r,i):Rt(i,a):r||(i[i.length]=a)}return i}var wr=Ti(),yr=Ti(!0);function vr(e,t){return e&&wr(e,t,Aa)}function br(e,t){return e&&yr(e,t,Aa)}function _r(e,t){return At(t,(function(t){return Yo(e[t])}))}function Er(e,t){for(var r=0,i=(t=yi(t,e)).length;null!=e&&r<i;)e=e[Ls(t[r++])];return r&&r==i?e:n}function xr(e,t,n){var r=t(e);return Wo(e)?r:Rt(r,n(e))}function Cr(e){return null==e?e===n?"[object Undefined]":"[object Null]":et&&et in Se(e)?function(e){var t=Le.call(e,et),r=e[et];try{e[et]=n;var i=!0}catch{}var s=Ue.call(e);return i&&(t?e[et]=r:delete e[et]),s}(e):function(e){return Ue.call(e)}(e)}function Ir(e,t){return e>t}function Sr(e,t){return null!=e&&Le.call(e,t)}function Or(e,t){return null!=e&&t in Se(e)}function kr(e,t,r){for(var i=r?Mt:Nt,s=e[0].length,o=e.length,a=o,c=se(o),l=1/0,u=[];a--;){var h=e[a];a&&t&&(h=Tt(h,Qt(t))),l=yn(h.length,l),c[a]=!r&&(t||s>=120&&h.length>=120)?new Kn(a&&h):n}h=e[0];var d=-1,p=c[0];e:for(;++d<s&&u.length<l;){var f=h[d],g=t?t(f):f;if(f=r||0!==f?f:0,!(p?Xt(p,g):i(u,g,r))){for(a=o;--a;){var m=c[a];if(!(m?Xt(m,g):i(e[a],g,r)))continue e}p&&p.push(g),u.push(f)}}return u}function Pr(e,t,r){var i=null==(e=Ss(e,t=yi(t,e)))?e:e[Ls(Gs(t))];return null==i?n:It(i,e,r)}function Ar(e){return ea(e)&&Cr(e)==m}function Nr(e,t,r,i,s){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,r,i,s,o){var a=Wo(e),c=Wo(t),l=a?w:ps(e),u=c?w:ps(t);l=l==m?I:l;var h=l==I,d=(u=u==m?I:u)==I,p=l==u;if(p&&Ko(e)){if(!Ko(t))return!1;a=!0,h=!1}if(p&&!h)return o||(o=new Gn),a||ca(e)?es(e,t,r,i,s,o):function(e,t,n,r,i,s,o){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!s(new Fe(e),new Fe(t)));case y:case v:case C:return Bo(+e,+t);case b:return e.name==t.name&&e.message==t.message;case O:case P:return e==t+"";case x:var a=an;case k:var c=1&r;if(a||(a=un),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var u=es(a(e),a(t),r,i,s,o);return o.delete(e),u;case A:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,l,r,i,s,o);if(!(1&r)){var f=h&&Le.call(e,"__wrapped__"),g=d&&Le.call(t,"__wrapped__");if(f||g){var _=f?e.value():e,E=g?t.value():t;return o||(o=new Gn),s(_,E,r,i,o)}}return!!p&&(o||(o=new Gn),function(e,t,r,i,s,o){var a=1&r,c=ns(e),l=c.length,u=ns(t),h=u.length;if(l!=h&&!a)return!1;for(var d=l;d--;){var p=c[d];if(!(a?p in t:Le.call(t,p)))return!1}var f=o.get(e),g=o.get(t);if(f&&g)return f==t&&g==e;var m=!0;o.set(e,t),o.set(t,e);for(var w=a;++d<l;){var y=e[p=c[d]],v=t[p];if(i)var b=a?i(v,y,p,t,e,o):i(y,v,p,e,t,o);if(!(b===n?y===v||s(y,v,r,i,o):b)){m=!1;break}w||(w="constructor"==p)}if(m&&!w){var _=e.constructor,E=t.constructor;_!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E)&&(m=!1)}return o.delete(e),o.delete(t),m}(e,t,r,i,s,o))}(e,t,r,i,Nr,s))}function Mr(e,t,r,i){var s=r.length,o=s,a=!i;if(null==e)return!o;for(e=Se(e);s--;){var c=r[s];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var l=(c=r[s])[0],u=e[l],h=c[1];if(a&&c[2]){if(u===n&&!(l in e))return!1}else{var d=new Gn;if(i)var p=i(u,h,l,e,t,d);if(!(p===n?Nr(h,u,3,i,d):p))return!1}}return!0}function Tr(e){return!(!Xo(e)||function(e){return!!je&&je in e}(e))&&(Yo(e)?ze:me).test(Ds(e))}function Rr(e){return"function"==typeof e?e:null==e?nc:"object"==typeof e?Wo(e)?$r(e[0],e[1]):Br(e):hc(e)}function Lr(e){if(!Es(e))return mn(e);var t=[];for(var n in Se(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Dr(e){if(!Xo(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Es(e),n=[];for(var r in e)"constructor"==r&&(t||!Le.call(e,r))||n.push(r);return n}function jr(e,t){return e<t}function Ur(e,t){var n=-1,r=Ho(e)?se(e.length):[];return hr(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Br(e){var t=ls(e);return 1==t.length&&t[0][2]?Cs(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function $r(e,t){return vs(e)&&xs(t)?Cs(Ls(e),t):function(r){var i=Ia(r,e);return i===n&&i===t?Sa(r,e):Nr(t,i,3)}}function zr(e,t,r,i,s){e!==t&&wr(t,(function(o,a){if(s||(s=new Gn),Xo(o))!function(e,t,r,i,s,o,a){var c=Os(e,r),l=Os(t,r),u=a.get(l);if(u)return void Xn(e,r,u);var h=o?o(c,l,r+"",e,t,a):n,d=h===n;if(d){var p=Wo(l),f=!p&&Ko(l),g=!p&&!f&&ca(l);h=l,p||f||g?Wo(c)?h=c:Vo(c)?h=ki(c):f?(d=!1,h=Ei(l,!0)):g?(d=!1,h=Ci(l,!0)):h=[]:ra(l)||qo(l)?(h=c,qo(c)?h=ma(c):(!Xo(c)||Yo(c))&&(h=gs(l))):d=!1}d&&(a.set(l,h),s(h,l,i,o,a),a.delete(l)),Xn(e,r,h)}(e,t,a,r,zr,i,s);else{var c=i?i(Os(e,a),o,a+"",e,t,s):n;c===n&&(c=o),Xn(e,a,c)}}),Na)}function qr(e,t){var r=e.length;if(r)return ws(t+=t<0?r:0,r)?e[t]:n}function Wr(e,t,n){t=t.length?Tt(t,(function(e){return Wo(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[nc];var r=-1;return t=Tt(t,Qt(as())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ur(e,(function(e,n,i){return{criteria:Tt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var c=Ii(i[r],s[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Fr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=Er(e,o);n(a,o)&&Jr(s,yi(o,e),a)}return s}function Hr(e,t,n,r){var i=r?qt:zt,s=-1,o=t.length,a=e;for(e===t&&(t=ki(t)),n&&(a=Tt(e,Qt(n)));++s<o;)for(var c=0,l=t[s],u=n?n(l):l;(c=i(a,u,c,r))>-1;)a!==e&&Ze.call(a,c,1),Ze.call(e,c,1);return e}function Vr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;ws(i)?Ze.call(e,i,1):ui(e,i)}}return e}function Kr(e,t){return e+gt(_n()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return As(Is(e,t,nc),e+"")}function Yr(e){return Yn(Ba(e))}function Qr(e,t){var n=Ba(e);return Ts(n,or(t,0,n.length))}function Jr(e,t,r,i){if(!Xo(e))return e;for(var s=-1,o=(t=yi(t,e)).length,a=o-1,c=e;null!=c&&++s<o;){var l=Ls(t[s]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(s!=a){var h=c[l];(u=i?i(h,l,c):n)===n&&(u=Xo(h)?h:ws(t[s+1])?[]:{})}er(c,l,u),c=c[l]}return e}var Xr=Pn?function(e,t){return Pn.set(e,t),e}:nc,ei=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:Xa(t),writable:!0})}:nc;function ti(e){return Ts(Ba(e))}function ni(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=se(i);++r<i;)s[r]=e[r+t];return s}function ri(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ii(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!aa(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return si(e,t,nc,n)}function si(e,t,r,i){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=r(t))!=t,c=null===t,l=aa(t),u=t===n;s<o;){var h=gt((s+o)/2),d=r(e[h]),p=d!==n,f=null===d,g=d==d,m=aa(d);if(a)var w=i||g;else w=u?g&&(i||p):c?g&&p&&(i||!f):l?g&&p&&!f&&(i||!m):!f&&!m&&(i?d<=t:d<t);w?s=h+1:o=h}return yn(o,4294967294)}function oi(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Bo(a,c)){var c=a;s[i++]=0===o?0:o}}return s}function ai(e){return"number"==typeof e?e:aa(e)?p:+e}function ci(e){if("string"==typeof e)return e;if(Wo(e))return Tt(e,ci)+"";if(aa(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-h?"-0":t}function li(e,t,n){var r=-1,i=Nt,s=e.length,o=!0,a=[],c=a;if(n)o=!1,i=Mt;else if(s>=200){var l=t?null:Gi(e);if(l)return un(l);o=!1,i=Xt,c=new Kn}else c=t?[]:a;e:for(;++r<s;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,o&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),a.push(u)}else i(c,h,n)||(c!==a&&c.push(h),a.push(u))}return a}function ui(e,t){return null==(e=Ss(e,t=yi(t,e)))||delete e[Ls(Gs(t))]}function hi(e,t,n,r){return Jr(e,t,n(Er(e,t)),r)}function di(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?ni(e,r?0:s,r?s+1:i):ni(e,r?s+1:0,r?i:s)}function pi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function fi(e,t,n){var r=e.length;if(r<2)return r?li(e[0]):[];for(var i=-1,s=se(r);++i<r;)for(var o=e[i],a=-1;++a<r;)a!=i&&(s[i]=ur(s[i]||o,e[a],t,n));return li(mr(s,1),t,n)}function gi(e,t,r){for(var i=-1,s=e.length,o=t.length,a={};++i<s;){var c=i<o?t[i]:n;r(a,e[i],c)}return a}function mi(e){return Vo(e)?e:[]}function wi(e){return"function"==typeof e?e:nc}function yi(e,t){return Wo(e)?e:vs(e,t)?[e]:Rs(wa(e))}var vi=Zr;function bi(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ni(e,t,r)}var _i=ct||function(e){return pt.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function xi(e){var t=new e.constructor(e.byteLength);return new Fe(t).set(new Fe(e)),t}function Ci(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ii(e,t){if(e!==t){var r=e!==n,i=null===e,s=e==e,o=aa(e),a=t!==n,c=null===t,l=t==t,u=aa(t);if(!c&&!u&&!o&&e>t||o&&a&&l&&!c&&!u||i&&a&&l||!r&&l||!s)return 1;if(!i&&!o&&!u&&e<t||u&&r&&s&&!i&&!o||c&&r&&s||!a&&s||!l)return-1}return 0}function Si(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,c=t.length,l=wn(s-o,0),u=se(c+l),h=!r;++a<c;)u[a]=t[a];for(;++i<o;)(h||i<s)&&(u[n[i]]=e[i]);for(;l--;)u[a++]=e[i++];return u}function Oi(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,c=-1,l=t.length,u=wn(s-a,0),h=se(u+l),d=!r;++i<u;)h[i]=e[i];for(var p=i;++c<l;)h[p+c]=t[c];for(;++o<a;)(d||i<s)&&(h[p+n[o]]=e[i++]);return h}function ki(e,t){var n=-1,r=e.length;for(t||(t=se(r));++n<r;)t[n]=e[n];return t}function Pi(e,t,r,i){var s=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var c=t[o],l=i?i(r[c],e[c],c,r,e):n;l===n&&(l=e[c]),s?ir(r,c,l):er(r,c,l)}return r}function Ai(e,t){return function(n,r){var i=Wo(n)?St:nr,s=t?t():{};return i(n,e,as(r,2),s)}}function Ni(e){return Zr((function(t,r){var i=-1,s=r.length,o=s>1?r[s-1]:n,a=s>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(s--,o):n,a&&ys(r[0],r[1],a)&&(o=s<3?n:o,s=1),t=Se(t);++i<s;){var c=r[i];c&&e(t,c,i,o)}return t}))}function Mi(e,t){return function(n,r){if(null==n)return n;if(!Ho(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Se(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Ti(e){return function(t,n,r){for(var i=-1,s=Se(t),o=r(t),a=o.length;a--;){var c=o[e?a:++i];if(!1===n(s[c],c,s))break}return t}}function Ri(e){return function(t){var r=on(t=wa(t))?dn(t):n,i=r?r[0]:t.charAt(0),s=r?bi(r,1).join(""):t.slice(1);return i[e]()+s}}function Li(e){return function(t){return Lt(Ya(qa(t).replace(Je,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=$n(e.prototype),r=e.apply(n,t);return Xo(r)?r:n}}function ji(e){return function(t,r,i){var s=Se(t);if(!Ho(t)){var o=as(r,3);t=Aa(t),r=function(e){return o(s[e],e,s)}}var a=e(t,r,i);return a>-1?s[o?t[a]:a]:n}}function Ui(e){return ts((function(t){var i=t.length,s=i,o=qn.prototype.thru;for(e&&t.reverse();s--;){var a=t[s];if("function"!=typeof a)throw new Pe(r);if(o&&!c&&"wrapper"==ss(a))var c=new qn([],!0)}for(s=c?s:i;++s<i;){var l=ss(a=t[s]),u="wrapper"==l?is(a):n;c=u&&bs(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[ss(u[0])].apply(c,u[3]):1==a.length&&bs(a)?c[l]():c.thru(a)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Wo(n))return c.plant(n).value();for(var r=0,s=i?t[r].apply(this,e):n;++r<i;)s=t[r].call(this,s);return s}}))}function Bi(e,t,r,i,s,o,a,c,u,h){var d=t&l,p=1&t,f=2&t,g=24&t,m=512&t,w=f?n:Di(e);return function l(){for(var y=arguments.length,v=se(y),b=y;b--;)v[b]=arguments[b];if(g)var _=os(l),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,_);if(i&&(v=Si(v,i,s,g)),o&&(v=Oi(v,o,a,g)),y-=E,g&&y<h){var x=ln(v,_);return Vi(e,t,Bi,l.placeholder,r,v,x,c,u,h-y)}var C=p?r:this,I=f?C[e]:e;return y=v.length,c?v=function(e,t){for(var r=e.length,i=yn(t.length,r),s=ki(e);i--;){var o=t[i];e[i]=ws(o,r)?s[o]:n}return e}(v,c):m&&y>1&&v.reverse(),d&&u<y&&(v.length=u),this&&this!==pt&&this instanceof l&&(I=w||Di(I)),I.apply(C,v)}}function $i(e,t){return function(n,r){return function(e,t,n,r){return vr(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function zi(e,t){return function(r,i){var s;if(r===n&&i===n)return t;if(r!==n&&(s=r),i!==n){if(s===n)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=ai(r),i=ai(i)),s=e(r,i)}return s}}function qi(e){return ts((function(t){return t=Tt(t,Qt(as())),Zr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Wi(e,t){var r=(t=t===n?" ":ci(t)).length;if(r<2)return r?Gr(t,e):t;var i=Gr(t,ft(e/hn(t)));return on(t)?bi(dn(i),0,e).join(""):i.slice(0,e)}function Fi(e){return function(t,r,i){return i&&"number"!=typeof i&&ys(t,r,i)&&(r=i=n),t=da(t),r===n?(r=t,t=0):r=da(r),function(e,t,n,r){for(var i=-1,s=wn(ft((t-e)/(n||1)),0),o=se(s);s--;)o[r?s:++i]=e,e+=n;return o}(t,r,i=i===n?t<r?1:-1:da(i),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Vi(e,t,r,i,s,o,l,u,h,d){var p=8&t;t|=p?a:c,4&(t&=~(p?c:a))||(t&=-4);var f=[e,t,s,p?o:n,p?l:n,p?n:o,p?n:l,u,h,d],g=r.apply(n,f);return bs(e)&&ks(g,f),g.placeholder=i,Ns(g,e,t)}function Ki(e){var t=Ie[e];return function(e,n){if(e=ga(e),(n=null==n?0:yn(pa(n),292))&&Ut(e)){var r=(wa(e)+"e").split("e");return+((r=(wa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Gi=Sn&&1/un(new Sn([,-0]))[1]==h?function(e){return new Sn(e)}:ac;function Zi(e){return function(t){var n=ps(t);return n==x?an(t):n==k?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Tt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,i,h,d,p,f,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Pe(r);var w=h?h.length:0;if(w||(t&=-97,h=d=n),f=f===n?f:wn(pa(f),0),g=g===n?g:pa(g),w-=d?d.length:0,t&c){var y=h,v=d;h=d=n}var b=m?n:is(e),_=[e,t,i,h,d,y,v,p,f,g];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==l&&8==n||r==l&&n==u&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var h=e[3];e[3]=h?Si(h,c,t[4]):c,e[4]=h?ln(e[3],s):t[4]}c=t[5],c&&(h=e[5],e[5]=h?Oi(h,c,t[6]):c,e[6]=h?ln(e[5],s):t[6]),c=t[7],c&&(e[7]=c),r&l&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(_,b),e=_[0],t=_[1],i=_[2],h=_[3],d=_[4],!(g=_[9]=_[9]===n?m?0:e.length:wn(_[9]-w,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==o?function(e,t,r){var i=Di(e);return function s(){for(var o=arguments.length,a=se(o),c=o,l=os(s);c--;)a[c]=arguments[c];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:ln(a,l);return(o-=u.length)<r?Vi(e,t,Bi,s.placeholder,n,a,u,n,n,r-o):It(this&&this!==pt&&this instanceof s?i:e,this,a)}}(e,t,g):t!=a&&33!=t||d.length?Bi.apply(n,_):function(e,t,n,r){var i=1&t,s=Di(e);return function t(){for(var o=-1,a=arguments.length,c=-1,l=r.length,u=se(l+a),h=this&&this!==pt&&this instanceof t?s:e;++c<l;)u[c]=r[c];for(;a--;)u[c++]=arguments[++o];return It(h,i?n:this,u)}}(e,t,i,h);else var E=function(e,t,n){var r=1&t,i=Di(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return Ns((b?Xr:ks)(E,_),e,t)}function Qi(e,t,r,i){return e===n||Bo(e,Me[r])&&!Le.call(i,r)?t:e}function Ji(e,t,r,i,s,o){return Xo(e)&&Xo(t)&&(o.set(t,e),zr(e,t,n,Ji,o),o.delete(t)),e}function Xi(e){return ra(e)?n:e}function es(e,t,r,i,s,o){var a=1&r,c=e.length,l=t.length;if(c!=l&&!(a&&l>c))return!1;var u=o.get(e),h=o.get(t);if(u&&h)return u==t&&h==e;var d=-1,p=!0,f=2&r?new Kn:n;for(o.set(e,t),o.set(t,e);++d<c;){var g=e[d],m=t[d];if(i)var w=a?i(m,g,d,t,e,o):i(g,m,d,e,t,o);if(w!==n){if(w)continue;p=!1;break}if(f){if(!jt(t,(function(e,t){if(!Xt(f,t)&&(g===e||s(g,e,r,i,o)))return f.push(t)}))){p=!1;break}}else if(g!==m&&!s(g,m,r,i,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function ts(e){return As(Is(e,n,Ws),e+"")}function ns(e){return xr(e,Aa,hs)}function rs(e){return xr(e,Na,ds)}var is=Pn?function(e){return Pn.get(e)}:ac;function ss(e){for(var t=e.name+"",n=An[t],r=Le.call(An,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function os(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function as(){var e=Bn.iteratee||rc;return e=e===rc?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function cs(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ls(e){for(var t=Aa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,xs(i)]}return t}function us(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Tr(r)?r:n}var hs=wt?function(e){return null==e?[]:(e=Se(e),At(wt(e),(function(t){return Ge.call(e,t)})))}:fc,ds=wt?function(e){for(var t=[];e;)Rt(t,hs(e)),e=Ve(e);return t}:fc,ps=Cr;function fs(e,t,n){for(var r=-1,i=(t=yi(t,e)).length,s=!1;++r<i;){var o=Ls(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&Jo(i)&&ws(o,i)&&(Wo(e)||qo(e))}function gs(e){return"function"!=typeof e.constructor||Es(e)?{}:$n(Ve(e))}function ms(e){return Wo(e)||qo(e)||!!(Ye&&e&&e[Ye])}function ws(e,t){var n=typeof e;return!!(t=t??d)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function ys(e,t,n){if(!Xo(n))return!1;var r=typeof t;return!!("number"==r?Ho(n)&&ws(t,n.length):"string"==r&&t in n)&&Bo(n[t],e)}function vs(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||(ee.test(e)||!X.test(e)||null!=t&&e in Se(t))}function bs(e){var t=ss(e),n=Bn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=is(n);return!!r&&e===r[0]}(xn&&ps(new xn(new ArrayBuffer(1)))!=T||Cn&&ps(new Cn)!=x||In&&ps(In.resolve())!=S||Sn&&ps(new Sn)!=k||On&&ps(new On)!=N)&&(ps=function(e){var t=Cr(e),r=t==I?e.constructor:n,i=r?Ds(r):"";if(i)switch(i){case Nn:return T;case Mn:return x;case Tn:return S;case Rn:return k;case Ln:return N}return t});var _s=Te?Yo:gc;function Es(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function xs(e){return e==e&&!Xo(e)}function Cs(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Se(r)))}}function Is(e,t,r){return t=wn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=wn(n.length-t,0),o=se(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=se(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),It(e,this,a)}}function Ss(e,t){return t.length<2?e:Er(e,ni(t,0,-1))}function Os(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ks=Ms(Xr),Ps=dt||function(e,t){return pt.setTimeout(e,t)},As=Ms(ei);function Ns(e,t,n){var r=t+"";return As(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ot(g,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(ce):[]}(r),n)))}function Ms(e){var t=0,r=0;return function(){var i=vn(),s=16-(i-r);if(r=i,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Ts(e,t){var r=-1,i=e.length,s=i-1;for(t=t===n?i:t;++r<t;){var o=Kr(r,s),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e}var Rs=function(e){var t=To(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Ls(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-h?"-0":t}function Ds(e){if(null!=e){try{return Re.call(e)}catch{}try{return e+""}catch{}}return""}function js(e){if(e instanceof Wn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=ki(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Us=Zr((function(e,t){return Vo(e)?ur(e,mr(t,1,Vo,!0)):[]})),Bs=Zr((function(e,t){var r=Gs(t);return Vo(r)&&(r=n),Vo(e)?ur(e,mr(t,1,Vo,!0),as(r,2)):[]})),$s=Zr((function(e,t){var r=Gs(t);return Vo(r)&&(r=n),Vo(e)?ur(e,mr(t,1,Vo,!0),n,r):[]}));function zs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=wn(r+i,0)),$t(e,as(t,3),i)}function qs(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var s=i-1;return r!==n&&(s=pa(r),s=r<0?wn(i+s,0):yn(s,i-1)),$t(e,as(t,3),s,!0)}function Ws(e){return(null==e?0:e.length)?mr(e,1):[]}function Fs(e){return e&&e.length?e[0]:n}var Hs=Zr((function(e){var t=Tt(e,mi);return t.length&&t[0]===e[0]?kr(t):[]})),Vs=Zr((function(e){var t=Gs(e),r=Tt(e,mi);return t===Gs(r)?t=n:r.pop(),r.length&&r[0]===e[0]?kr(r,as(t,2)):[]})),Ks=Zr((function(e){var t=Gs(e),r=Tt(e,mi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?kr(r,n,t):[]}));function Gs(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Zs=Zr(Ys);function Ys(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var Qs=ts((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Vr(e,Tt(t,(function(e){return ws(e,n)?+e:e})).sort(Ii)),r}));function Js(e){return null==e?e:En.call(e)}var Xs=Zr((function(e){return li(mr(e,1,Vo,!0))})),eo=Zr((function(e){var t=Gs(e);return Vo(t)&&(t=n),li(mr(e,1,Vo,!0),as(t,2))})),to=Zr((function(e){var t=Gs(e);return t="function"==typeof t?t:n,li(mr(e,1,Vo,!0),n,t)}));function no(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(Vo(e))return t=wn(e.length,t),!0})),Zt(t,(function(t){return Tt(e,Ht(t))}))}function ro(e,t){if(!e||!e.length)return[];var r=no(e);return null==t?r:Tt(r,(function(e){return It(t,n,e)}))}var io=Zr((function(e,t){return Vo(e)?ur(e,t):[]})),so=Zr((function(e){return fi(At(e,Vo))})),oo=Zr((function(e){var t=Gs(e);return Vo(t)&&(t=n),fi(At(e,Vo),as(t,2))})),ao=Zr((function(e){var t=Gs(e);return t="function"==typeof t?t:n,fi(At(e,Vo),n,t)})),co=Zr(no);var lo=Zr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,ro(e,r)}));function uo(e){var t=Bn(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var po=ts((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,s=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Wn&&ws(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:ho,args:[s],thisArg:n}),new qn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(s)}));var fo=Ai((function(e,t,n){Le.call(e,n)?++e[n]:ir(e,n,1)}));var go=ji(zs),mo=ji(qs);function wo(e,t){return(Wo(e)?Ot:hr)(e,as(t,3))}function yo(e,t){return(Wo(e)?kt:dr)(e,as(t,3))}var vo=Ai((function(e,t,n){Le.call(e,n)?e[n].push(t):ir(e,n,[t])}));var bo=Zr((function(e,t,n){var r=-1,i="function"==typeof t,s=Ho(e)?se(e.length):[];return hr(e,(function(e){s[++r]=i?It(t,e,n):Pr(e,t,n)})),s})),_o=Ai((function(e,t,n){ir(e,n,t)}));function Eo(e,t){return(Wo(e)?Tt:Ur)(e,as(t,3))}var xo=Ai((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Co=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ys(e,t[0],t[1])?t=[]:n>2&&ys(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,mr(t,1),[])})),Io=ht||function(){return pt.Date.now()};function So(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Yi(e,l,n,n,n,n,t)}function Oo(e,t){var i;if("function"!=typeof t)throw new Pe(r);return e=pa(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var ko=Zr((function(e,t,n){var r=1;if(n.length){var i=ln(n,os(ko));r|=a}return Yi(e,r,t,n,i)})),Po=Zr((function(e,t,n){var r=3;if(n.length){var i=ln(n,os(Po));r|=a}return Yi(t,r,e,n,i)}));function Ao(e,t,i){var s,o,a,c,l,u,h=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new Pe(r);function g(t){var r=s,i=o;return s=o=n,h=t,c=e.apply(i,r)}function m(e){var r=e-u;return u===n||r>=t||r<0||p&&e-h>=a}function w(){var e=Io();if(m(e))return y(e);l=Ps(w,function(e){var n=t-(e-u);return p?yn(n,a-(e-h)):n}(e))}function y(e){return l=n,f&&s?g(e):(s=o=n,c)}function v(){var e=Io(),r=m(e);if(s=arguments,o=this,u=e,r){if(l===n)return function(e){return h=e,l=Ps(w,t),d?g(e):c}(u);if(p)return _i(l),l=Ps(w,t),g(u)}return l===n&&(l=Ps(w,t)),c}return t=ga(t)||0,Xo(i)&&(d=!!i.leading,a=(p="maxWait"in i)?wn(ga(i.maxWait)||0,t):a,f="trailing"in i?!!i.trailing:f),v.cancel=function(){l!==n&&_i(l),h=0,s=u=o=l=n},v.flush=function(){return l===n?c:y(Io())},v}var No=Zr((function(e,t){return lr(e,1,t)})),Mo=Zr((function(e,t,n){return lr(e,ga(t)||0,n)}));function To(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(To.Cache||Vn),n}function Ro(e){if("function"!=typeof e)throw new Pe(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}To.Cache=Vn;var Lo=vi((function(e,t){var n=(t=1==t.length&&Wo(t[0])?Tt(t[0],Qt(as())):Tt(mr(t,1),Qt(as()))).length;return Zr((function(r){for(var i=-1,s=yn(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return It(e,this,r)}))})),Do=Zr((function(e,t){var r=ln(t,os(Do));return Yi(e,a,n,t,r)})),jo=Zr((function(e,t){var r=ln(t,os(jo));return Yi(e,c,n,t,r)})),Uo=ts((function(e,t){return Yi(e,u,n,n,n,t)}));function Bo(e,t){return e===t||e!=e&&t!=t}var $o=Hi(Ir),zo=Hi((function(e,t){return e>=t})),qo=Ar(function(){return arguments}())?Ar:function(e){return ea(e)&&Le.call(e,"callee")&&!Ge.call(e,"callee")},Wo=se.isArray,Fo=vt?Qt(vt):function(e){return ea(e)&&Cr(e)==M};function Ho(e){return null!=e&&Jo(e.length)&&!Yo(e)}function Vo(e){return ea(e)&&Ho(e)}var Ko=yt||gc,Go=bt?Qt(bt):function(e){return ea(e)&&Cr(e)==v};function Zo(e){if(!ea(e))return!1;var t=Cr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Yo(e){if(!Xo(e))return!1;var t=Cr(e);return t==_||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qo(e){return"number"==typeof e&&e==pa(e)}function Jo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Xo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=_t?Qt(_t):function(e){return ea(e)&&ps(e)==x};function na(e){return"number"==typeof e||ea(e)&&Cr(e)==C}function ra(e){if(!ea(e)||Cr(e)!=I)return!1;var t=Ve(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Be}var ia=Et?Qt(Et):function(e){return ea(e)&&Cr(e)==O};var sa=xt?Qt(xt):function(e){return ea(e)&&ps(e)==k};function oa(e){return"string"==typeof e||!Wo(e)&&ea(e)&&Cr(e)==P}function aa(e){return"symbol"==typeof e||ea(e)&&Cr(e)==A}var ca=Ct?Qt(Ct):function(e){return ea(e)&&Jo(e.length)&&!!ot[Cr(e)]};var la=Hi(jr),ua=Hi((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(Ho(e))return oa(e)?dn(e):ki(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ps(e);return(t==x?an:t==k?un:Ba)(e)}function da(e){return e?(e=ga(e))===h||e===-h?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function pa(e){var t=da(e),n=t%1;return t==t?n?t-n:t:0}function fa(e){return e?or(pa(e),0,f):0}function ga(e){if("number"==typeof e)return e;if(aa(e))return p;if(Xo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=ge.test(e);return n||we.test(e)?ut(e.slice(2),n?2:8):fe.test(e)?p:+e}function ma(e){return Pi(e,Na(e))}function wa(e){return null==e?"":ci(e)}var ya=Ni((function(e,t){if(Es(t)||Ho(t))Pi(t,Aa(t),e);else for(var n in t)Le.call(t,n)&&er(e,n,t[n])})),va=Ni((function(e,t){Pi(t,Na(t),e)})),ba=Ni((function(e,t,n,r){Pi(t,Na(t),e,r)})),_a=Ni((function(e,t,n,r){Pi(t,Aa(t),e,r)})),Ea=ts(sr);var xa=Zr((function(e,t){e=Se(e);var r=-1,i=t.length,s=i>2?t[2]:n;for(s&&ys(t[0],t[1],s)&&(i=1);++r<i;)for(var o=t[r],a=Na(o),c=-1,l=a.length;++c<l;){var u=a[c],h=e[u];(h===n||Bo(h,Me[u])&&!Le.call(e,u))&&(e[u]=o[u])}return e})),Ca=Zr((function(e){return e.push(n,Ji),It(Ta,n,e)}));function Ia(e,t,r){var i=null==e?n:Er(e,t);return i===n?r:i}function Sa(e,t){return null!=e&&fs(e,t,Or)}var Oa=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),Xa(nc)),ka=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),as),Pa=Zr(Pr);function Aa(e){return Ho(e)?Zn(e):Lr(e)}function Na(e){return Ho(e)?Zn(e,!0):Dr(e)}var Ma=Ni((function(e,t,n){zr(e,t,n)})),Ta=Ni((function(e,t,n,r){zr(e,t,n,r)})),Ra=ts((function(e,t){var n={};if(null==e)return n;var r=!1;t=Tt(t,(function(t){return t=yi(t,e),r||(r=t.length>1),t})),Pi(e,rs(e),n),r&&(n=ar(n,7,Xi));for(var i=t.length;i--;)ui(n,t[i]);return n}));var La=ts((function(e,t){return null==e?{}:function(e,t){return Fr(e,t,(function(t,n){return Sa(e,n)}))}(e,t)}));function Da(e,t){if(null==e)return{};var n=Tt(rs(e),(function(e){return[e]}));return t=as(t),Fr(e,n,(function(e,n){return t(e,n[0])}))}var ja=Zi(Aa),Ua=Zi(Na);function Ba(e){return null==e?[]:Jt(e,Aa(e))}var $a=Li((function(e,t,n){return t=t.toLowerCase(),e+(n?za(t):t)}));function za(e){return Za(wa(e).toLowerCase())}function qa(e){return(e=wa(e))&&e.replace(ve,nn).replace(Xe,"")}var Wa=Li((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Fa=Li((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ha=Ri("toLowerCase");var Va=Li((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ka=Li((function(e,t,n){return e+(n?" ":"")+Za(t)}));var Ga=Li((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Za=Ri("toUpperCase");function Ya(e,t,r){return e=wa(e),(t=r?n:t)===n?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Qa=Zr((function(e,t){try{return It(e,n,t)}catch(e){return Zo(e)?e:new xe(e)}})),Ja=ts((function(e,t){return Ot(t,(function(t){t=Ls(t),ir(e,t,ko(e[t],e))})),e}));function Xa(e){return function(){return e}}var ec=Ui(),tc=Ui(!0);function nc(e){return e}function rc(e){return Rr("function"==typeof e?e:ar(e,1))}var ic=Zr((function(e,t){return function(n){return Pr(n,e,t)}})),sc=Zr((function(e,t){return function(n){return Pr(e,n,t)}}));function oc(e,t,n){var r=Aa(t),i=_r(t,r);null==n&&(!Xo(t)||!i.length&&r.length)&&(n=t,t=e,e=this,i=_r(t,Aa(t)));var s=!(Xo(n)&&"chain"in n&&!n.chain),o=Yo(e);return Ot(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=ki(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})})),e}function ac(){}var cc=qi(Tt),lc=qi(Pt),uc=qi(jt);function hc(e){return vs(e)?Ht(Ls(e)):function(e){return function(t){return Er(t,e)}}(e)}var dc=Fi(),pc=Fi(!0);function fc(){return[]}function gc(){return!1}var mc=zi((function(e,t){return e+t}),0),wc=Ki("ceil"),yc=zi((function(e,t){return e/t}),1),vc=Ki("floor");var bc=zi((function(e,t){return e*t}),1),_c=Ki("round"),Ec=zi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Pe(r);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=So,Bn.assign=ya,Bn.assignIn=va,Bn.assignInWith=ba,Bn.assignWith=_a,Bn.at=Ea,Bn.before=Oo,Bn.bind=ko,Bn.bindAll=Ja,Bn.bindKey=Po,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Bn.chain=uo,Bn.chunk=function(e,t,r){t=(r?ys(e,t,r):t===n)?1:wn(pa(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,a=se(ft(i/t));s<i;)a[o++]=ni(e,s,s+=t);return a},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=se(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Rt(Wo(n)?ki(n):[n],mr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=as();return e=t?Tt(e,(function(e){if("function"!=typeof e[1])throw new Pe(r);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(It(i[0],this,n))return It(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Aa(e);return function(n){return cr(n,e,t)}}(ar(e,1))},Bn.constant=Xa,Bn.countBy=fo,Bn.create=function(e,t){var n=$n(e);return null==t?n:rr(n,t)},Bn.curry=function e(t,r,i){var s=Yi(t,8,n,n,n,n,n,r=i?n:r);return s.placeholder=e.placeholder,s},Bn.curryRight=function e(t,r,i){var s=Yi(t,o,n,n,n,n,n,r=i?n:r);return s.placeholder=e.placeholder,s},Bn.debounce=Ao,Bn.defaults=xa,Bn.defaultsDeep=Ca,Bn.defer=No,Bn.delay=Mo,Bn.difference=Us,Bn.differenceBy=Bs,Bn.differenceWith=$s,Bn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ni(e,(t=r||t===n?1:pa(t))<0?0:t,i):[]},Bn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ni(e,0,(t=i-(t=r||t===n?1:pa(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?di(e,as(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?di(e,as(t,3),!0):[]},Bn.fill=function(e,t,r,i){var s=null==e?0:e.length;return s?(r&&"number"!=typeof r&&ys(e,t,r)&&(r=0,i=s),function(e,t,r,i){var s=e.length;for((r=pa(r))<0&&(r=-r>s?0:s+r),(i=i===n||i>s?s:pa(i))<0&&(i+=s),i=r>i?0:fa(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Bn.filter=function(e,t){return(Wo(e)?At:gr)(e,as(t,3))},Bn.flatMap=function(e,t){return mr(Eo(e,t),1)},Bn.flatMapDeep=function(e,t){return mr(Eo(e,t),h)},Bn.flatMapDepth=function(e,t,r){return r=r===n?1:pa(r),mr(Eo(e,t),r)},Bn.flatten=Ws,Bn.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,h):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===n?1:pa(t)):[]},Bn.flip=function(e){return Yi(e,512)},Bn.flow=ec,Bn.flowRight=tc,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:_r(e,Aa(e))},Bn.functionsIn=function(e){return null==e?[]:_r(e,Na(e))},Bn.groupBy=vo,Bn.initial=function(e){return(null==e?0:e.length)?ni(e,0,-1):[]},Bn.intersection=Hs,Bn.intersectionBy=Vs,Bn.intersectionWith=Ks,Bn.invert=Oa,Bn.invertBy=ka,Bn.invokeMap=bo,Bn.iteratee=rc,Bn.keyBy=_o,Bn.keys=Aa,Bn.keysIn=Na,Bn.map=Eo,Bn.mapKeys=function(e,t){var n={};return t=as(t,3),vr(e,(function(e,r,i){ir(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=as(t,3),vr(e,(function(e,r,i){ir(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(ar(e,1))},Bn.matchesProperty=function(e,t){return $r(e,ar(t,1))},Bn.memoize=To,Bn.merge=Ma,Bn.mergeWith=Ta,Bn.method=ic,Bn.methodOf=sc,Bn.mixin=oc,Bn.negate=Ro,Bn.nthArg=function(e){return e=pa(e),Zr((function(t){return qr(t,e)}))},Bn.omit=Ra,Bn.omitBy=function(e,t){return Da(e,Ro(as(t)))},Bn.once=function(e){return Oo(2,e)},Bn.orderBy=function(e,t,r,i){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(r=i?n:r)||(r=null==r?[]:[r]),Wr(e,t,r))},Bn.over=cc,Bn.overArgs=Lo,Bn.overEvery=lc,Bn.overSome=uc,Bn.partial=Do,Bn.partialRight=jo,Bn.partition=xo,Bn.pick=La,Bn.pickBy=Da,Bn.property=hc,Bn.propertyOf=function(e){return function(t){return null==e?n:Er(e,t)}},Bn.pull=Zs,Bn.pullAll=Ys,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,as(n,2)):e},Bn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Hr(e,t,n,r):e},Bn.pullAt=Qs,Bn.range=dc,Bn.rangeRight=pc,Bn.rearg=Uo,Bn.reject=function(e,t){return(Wo(e)?At:gr)(e,Ro(as(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=as(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Vr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Pe(r);return Zr(e,t=t===n?t:pa(t))},Bn.reverse=Js,Bn.sampleSize=function(e,t,r){return t=(r?ys(e,t,r):t===n)?1:pa(t),(Wo(e)?Qn:Qr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Jr(e,t,n)},Bn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Jr(e,t,r,i)},Bn.shuffle=function(e){return(Wo(e)?Jn:ti)(e)},Bn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&ys(e,t,r)?(t=0,r=i):(t=null==t?0:pa(t),r=r===n?i:pa(r)),ni(e,t,r)):[]},Bn.sortBy=Co,Bn.sortedUniq=function(e){return e&&e.length?oi(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?oi(e,as(t,2)):[]},Bn.split=function(e,t,r){return r&&"number"!=typeof r&&ys(e,t,r)&&(t=r=n),(r=r===n?f:r>>>0)?(e=wa(e))&&("string"==typeof t||null!=t&&!ia(t))&&(!(t=ci(t))&&on(e))?bi(dn(e),0,r):e.split(t,r):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Pe(r);return t=null==t?0:wn(pa(t),0),Zr((function(n){var r=n[t],i=bi(n,0,t);return r&&Rt(i,r),It(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ni(e,1,t):[]},Bn.take=function(e,t,r){return e&&e.length?ni(e,0,(t=r||t===n?1:pa(t))<0?0:t):[]},Bn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ni(e,(t=i-(t=r||t===n?1:pa(t)))<0?0:t,i):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?di(e,as(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?di(e,as(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new Pe(r);return Xo(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Ao(e,t,{leading:i,maxWait:t,trailing:s})},Bn.thru=ho,Bn.toArray=ha,Bn.toPairs=ja,Bn.toPairsIn=Ua,Bn.toPath=function(e){return Wo(e)?Tt(e,Ls):aa(e)?[e]:ki(Rs(wa(e)))},Bn.toPlainObject=ma,Bn.transform=function(e,t,n){var r=Wo(e),i=r||Ko(e)||ca(e);if(t=as(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:Xo(e)&&Yo(s)?$n(Ve(e)):{}}return(i?Ot:vr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return So(e,1)},Bn.union=Xs,Bn.unionBy=eo,Bn.unionWith=to,Bn.uniq=function(e){return e&&e.length?li(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?li(e,as(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?li(e,n,t):[]},Bn.unset=function(e,t){return null==e||ui(e,t)},Bn.unzip=no,Bn.unzipWith=ro,Bn.update=function(e,t,n){return null==e?e:hi(e,t,wi(n))},Bn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:hi(e,t,wi(r),i)},Bn.values=Ba,Bn.valuesIn=function(e){return null==e?[]:Jt(e,Na(e))},Bn.without=io,Bn.words=Ya,Bn.wrap=function(e,t){return Do(wi(t),e)},Bn.xor=so,Bn.xorBy=oo,Bn.xorWith=ao,Bn.zip=co,Bn.zipObject=function(e,t){return gi(e||[],t||[],er)},Bn.zipObjectDeep=function(e,t){return gi(e||[],t||[],Jr)},Bn.zipWith=lo,Bn.entries=ja,Bn.entriesIn=Ua,Bn.extend=va,Bn.extendWith=ba,oc(Bn,Bn),Bn.add=mc,Bn.attempt=Qa,Bn.camelCase=$a,Bn.capitalize=za,Bn.ceil=wc,Bn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=ga(r))==r?r:0),t!==n&&(t=(t=ga(t))==t?t:0),or(ga(e),t,r)},Bn.clone=function(e){return ar(e,4)},Bn.cloneDeep=function(e){return ar(e,5)},Bn.cloneDeepWith=function(e,t){return ar(e,5,t="function"==typeof t?t:n)},Bn.cloneWith=function(e,t){return ar(e,4,t="function"==typeof t?t:n)},Bn.conformsTo=function(e,t){return null==t||cr(e,t,Aa(t))},Bn.deburr=qa,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=yc,Bn.endsWith=function(e,t,r){e=wa(e),t=ci(t);var i=e.length,s=r=r===n?i:or(pa(r),0,i);return(r-=t.length)>=0&&e.slice(r,s)==t},Bn.eq=Bo,Bn.escape=function(e){return(e=wa(e))&&Z.test(e)?e.replace(K,rn):e},Bn.escapeRegExp=function(e){return(e=wa(e))&&re.test(e)?e.replace(ne,"\\$&"):e},Bn.every=function(e,t,r){var i=Wo(e)?Pt:pr;return r&&ys(e,t,r)&&(t=n),i(e,as(t,3))},Bn.find=go,Bn.findIndex=zs,Bn.findKey=function(e,t){return Bt(e,as(t,3),vr)},Bn.findLast=mo,Bn.findLastIndex=qs,Bn.findLastKey=function(e,t){return Bt(e,as(t,3),br)},Bn.floor=vc,Bn.forEach=wo,Bn.forEachRight=yo,Bn.forIn=function(e,t){return null==e?e:wr(e,as(t,3),Na)},Bn.forInRight=function(e,t){return null==e?e:yr(e,as(t,3),Na)},Bn.forOwn=function(e,t){return e&&vr(e,as(t,3))},Bn.forOwnRight=function(e,t){return e&&br(e,as(t,3))},Bn.get=Ia,Bn.gt=$o,Bn.gte=zo,Bn.has=function(e,t){return null!=e&&fs(e,t,Sr)},Bn.hasIn=Sa,Bn.head=Fs,Bn.identity=nc,Bn.includes=function(e,t,n,r){e=Ho(e)?e:Ba(e),n=n&&!r?pa(n):0;var i=e.length;return n<0&&(n=wn(i+n,0)),oa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=wn(r+i,0)),zt(e,t,i)},Bn.inRange=function(e,t,r){return t=da(t),r===n?(r=t,t=0):r=da(r),function(e,t,n){return e>=yn(t,n)&&e<wn(t,n)}(e=ga(e),t,r)},Bn.invoke=Pa,Bn.isArguments=qo,Bn.isArray=Wo,Bn.isArrayBuffer=Fo,Bn.isArrayLike=Ho,Bn.isArrayLikeObject=Vo,Bn.isBoolean=function(e){return!0===e||!1===e||ea(e)&&Cr(e)==y},Bn.isBuffer=Ko,Bn.isDate=Go,Bn.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ho(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Ko(e)||ca(e)||qo(e)))return!e.length;var t=ps(e);if(t==x||t==k)return!e.size;if(Es(e))return!Lr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Nr(e,t)},Bn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Nr(e,t,n,r):!!i},Bn.isError=Zo,Bn.isFinite=function(e){return"number"==typeof e&&Ut(e)},Bn.isFunction=Yo,Bn.isInteger=Qo,Bn.isLength=Jo,Bn.isMap=ta,Bn.isMatch=function(e,t){return e===t||Mr(e,t,ls(t))},Bn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Mr(e,t,ls(t),r)},Bn.isNaN=function(e){return na(e)&&e!=+e},Bn.isNative=function(e){if(_s(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=na,Bn.isObject=Xo,Bn.isObjectLike=ea,Bn.isPlainObject=ra,Bn.isRegExp=ia,Bn.isSafeInteger=function(e){return Qo(e)&&e>=-d&&e<=d},Bn.isSet=sa,Bn.isString=oa,Bn.isSymbol=aa,Bn.isTypedArray=ca,Bn.isUndefined=function(e){return e===n},Bn.isWeakMap=function(e){return ea(e)&&ps(e)==N},Bn.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==Cr(e)},Bn.join=function(e,t){return null==e?"":Vt.call(e,t)},Bn.kebabCase=Wa,Bn.last=Gs,Bn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var s=i;return r!==n&&(s=(s=pa(r))<0?wn(i+s,0):yn(s,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,s):$t(e,Wt,s,!0)},Bn.lowerCase=Fa,Bn.lowerFirst=Ha,Bn.lt=la,Bn.lte=ua,Bn.max=function(e){return e&&e.length?fr(e,nc,Ir):n},Bn.maxBy=function(e,t){return e&&e.length?fr(e,as(t,2),Ir):n},Bn.mean=function(e){return Ft(e,nc)},Bn.meanBy=function(e,t){return Ft(e,as(t,2))},Bn.min=function(e){return e&&e.length?fr(e,nc,jr):n},Bn.minBy=function(e,t){return e&&e.length?fr(e,as(t,2),jr):n},Bn.stubArray=fc,Bn.stubFalse=gc,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=bc,Bn.nth=function(e,t){return e&&e.length?qr(e,pa(t)):n},Bn.noConflict=function(){return pt._===this&&(pt._=$e),this},Bn.noop=ac,Bn.now=Io,Bn.pad=function(e,t,n){e=wa(e);var r=(t=pa(t))?hn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(gt(i),n)+e+Wi(ft(i),n)},Bn.padEnd=function(e,t,n){e=wa(e);var r=(t=pa(t))?hn(e):0;return t&&r<t?e+Wi(t-r,n):e},Bn.padStart=function(e,t,n){e=wa(e);var r=(t=pa(t))?hn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(wa(e).replace(ie,""),t||0)},Bn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ys(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=da(e),t===n?(t=e,e=0):t=da(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var s=_n();return yn(e+s*(t-e+lt("1e-"+((s+"").length-1))),t)}return Kr(e,t)},Bn.reduce=function(e,t,n){var r=Wo(e)?Lt:Kt,i=arguments.length<3;return r(e,as(t,4),n,i,hr)},Bn.reduceRight=function(e,t,n){var r=Wo(e)?Dt:Kt,i=arguments.length<3;return r(e,as(t,4),n,i,dr)},Bn.repeat=function(e,t,r){return t=(r?ys(e,t,r):t===n)?1:pa(t),Gr(wa(e),t)},Bn.replace=function(){var e=arguments,t=wa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,r){var i=-1,s=(t=yi(t,e)).length;for(s||(s=1,e=n);++i<s;){var o=null==e?n:e[Ls(t[i])];o===n&&(i=s,o=r),e=Yo(o)?o.call(e):o}return e},Bn.round=_c,Bn.runInContext=e,Bn.sample=function(e){return(Wo(e)?Yn:Yr)(e)},Bn.size=function(e){if(null==e)return 0;if(Ho(e))return oa(e)?hn(e):e.length;var t=ps(e);return t==x||t==k?e.size:Lr(e).length},Bn.snakeCase=Va,Bn.some=function(e,t,r){var i=Wo(e)?jt:ri;return r&&ys(e,t,r)&&(t=n),i(e,as(t,3))},Bn.sortedIndex=function(e,t){return ii(e,t)},Bn.sortedIndexBy=function(e,t,n){return si(e,t,as(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ii(e,t);if(r<n&&Bo(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ii(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return si(e,t,as(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ii(e,t,!0)-1;if(Bo(e[n],t))return n}return-1},Bn.startCase=Ka,Bn.startsWith=function(e,t,n){return e=wa(e),n=null==n?0:or(pa(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Bn.subtract=Ec,Bn.sum=function(e){return e&&e.length?Gt(e,nc):0},Bn.sumBy=function(e,t){return e&&e.length?Gt(e,as(t,2)):0},Bn.template=function(e,t,r){var i=Bn.templateSettings;r&&ys(e,t,r)&&(t=n),e=wa(e),t=ba({},t,i,Qi);var s,o,a=ba({},t.imports,i.imports,Qi),c=Aa(a),l=Jt(a,c),u=0,h=t.interpolate||be,d="__p += '",p=Oe((t.escape||be).source+"|"+h.source+"|"+(h===J?de:be).source+"|"+(t.evaluate||be).source+"|$","g"),f="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(p,(function(t,n,r,i,a,c){return r||(r=i),d+=e.slice(u,c).replace(_e,sn),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),d+="';\n";var g=Le.call(t,"variable")&&t.variable;if(g){if(ue.test(g))throw new xe("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(W,""):d).replace(F,"$1").replace(H,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Qa((function(){return Ce(c,f+"return "+d).apply(n,l)}));if(m.source=d,Zo(m))throw m;return m},Bn.times=function(e,t){if((e=pa(e))<1||e>d)return[];var n=f,r=yn(e,f);t=as(t),e-=f;for(var i=Zt(r,t);++n<e;)t(n);return i},Bn.toFinite=da,Bn.toInteger=pa,Bn.toLength=fa,Bn.toLower=function(e){return wa(e).toLowerCase()},Bn.toNumber=ga,Bn.toSafeInteger=function(e){return e?or(pa(e),-d,d):0===e?e:0},Bn.toString=wa,Bn.toUpper=function(e){return wa(e).toUpperCase()},Bn.trim=function(e,t,r){if((e=wa(e))&&(r||t===n))return Yt(e);if(!e||!(t=ci(t)))return e;var i=dn(e),s=dn(t);return bi(i,en(i,s),tn(i,s)+1).join("")},Bn.trimEnd=function(e,t,r){if((e=wa(e))&&(r||t===n))return e.slice(0,pn(e)+1);if(!e||!(t=ci(t)))return e;var i=dn(e);return bi(i,0,tn(i,dn(t))+1).join("")},Bn.trimStart=function(e,t,r){if((e=wa(e))&&(r||t===n))return e.replace(ie,"");if(!e||!(t=ci(t)))return e;var i=dn(e);return bi(i,en(i,dn(t))).join("")},Bn.truncate=function(e,t){var r=30,i="...";if(Xo(t)){var s="separator"in t?t.separator:s;r="length"in t?pa(t.length):r,i="omission"in t?ci(t.omission):i}var o=(e=wa(e)).length;if(on(e)){var a=dn(e);o=a.length}if(r>=o)return e;var c=r-hn(i);if(c<1)return i;var l=a?bi(a,0,c).join(""):e.slice(0,c);if(s===n)return l+i;if(a&&(c+=l.length-c),ia(s)){if(e.slice(c).search(s)){var u,h=l;for(s.global||(s=Oe(s.source,wa(pe.exec(s))+"g")),s.lastIndex=0;u=s.exec(h);)var d=u.index;l=l.slice(0,d===n?c:d)}}else if(e.indexOf(ci(s),c)!=c){var p=l.lastIndexOf(s);p>-1&&(l=l.slice(0,p))}return l+i},Bn.unescape=function(e){return(e=wa(e))&&G.test(e)?e.replace(V,fn):e},Bn.uniqueId=function(e){var t=++De;return wa(e)+t},Bn.upperCase=Ga,Bn.upperFirst=Za,Bn.each=wo,Bn.eachRight=yo,Bn.first=Fs,oc(Bn,function(){var e={};return vr(Bn,(function(t,n){Le.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Ot(["drop","take"],(function(e,t){Wn.prototype[e]=function(r){r=r===n?1:wn(pa(r),0);var i=this.__filtered__&&!t?new Wn(this):this.clone();return i.__filtered__?i.__takeCount__=yn(r,i.__takeCount__):i.__views__.push({size:yn(r,f),type:e+(i.__dir__<0?"Right":"")}),i},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:as(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(nc)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Pr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ro(as(e)))},Wn.prototype.slice=function(e,t){e=pa(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Wn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=pa(t))<0?r.dropRight(-t):r.take(t-e)),r)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(f)},vr(Wn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=Bn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);s&&(Bn.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,c=t instanceof Wn,l=a[0],u=c||Wo(t),h=function(e){var t=s.apply(Bn,Rt([e],a));return i&&d?t[0]:t};u&&r&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=this.__chain__,p=!!this.__actions__.length,f=o&&!d,g=c&&!p;if(!o&&u){t=g?t:new Wn(this);var m=e.apply(t,a);return m.__actions__.push({func:ho,args:[h],thisArg:n}),new qn(m,d)}return f&&g?e.apply(this,a):(m=this.thru(h),f?i?m.value()[0]:m.value():m)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),vr(Wn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Bi(n,2).name]=[{name:"wrapper",func:n}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=ki(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ki(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ki(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,s=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=yn(t,e+o);break;case"takeRight":e=wn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,c=a-o,l=r?a:o-1,u=this.__iteratees__,h=u.length,d=0,p=yn(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return pi(e,this.__actions__);var f=[];e:for(;c--&&d<p;){for(var g=-1,m=e[l+=t];++g<h;){var w=u[g],y=w.iteratee,v=w.type,b=y(m);if(2==v)m=b;else if(!b){if(1==v)continue e;break e}}f[d++]=m}return f},Bn.prototype.at=po,Bn.prototype.chain=function(){return uo(this)},Bn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===n&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,r=this;r instanceof zn;){var i=js(r);i.__index__=0,i.__values__=n,t?s.__wrapped__=i:t=i;var s=i;r=r.__wrapped__}return s.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ho,args:[Js],thisArg:n}),new qn(t,this.__chain__)}return this.thru(Js)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Qe&&(Bn.prototype[Qe]=function(){return this}),Bn}();gt?((gt.exports=gn)._=gn,ft._=gn):pt._=gn}).call(Lo)}(Do,Do.exports);var jo=Object.defineProperty,Uo=Object.defineProperties,Bo=Object.getOwnPropertyDescriptors,$o=Object.getOwnPropertySymbols,zo=Object.prototype.hasOwnProperty,qo=Object.prototype.propertyIsEnumerable,Wo=(e,t,n)=>t in e?jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fo=(e,t)=>{for(var n in t||(t={}))zo.call(t,n)&&Wo(e,n,t[n]);if($o)for(var n of $o(t))qo.call(t,n)&&Wo(e,n,t[n]);return e},Ho=(e,t)=>Uo(e,Bo(t));function Vo(e,t,n){var r;const i=vo(e);return(null==(r=t.rpcMap)?void 0:r[i.reference])||`https://rpc.walletconnect.com/v1/?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Ko(e){return e.includes(":")?e.split(":")[1]:e}function Go(e){return e.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))}function Zo(e){var t,n,r,i;const s={};if(!So(e))return s;for(const[o,a]of Object.entries(e)){const e=_o(o)?[o]:a.chains,c=a.methods||[],l=a.events||[],u=a.rpcMap||{},h=Eo(o);s[h]=Ho(Fo(Fo({},s[h]),a),{chains:bo(e,null==(t=s[h])?void 0:t.chains),methods:bo(c,null==(n=s[h])?void 0:n.methods),events:bo(l,null==(r=s[h])?void 0:r.events),rpcMap:Fo(Fo({},u),null==(i=s[h])?void 0:i.rpcMap)})}return s}function Yo(e){return e.includes(":")?e.split(":")[2]:e}function Qo(e){const t={};for(const[n,r]of Object.entries(e)){const e=r.methods||[],i=r.events||[],s=r.accounts||[],o=_o(n)?[n]:r.chains?r.chains:Go(r.accounts);t[n]={chains:o,methods:e,events:i,accounts:s}}return t}function Jo(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):e.includes(":")?Number(e.split(":")[1]):Number(e)}const Xo={},ea=e=>Xo[e],ta=(e,t)=>{Xo[e]=t};class na{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=ea("events"),this.client=ea("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ro,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Ko(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Vo(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ft(new No(n,ea("disableProviderPing")))}}class ra{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=ea("events"),this.client=ea("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(Ro,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const n=t||Vo(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ft(new Ao(n,ea("disableProviderPing")))}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=parseInt(Ko(t));e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,n;let r=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";r=r.startsWith("0x")?r:`0x${r}`;const i=parseInt(r,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:r}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]}),this.setDefaultChain(`${i}`)}return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class ia{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=ea("events"),this.client=ea("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ro,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Ko(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Vo(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ft(new No(n,ea("disableProviderPing")))}}class sa{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=ea("events"),this.client=ea("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ro,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Ko(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Vo(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ft(new No(n,ea("disableProviderPing")))}}class oa{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=ea("events"),this.client=ea("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ro,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{const n=this.getCardanoRPCUrl(t),r=Ko(t);e[r]=this.createHttpProvider(r,n)})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ft(new No(n,ea("disableProviderPing")))}}class aa{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=ea("events"),this.client=ea("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ro,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Ko(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Vo(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ft(new No(n,ea("disableProviderPing")))}}class ca{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=ea("events"),this.client=ea("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Ro,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;const r=Ko(t);e[r]=this.createHttpProvider(r,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Vo(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ft(new No(n,ea("disableProviderPing")))}}class la{constructor(e){this.name="near",this.namespace=e.namespace,this.events=ea("events"),this.client=ea("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const n=t||Vo(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ro,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e&&e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2]))||[]}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var n;e[t]=this.createHttpProvider(t,null==(n=this.namespace.rpcMap)?void 0:n[t])})),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){const n=t||Vo(e,this.namespace);return typeof n>"u"?void 0:new Ft(new No(n,ea("disableProviderPing")))}}var ua=Object.defineProperty,ha=Object.defineProperties,da=Object.getOwnPropertyDescriptors,pa=Object.getOwnPropertySymbols,fa=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable,ma=(e,t,n)=>t in e?ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wa=(e,t)=>{for(var n in t||(t={}))fa.call(t,n)&&ma(e,n,t[n]);if(pa)for(var n of pa(t))ga.call(t,n)&&ma(e,n,t[n]);return e},ya=(e,t)=>ha(e,da(t));class va{constructor(e){this.events=new(i()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,T.pino)((0,T.getDefaultLoggerOptions)({level:e?.logger||Mo})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new va(e);return await t.initialize(),t}async request(e,t){const[n,r]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:wa({},e),chainId:`${n}:${r}`,topic:this.session.topic})}sendAsync(e,t,n){this.request(e,n).then((e=>t(null,e))).catch((e=>t(e,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:Co("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await r().then((e=>{this.session=e,this.namespaces||(this.namespaces=Qo(e.namespaces),this.persist("namespaces",this.namespaces))})).catch((e=>{if(e.message!==Ys)throw e;t++}))}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[n,r]=this.validateChain(e);this.getProvider(n).setDefaultChain(r,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(Io(t)){for(const n of t)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await wo.init({logger:this.providerOpts.logger||Mo,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map((e=>Eo(e))))];ta("client",this.client),ta("events",this.events),ta("disableProviderPing",this.disableProviderPing),e.forEach((e=>{if(!this.session)return;const t=function(e,t){const n=Object.keys(t.namespaces).filter((t=>t.includes(e)));if(!n.length)return[];const r=[];return n.forEach((e=>{const n=t.namespaces[e].accounts;r.push(...n)})),r}(e,this.session),n=Go(t),r=function(e={},t={}){const n=Zo(e),r=Zo(t);return Do.exports.merge(n,r)}(this.namespaces,this.optionalNamespaces),i=ya(wa({},r[e]),{accounts:t,chains:n});switch(e){case"eip155":this.rpcProviders[e]=new ra({namespace:i});break;case"solana":this.rpcProviders[e]=new ia({namespace:i});break;case"cosmos":this.rpcProviders[e]=new sa({namespace:i});break;case"polkadot":this.rpcProviders[e]=new na({namespace:i});break;case"cip34":this.rpcProviders[e]=new oa({namespace:i});break;case"elrond":this.rpcProviders[e]=new aa({namespace:i});break;case"multiversx":this.rpcProviders[e]=new ca({namespace:i});break;case"near":this.rpcProviders[e]=new la({namespace:i})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(e=>{this.events.emit("session_ping",e)})),this.client.on("session_event",(e=>{const{params:t}=e,{event:n}=t;if("accountsChanged"===n.name){const e=n.data;e&&Io(e)&&this.events.emit("accountsChanged",e.map(Yo))}else if("chainChanged"===n.name){const e=t.chainId,n=t.event.data,r=Eo(e),i=Jo(e)!==Jo(n)?`${r}:${Jo(n)}`:e;this.onChainChanged(i)}else this.events.emit(n.name,n.data);this.events.emit("session_event",e)})),this.client.on("session_update",(({topic:e,params:t})=>{var n;const{namespaces:r}=t,i=null==(n=this.client)?void 0:n.session.get(e);this.session=ya(wa({},i),{namespaces:r}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})})),this.client.on("session_delete",(async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",ya(wa({},Co("USER_DISCONNECTED")),{data:e.topic}))})),this.on(Ro,(e=>{this.onChainChanged(e,!0)}))}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])}))}setNamespaces(e){const{namespaces:t,optionalNamespaces:n,sessionProperties:r}=e;t&&Object.keys(t).length&&(this.namespaces=t),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=r,this.persist("namespaces",t),this.persist("optionalNamespaces",n)}validateChain(e){const[t,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,n];if(t&&!Object.keys(this.namespaces||{}).map((e=>Eo(e))).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&n)return[t,n];const r=Eo(Object.keys(this.namespaces)[0]);return[r,this.rpcProviders[r].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){var n;if(!this.namespaces)return;const[r,i]=this.validateChain(e);t||this.getProvider(r).setDefaultChain(i),(null!=(n=this.namespaces[r])?n:this.namespaces[`${r}:${i}`]).defaultChain=i,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",i)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${To}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${To}/${e}`)}}const ba=va,_a=["eth_sendTransaction","personal_sign"],Ea=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],xa=["chainChanged","accountsChanged"],Ca=["chainChanged","accountsChanged","message","disconnect","connect"];var Ia=Object.defineProperty,Sa=Object.defineProperties,Oa=Object.getOwnPropertyDescriptors,ka=Object.getOwnPropertySymbols,Pa=Object.prototype.hasOwnProperty,Aa=Object.prototype.propertyIsEnumerable,Na=(e,t,n)=>t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ma=(e,t)=>{for(var n in t||(t={}))Pa.call(t,n)&&Na(e,n,t[n]);if(ka)for(var n of ka(t))Aa.call(t,n)&&Na(e,n,t[n]);return e},Ta=(e,t)=>Sa(e,Oa(t));function Ra(e){return Number(e[0].split(":")[1])}function La(e){return`0x${e.toString(16)}`}class Da{constructor(){this.events=new r.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const t=new Da;return await t.initialize(e),t}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:t,optional:n}=function(e){const{chains:t,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!w(t))throw new Error("Invalid chains");const c={chains:t,methods:r||_a,events:s||xa,rpcMap:Ma({},t.length?{[Ra(t)]:a[Ra(t)]}:{})},l=s?.filter((e=>!xa.includes(e))),u=r?.filter((e=>!_a.includes(e)));if(!(n||o||i||null!=l&&l.length||null!=u&&u.length))return{required:t.length?c:void 0};const h={chains:[...new Set(l?.length&&u?.length||!n?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(null!=i&&i.length?i:Ea))],events:[...new Set(c.events.concat(null!=o&&o.length?o:Ca))],rpcMap:a};return{required:t.length?c:void 0,optional:n.length?h:void 0}}(this.rpc);try{const r=await new Promise((async(r,i)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal((e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}))),await this.signer.connect(Ta(Ma({namespaces:Ma({},t&&{[this.namespace]:t})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e?.pairingTopic})).then((e=>{r(e)})).catch((e=>{i(new Error(e.message))}))}));if(!r)return;const i=function(e,t=[]){const n=[];return Object.keys(e).forEach((r=>{if(t.length&&!t.includes(r))return;const i=e[r];n.push(...i.accounts)})),n}(r.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:La(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(e=>{const{params:t}=e,{event:n}=t;"accountsChanged"===n.name?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===n.name?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)})),this.signer.on("chainChanged",(e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",La(this.chainId)),this.persist()})),this.signer.on("session_update",(e=>{this.events.emit("session_update",e)})),this.signer.on("session_delete",(e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Ta(Ma({},m("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(e=>{var t,n;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(n=this.modal)||n.openModal({uri:e})),this.events.emit("display_uri",e)}))}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter((e=>this.isCompatibleChainId(e))).map((e=>this.parseChainId(e)));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",La(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,n,r]=e.split(":");return{chainId:`${t}:${n}`,address:r}}setAccounts(e){this.accounts=e.filter((e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId)).map((e=>this.parseAccountId(e).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,n;const r=null!=(t=e?.chains)?t:[],i=null!=(n=e?.optionalChains)?n:[],s=r.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=r.length?e?.methods||_a:[],a=r.length?e?.events||xa:[],c=e?.optionalMethods||[],l=e?.optionalEvents||[],u=e?.rpcMap||this.buildRpcMap(s,e.projectId),h=e?.qrModalOptions||void 0;return{chains:r?.map((e=>this.formatChainId(e))),optionalChains:i.map((e=>this.formatChainId(e))),methods:o,events:a,optionalMethods:c,optionalEvents:l,rpcMap:u,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const n={};return e.forEach((e=>{n[e]=this.getRpcUrl(e,t)})),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Ra(this.rpc.chains):Ra(this.rpc.optionalChains),this.signer=await ba.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{const{WalletConnectModal:t}=await Promise.all([n.e(7882),n.e(6828)]).then(n.bind(n,59343));e=t}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(e)try{this.modal=new e(Ma({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(e){throw this.signer.logger.error(e),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:n,rpcMap:r}=e;t&&w(t)&&(this.rpc.chains=t.map((e=>this.formatChainId(e))),t.forEach((e=>{this.rpc.rpcMap[e]=r?.[e]||this.getRpcUrl(e)}))),n&&w(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map((e=>this.formatChainId(e))),n.forEach((e=>{this.rpc.rpcMap[e]=r?.[e]||this.getRpcUrl(e)})))}getRpcUrl(e,t){var n;return(null==(n=this.rpc.rpcMap)?void 0:n[e])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map((e=>this.parseAccount(e)))}}const ja=Da},38200:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});class r{}},30997:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IEvents:()=>r.q});var r=n(38200)},32568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0;const r=n(66736);t.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},53401:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(39653).__exportStar(n(32568),t)},38969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;const r=n(39653),i=n(17187),s=n(66736),o=n(1614),a=n(53401);class c extends o.IHeartBeat{constructor(e){super(e),this.events=new i.EventEmitter,this.interval=a.HEARTBEAT_INTERVAL,this.interval=(null==e?void 0:e.interval)||a.HEARTBEAT_INTERVAL}static init(e){return r.__awaiter(this,void 0,void 0,(function*(){const t=new c(e);return yield t.init(),t}))}init(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.initialize()}))}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return r.__awaiter(this,void 0,void 0,(function*(){this.intervalRef=setInterval((()=>this.pulse()),s.toMiliseconds(this.interval))}))}pulse(){this.events.emit(a.HEARTBEAT_EVENTS.pulse)}}t.HeartBeat=c},90772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(39653);r.__exportStar(n(38969),t),r.__exportStar(n(1614),t),r.__exportStar(n(53401),t)},44174:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;const r=n(30997);class i extends r.IEvents{constructor(e){super()}}t.IHeartBeat=i},1614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(39653).__exportStar(n(44174),t)},39653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>_,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>S,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>p,__extends:()=>i,__generator:()=>h,__importDefault:()=>C,__importStar:()=>x,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>w,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(e){u(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},72030:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},65727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PINO_CUSTOM_CONTEXT_KEY=t.PINO_LOGGER_DEFAULTS=void 0,t.PINO_LOGGER_DEFAULTS={level:"info"},t.PINO_CUSTOM_CONTEXT_KEY="custom_context"},9107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;const r=n(57121),i=r.__importDefault(n(36559));Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return i.default}}),r.__exportStar(n(65727),t),r.__exportStar(n(58048),t)},58048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateChildLogger=t.formatChildLoggerContext=t.getLoggerContext=t.setBrowserLoggerContext=t.getBrowserLoggerContext=t.getDefaultLoggerOptions=void 0;const r=n(65727);function i(e,t=r.PINO_CUSTOM_CONTEXT_KEY){return e[t]||""}function s(e,t,n=r.PINO_CUSTOM_CONTEXT_KEY){return e[n]=t,e}function o(e,t=r.PINO_CUSTOM_CONTEXT_KEY){let n="";return n=void 0===e.bindings?i(e,t):e.bindings().context||"",n}function a(e,t,n=r.PINO_CUSTOM_CONTEXT_KEY){const i=o(e,n);return i.trim()?`${i}/${t}`:t}t.getDefaultLoggerOptions=function(e){return Object.assign(Object.assign({},e),{level:(null==e?void 0:e.level)||r.PINO_LOGGER_DEFAULTS.level})},t.getBrowserLoggerContext=i,t.setBrowserLoggerContext=s,t.getLoggerContext=o,t.formatChildLoggerContext=a,t.generateChildLogger=function(e,t,n=r.PINO_CUSTOM_CONTEXT_KEY){const i=a(e,t,n);return s(e.child({context:i}),i,n)}},57121:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>_,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>S,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>p,__extends:()=>i,__generator:()=>h,__importDefault:()=>C,__importStar:()=>x,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>w,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(e){u(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},4337:(e,t,n)=>{var r=n(34155);function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var s=n(56232),o=i(n(33133)),a=i(n(20640)),c=n(18414);var l=':root {\n  --animation-duration: 300ms;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n#walletconnect-wrapper {\n  -webkit-user-select: none;\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  user-select: none;\n  width: 100%;\n  z-index: 99999999999999;\n}\n\n.walletconnect-modal__headerLogo {\n  height: 21px;\n}\n\n.walletconnect-modal__header p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n  align-items: flex-start;\n  display: flex;\n  flex: 1;\n  margin-left: 5px;\n}\n\n.walletconnect-modal__close__wrapper {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  z-index: 10000;\n  background: white;\n  border-radius: 26px;\n  padding: 6px;\n  box-sizing: border-box;\n  width: 26px;\n  height: 26px;\n  cursor: pointer;\n}\n\n.walletconnect-modal__close__icon {\n  position: relative;\n  top: 7px;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n}\n\n.walletconnect-modal__close__line1 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n}\n\n.walletconnect-modal__close__line2 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n  transform: rotate(90deg);\n}\n\n.walletconnect-qrcode__base {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background: rgba(37, 41, 46, 0.95);\n  height: 100%;\n  left: 0;\n  pointer-events: auto;\n  position: fixed;\n  top: 0;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  width: 100%;\n  will-change: opacity;\n  padding: 40px;\n  box-sizing: border-box;\n}\n\n.walletconnect-qrcode__text {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 10px 0 20px 0;\n  text-align: center;\n  width: 100%;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-qrcode__text {\n    font-size: 4vw;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-qrcode__text {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-qrcode__image {\n  width: calc(100% - 30px);\n  box-sizing: border-box;\n  cursor: none;\n  margin: 0 auto;\n}\n\n.walletconnect-qrcode__notification {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  font-size: 16px;\n  padding: 16px 20px;\n  border-radius: 16px;\n  text-align: center;\n  transition: all 0.1s ease-in-out;\n  background: white;\n  color: black;\n  margin-bottom: -60px;\n  opacity: 0;\n}\n\n.walletconnect-qrcode__notification.notification__show {\n  opacity: 1;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__header {\n    height: 130px;\n  }\n  .walletconnect-modal__base {\n    overflow: auto;\n  }\n}\n\n@media only screen and (min-device-width: 415px) and (max-width: 768px) {\n  #content {\n    max-width: 768px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 375px) and (max-width: 415px) {\n  #content {\n    max-width: 414px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 320px) and (max-width: 375px) {\n  #content {\n    max-width: 375px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  #content {\n    max-width: 320px;\n    box-sizing: border-box;\n  }\n}\n\n.walletconnect-modal__base {\n  -webkit-font-smoothing: antialiased;\n  background: #ffffff;\n  border-radius: 24px;\n  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);\n  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,\n    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n    "Open Sans", "Helvetica Neue", sans-serif;\n  margin-top: 41px;\n  padding: 24px 24px 22px;\n  pointer-events: auto;\n  position: relative;\n  text-align: center;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  will-change: transform;\n  overflow: visible;\n  transform: translateY(-50%);\n  top: 50%;\n  max-width: 500px;\n  margin: auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__base {\n    padding: 24px 12px;\n  }\n}\n\n.walletconnect-modal__base .hidden {\n  transform: translateY(150%);\n  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);\n}\n\n.walletconnect-modal__header {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  left: 0;\n  justify-content: space-between;\n  position: absolute;\n  top: -42px;\n  width: 100%;\n}\n\n.walletconnect-modal__base .wc-logo {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  margin-top: 15px;\n  padding-bottom: 15px;\n  pointer-events: auto;\n}\n\n.walletconnect-modal__base .wc-logo div {\n  background-color: #3399ff;\n  height: 21px;\n  margin-right: 5px;\n  mask-image: url("images/wc-logo.svg") center no-repeat;\n  width: 32px;\n}\n\n.walletconnect-modal__base .wc-logo p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n}\n\n.walletconnect-modal__base h2 {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 0 0 19px 0;\n  text-align: center;\n  width: 100%;\n}\n\n.walletconnect-modal__base__row {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  align-items: center;\n  border-radius: 20px;\n  cursor: pointer;\n  display: flex;\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 15px;\n  position: relative;\n  margin: 0px 0px 8px;\n  text-align: left;\n  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  will-change: transform;\n  text-decoration: none;\n}\n\n.walletconnect-modal__base__row:hover {\n  background: rgba(60, 66, 82, 0.06);\n}\n\n.walletconnect-modal__base__row:active {\n  background: rgba(60, 66, 82, 0.06);\n  transform: scale(0.975);\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.walletconnect-modal__base__row__h3 {\n  color: #25292e;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n  padding-bottom: 3px;\n}\n\n.walletconnect-modal__base__row__right {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.walletconnect-modal__base__row__right__app-icon {\n  border-radius: 8px;\n  height: 34px;\n  margin: 0 11px 2px 0;\n  width: 34px;\n  background-size: 100%;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-modal__base__row__right__caret {\n  height: 18px;\n  opacity: 0.3;\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  width: 8px;\n  will-change: opacity;\n}\n\n.walletconnect-modal__base__row:hover .caret,\n.walletconnect-modal__base__row:active .caret {\n  opacity: 0.6;\n}\n\n.walletconnect-modal__mobile__toggle {\n  width: 80%;\n  display: flex;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n  border-radius: 8px;\n  margin-bottom: 18px;\n  background: #d4d5d9;\n}\n\n.walletconnect-modal__single_wallet {\n  display: flex;\n  justify-content: center;\n  margin-top: 7px;\n  margin-bottom: 18px;\n}\n\n.walletconnect-modal__single_wallet a {\n  cursor: pointer;\n  color: rgb(64, 153, 255);\n  font-size: 21px;\n  font-weight: 800;\n  text-decoration: none !important;\n  margin: 0 auto;\n}\n\n.walletconnect-modal__mobile__toggle_selector {\n  width: calc(50% - 8px);\n  background: white;\n  position: absolute;\n  border-radius: 5px;\n  height: calc(100% - 8px);\n  top: 4px;\n  transition: all 0.2s ease-in-out;\n  transform: translate3d(4px, 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {\n  transform: translate3d(calc(100% + 12px), 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle a {\n  font-size: 12px;\n  width: 50%;\n  text-align: center;\n  padding: 8px;\n  margin: 0;\n  font-weight: 600;\n  z-index: 1;\n}\n\n.walletconnect-modal__footer {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__footer {\n    margin-top: 5vw;\n  }\n}\n\n.walletconnect-modal__footer a {\n  cursor: pointer;\n  color: #898d97;\n  font-size: 15px;\n  margin: 0 auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__footer a {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-connect__buttons__wrapper {\n  max-height: 44vh;\n}\n\n.walletconnect-connect__buttons__wrapper__android {\n  margin: 50% 0;\n}\n\n.walletconnect-connect__buttons__wrapper__wrap {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  margin: 10px 0;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__buttons__wrapper__wrap {\n    margin-top: 40px;\n  }\n}\n\n.walletconnect-connect__button {\n  background-color: rgb(64, 153, 255);\n  padding: 12px;\n  border-radius: 8px;\n  text-decoration: none;\n  color: rgb(255, 255, 255);\n  font-weight: 500;\n}\n\n.walletconnect-connect__button__icon_anchor {\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 8px;\n  width: 42px;\n  justify-self: center;\n  flex-direction: column;\n  text-decoration: none !important;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-connect__button__icon_anchor {\n    margin: 4px;\n  }\n}\n\n.walletconnect-connect__button__icon {\n  border-radius: 10px;\n  height: 42px;\n  margin: 0;\n  width: 42px;\n  background-size: cover !important;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-connect__button__text {\n  color: #424952;\n  font-size: 2.7vw;\n  text-decoration: none !important;\n  padding: 0;\n  margin-top: 1.8vw;\n  font-weight: 600;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__button__text {\n    font-size: 16px;\n    margin-top: 12px;\n  }\n}\n\n.walletconnect-search__input {\n  border: none;\n  background: #d4d5d9;\n  border-style: none;\n  padding: 8px 16px;\n  outline: none;\n  font-style: normal;\n  font-stretch: normal;\n  font-size: 16px;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: left;\n  border-radius: 8px;\n  width: calc(100% - 16px);\n  margin: 0;\n  margin-bottom: 8px;\n}\n';"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var u="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",h="WalletConnect",d=300,p="rgb(64, 153, 255)",f="walletconnect-wrapper",g="walletconnect-style-sheet",m="walletconnect-qrcode-modal",w="walletconnect-qrcode-close",y="walletconnect-qrcode-text",v="walletconnect-connect-button";function b(e){return c.createElement("div",{className:"walletconnect-modal__header"},c.createElement("img",{src:u,className:"walletconnect-modal__headerLogo"}),c.createElement("p",null,h),c.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},c.createElement("div",{id:w,className:"walletconnect-modal__close__icon"},c.createElement("div",{className:"walletconnect-modal__close__line1"}),c.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function _(e){return c.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:v+"-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}var E="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function x(e){var t=e.color,n=e.href,r=e.name,i=e.logo,s=e.onClick;return c.createElement("a",{className:"walletconnect-modal__base__row",href:n,onClick:s,rel:"noopener noreferrer",target:"_blank"},c.createElement("h3",{className:"walletconnect-modal__base__row__h3"},r),c.createElement("div",{className:"walletconnect-modal__base__row__right"},c.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+i+"') "+t,backgroundSize:"100%"}}),c.createElement("img",{src:E,className:"walletconnect-modal__base__row__right__caret"})))}function C(e){var t=e.color,n=e.href,r=e.name,i=e.logo,s=e.onClick,o=window.innerWidth<768?(r.length>8?2.5:2.7)+"vw":"inherit";return c.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:n,onClick:s,rel:"noopener noreferrer",target:"_blank"},c.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+i+"') "+t,backgroundSize:"100%"}}),c.createElement("div",{style:{fontSize:o},className:"walletconnect-connect__button__text"},r))}var I=5,S=12;function O(e){var t=s.isAndroid(),n=c.useState(""),r=n[0],i=n[1],o=c.useState(""),a=o[0],l=o[1],u=c.useState(1),h=u[0],d=u[1],f=a?e.links.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})):e.links,g=e.errorMessage,m=a||f.length>I,w=Math.ceil(f.length/S),v=[(h-1)*S+1,h*S],b=f.length?f.filter((function(e,t){return t+1>=v[0]&&t+1<=v[1]})):[],E=!(t||!(w>1)),O=void 0;return c.createElement("div",null,c.createElement("p",{id:y,className:"walletconnect-qrcode__text"},t?e.text.connect_mobile_wallet:e.text.choose_preferred_wallet),!t&&c.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:r,onChange:function(e){i(e.target.value),clearTimeout(O),e.target.value?O=setTimeout((function(){l(e.target.value),d(1)}),1e3):(i(""),l(""),d(1))}}),c.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":m&&f.length?"__wrap":"")},t?c.createElement(_,{name:e.text.connect,color:p,href:e.uri,onClick:c.useCallback((function(){s.saveMobileLinkInfo({name:"Unknown",href:e.uri})}),[])}):b.length?b.map((function(t){var n=t.color,r=t.name,i=t.shortName,o=t.logo,a=s.formatIOSMobile(e.uri,t),l=c.useCallback((function(){s.saveMobileLinkInfo({name:r,href:a})}),[b]);return m?c.createElement(C,{color:n,href:a,name:i||r,logo:o,onClick:l}):c.createElement(x,{color:n,href:a,name:r,logo:o,onClick:l})})):c.createElement(c.Fragment,null,c.createElement("p",null,g.length?e.errorMessage:e.links.length&&!f.length?e.text.no_wallets_found:e.text.loading))),E&&c.createElement("div",{className:"walletconnect-modal__footer"},Array(w).fill(0).map((function(e,t){var n=t+1,r=h===n;return c.createElement("a",{style:{margin:"auto 10px",fontWeight:r?"bold":"normal"},onClick:function(){return d(n)}},n)}))))}function k(e){var t=!!e.message.trim();return c.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}var P=function(e){try{var t="";return Promise.resolve(o.toString(e,{margin:0,type:"svg"})).then((function(e){return"string"==typeof e&&(t=e.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t}))}catch(e){return Promise.reject(e)}};function A(e){var t=c.useState(""),n=t[0],r=t[1],i=c.useState(""),s=i[0],o=i[1];c.useEffect((function(){try{return Promise.resolve(P(e.uri)).then((function(e){o(e)}))}catch(e){Promise.reject(e)}}),[]);return c.createElement("div",null,c.createElement("p",{id:y,className:"walletconnect-qrcode__text"},e.text.scan_qrcode_with_wallet),c.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),c.createElement("div",{className:"walletconnect-modal__footer"},c.createElement("a",{onClick:function(){a(e.uri)?(r(e.text.copied_to_clipboard),setInterval((function(){return r("")}),1200)):(r("Error"),setInterval((function(){return r("")}),1200))}},e.text.copy_to_clipboard)),c.createElement(k,{message:n}))}function N(e){var t=s.isAndroid(),n=s.isMobile(),r=n?e.qrcodeModalOptions&&e.qrcodeModalOptions.mobileLinks?e.qrcodeModalOptions.mobileLinks:void 0:e.qrcodeModalOptions&&e.qrcodeModalOptions.desktopLinks?e.qrcodeModalOptions.desktopLinks:void 0,i=c.useState(!1),o=i[0],a=i[1],l=c.useState(!1),u=l[0],h=l[1],d=c.useState(!n),p=d[0],f=d[1],g={mobile:n,text:e.text,uri:e.uri,qrcodeModalOptions:e.qrcodeModalOptions},w=c.useState(""),y=w[0],v=w[1],_=c.useState(!1),E=_[0],x=_[1],C=c.useState([]),I=C[0],S=C[1],k=c.useState(""),P=k[0],N=k[1],M=function(){u||o||r&&!r.length||I.length>0||c.useEffect((function(){!function(){try{if(t)return Promise.resolve();a(!0);var i=function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){var t=e.qrcodeModalOptions&&e.qrcodeModalOptions.registryUrl?e.qrcodeModalOptions.registryUrl:s.getWalletRegistryUrl();return Promise.resolve(fetch(t)).then((function(t){return Promise.resolve(t.json()).then((function(t){var i=t.listings,o=n?"mobile":"desktop",c=s.getMobileLinkRegistry(s.formatMobileRegistry(i,o),r);a(!1),h(!0),N(c.length?"":e.text.no_supported_wallets),S(c);var l=1===c.length;l&&(v(s.formatIOSMobile(e.uri,c[0])),f(!0)),x(l)}))}))}),(function(t){a(!1),h(!0),N(e.text.something_went_wrong)}));return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}()}))};M();var T=n?p:!p;return c.createElement("div",{id:m,className:"walletconnect-qrcode__base animated fadeIn"},c.createElement("div",{className:"walletconnect-modal__base"},c.createElement(b,{onClose:e.onClose}),E&&p?c.createElement("div",{className:"walletconnect-modal__single_wallet"},c.createElement("a",{onClick:function(){return s.saveMobileLinkInfo({name:I[0].name,href:y})},href:y,rel:"noopener noreferrer",target:"_blank"},e.text.connect_with+" "+(E?I[0].name:"")+" ›")):t||o||!o&&I.length?c.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(T?" right__selected":"")},c.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?c.createElement(c.Fragment,null,c.createElement("a",{onClick:function(){return f(!1),M()}},e.text.mobile),c.createElement("a",{onClick:function(){return f(!0)}},e.text.qrcode)):c.createElement(c.Fragment,null,c.createElement("a",{onClick:function(){return f(!0)}},e.text.qrcode),c.createElement("a",{onClick:function(){return f(!1),M()}},e.text.desktop))):null,c.createElement("div",null,p||!t&&!o&&!I.length?c.createElement(A,Object.assign({},g)):c.createElement(O,Object.assign({},g,{links:I,errorMessage:P})))))}var M={de:{choose_preferred_wallet:"Wähle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterstützten Wallet",no_wallets_found:"keine Wallet gefunden"},en:{choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es:{choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera móvil",scan_qrcode_with_wallet:"Escanea el código QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo salió mal",no_supported_wallets:"Todavía no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr:{choose_preferred_wallet:"Choisissez votre portefeuille préféré",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copié!",connect_with:"Connectez-vous à l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourné",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouvé"},ko:{choose_preferred_wallet:"원하는 지갑을 선택하세요",connect_mobile_wallet:"모바일 지갑과 연결",scan_qrcode_with_wallet:"WalletConnect 지원 지갑에서 QR코드를 스캔하세요",connect:"연결",qrcode:"QR 코드",mobile:"모바일",desktop:"데스크탑",copy_to_clipboard:"클립보드에 복사",copied_to_clipboard:"클립보드에 복사되었습니다!",connect_with:"와 연결하다",loading:"로드 중...",something_went_wrong:"문제가 발생했습니다.",no_supported_wallets:"아직 지원되는 지갑이 없습니다",no_wallets_found:"지갑을 찾을 수 없습니다"},pt:{choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se à carteira móvel",scan_qrcode_with_wallet:"Ler o código QR com uma carteira compatível com WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda não há carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh:{choose_preferred_wallet:"选择你的钱包",connect_mobile_wallet:"连接至移动端钱包",scan_qrcode_with_wallet:"使用兼容 WalletConnect 的钱包扫描二维码",connect:"连接",qrcode:"二维码",mobile:"移动",desktop:"桌面",copy_to_clipboard:"复制到剪贴板",copied_to_clipboard:"复制到剪贴板成功！",connect_with:"通过以下方式连接",loading:"正在加载...",something_went_wrong:"出了问题",no_supported_wallets:"目前还没有支持的钱包",no_wallets_found:"没有找到钱包"},fa:{choose_preferred_wallet:"کیف پول مورد نظر خود را انتخاب کنید",connect_mobile_wallet:"به کیف پول موبایل وصل شوید",scan_qrcode_with_wallet:"کد QR را با یک کیف پول سازگار با WalletConnect اسکن کنید",connect:"اتصال",qrcode:"کد QR",mobile:"سیار",desktop:"دسکتاپ",copy_to_clipboard:"کپی به کلیپ بورد",copied_to_clipboard:"در کلیپ بورد کپی شد!",connect_with:"ارتباط با",loading:"...بارگذاری",something_went_wrong:"مشکلی پیش آمد",no_supported_wallets:"هنوز هیچ کیف پول پشتیبانی شده ای وجود ندارد",no_wallets_found:"هیچ کیف پولی پیدا نشد"}};function T(){var e=s.getDocumentOrThrow(),t=e.getElementById(m);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout((function(){var t=e.getElementById(f);t&&e.body.removeChild(t)}),d))}function R(e){return function(){T(),e&&e()}}function L(e,t,n){!function(){var e=s.getDocumentOrThrow(),t=e.getElementById(g);t&&e.head.removeChild(t);var n=e.createElement("style");n.setAttribute("id",g),n.innerText=l,e.head.appendChild(n)}();var r,i=function(){var e=s.getDocumentOrThrow(),t=e.createElement("div");return t.setAttribute("id",f),e.body.appendChild(t),t}();c.render(c.createElement(N,{text:(r=s.getNavigatorOrThrow().language.split("-")[0]||"en",M[r]||M.en),uri:e,onClose:R(t),qrcodeModalOptions:n}),i)}var D=function(){return void 0!==r&&void 0!==r.versions&&void 0!==r.versions.node};var j={open:function(e,t,n){D()?function(e){o.toString(e,{type:"terminal"}).then(console.log)}(e):L(e,t,n)},close:function(){D()||T()}};e.exports=j},91809:(e,t,n)=>{"use strict";var r=n(79742),i=n(80645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=c,t.h2=50;var o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=a(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(z(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var i=function(e){if(c.isBuffer(e)){var t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||q(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),a(e<0?0:0|f(e))}function d(e){for(var t=e.length<0?0:0|f(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(i)return r?-1:U(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var s,o=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(s=n;s<a;s++)if(l(e,s)===l(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===c)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){for(var h=!0,d=0;d<c;d++)if(l(e,s+d)!==l(t,d)){h=!1;break}if(h)return s}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(q(a))return o;e[n+o]=a}return o}function _(e,t,n,r){return $(U(t,e.length-n),e,n,r)}function E(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return $(B(t),e,n,r)}function C(e,t,n,r){return $(function(e,t){for(var n,r,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,o,a,c,l=e[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(s=e[i+1]))&&(c=(31&l)<<6|63&s)>127&&(u=c);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(c=(15&l)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!c.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(z(s,Uint8Array))i+s.length>r.length?c.from(s).copy(r,i):Uint8Array.prototype.set.call(r,s,i);else{if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i)}i+=s.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(s,o),l=this.slice(r,i),u=e.slice(t,n),h=0;h<a;++h)if(l[h]!==u[h]){s=l[h],o=u[h];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=W[e[s]];return i}function N(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,r,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,s){return t=+t,n>>>=0,s||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,s){return t=+t,n>>>=0,s||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=c.isBuffer(e)?e:c.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var j=/[^+/0-9A-Za-z-_]/g;function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function B(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}var W=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},18414:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Children:()=>ye,Component:()=>v,Fragment:()=>y,PureComponent:()=>pe,Suspense:()=>_e,SuspenseList:()=>Ce,cloneElement:()=>$e,createContext:()=>U,createElement:()=>g,createFactory:()=>Ue,createPortal:()=>ke,createRef:()=>w,default:()=>Fe,findDOMNode:()=>qe,forwardRef:()=>me,hydrate:()=>Me,isValidElement:()=>Be,lazy:()=>xe,memo:()=>fe,render:()=>Ne,unmountComponentAtNode:()=>ze,unstable_batchedUpdates:()=>We,useCallback:()=>ne,useContext:()=>re,useDebugValue:()=>ie,useEffect:()=>Q,useErrorBoundary:()=>se,useImperativeHandle:()=>ee,useLayoutEffect:()=>J,useMemo:()=>te,useReducer:()=>Y,useRef:()=>X,useState:()=>Z,version:()=>je});var r,i,s,o,a,c,l,u={},h=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function f(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n){var r,i=arguments,s={};for(r in t)"key"!==r&&"ref"!==r&&(s[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(i[r]);if(null!=n&&(s.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===s[r]&&(s[r]=e.defaultProps[r]);return m(e,s,t&&t.key,t&&t.ref,null)}function m(e,t,n,i,s){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s};return null==s&&(o.__v=o),r.vnode&&r.vnode(o),o}function w(){return{}}function y(e){return e.children}function v(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?b(e):null}function _(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return _(e)}}function E(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!s++||a!==r.debounceRendering)&&((a=r.debounceRendering)||o)(x)}function x(){for(var e;s=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,n,r,i,s,o,a;e.__d&&(o=(s=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=p({},s)).__v=r,i=P(a,s,r,t.__n,void 0!==a.ownerSVGElement,null,n,null==o?b(s):o),A(n,s),i!=o&&_(s)))}))}function C(e,t,n,r,i,s,o,a,c){var l,d,p,g,m,w,y,v=n&&n.__k||h,_=v.length;if(a==u&&(a=null!=s?s[0]:_?b(n,0):null),l=0,t.__k=I(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(p=v[l])||p&&n.key==p.key&&n.type===p.type)v[l]=void 0;else for(d=0;d<_;d++){if((p=v[d])&&n.key==p.key&&n.type===p.type){v[d]=void 0;break}p=null}if(g=P(e,n,p=p||u,r,i,s,o,a,c),(d=n.ref)&&p.ref!=d&&(y||(y=[]),p.ref&&y.push(p.ref,null,n),y.push(d,n.__c||g,n)),null!=g){var h;if(null==w&&(w=g),void 0!==n.__d)h=n.__d,n.__d=void 0;else if(s==p||g!=a||null==g.parentNode){e:if(null==a||a.parentNode!==e)e.appendChild(g),h=null;else{for(m=a,d=0;(m=m.nextSibling)&&d<_;d+=2)if(m==g)break e;e.insertBefore(g,a),h=a}"option"==t.type&&(e.value="")}a=void 0!==h?h:g.nextSibling,"function"==typeof t.type&&(t.__d=a)}else a&&p.__e==a&&a.parentNode!=e&&(a=b(p))}return l++,n})),t.__e=w,null!=s&&"function"!=typeof t.type)for(l=s.length;l--;)null!=s[l]&&f(s[l]);for(l=_;l--;)null!=v[l]&&T(v[l],v[l]);if(y)for(l=0;l<y.length;l++)M(y[l],y[++l],y[++l])}function I(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)I(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?m(null,e,null,null,e):null!=e.__e||null!=e.__c?m(e.type,e.props,e.key,null,e.__v):e):e);return n}function S(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===d.test(t)?n+"px":null==n?"":n}function O(e,t,n,r,i){var s,o,a,c,l;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(s=e.style,"string"==typeof n)s.cssText=n;else{if("string"==typeof r&&(s.cssText="",r=null),r)for(c in r)n&&c in n||S(s,c,"");if(n)for(l in n)r&&n[l]===r[l]||S(s,l,n[l])}else"o"===t[0]&&"n"===t[1]?(o=t!==(t=t.replace(/Capture$/,"")),a=t.toLowerCase(),t=(a in e?a:t).slice(2),n?(r||e.addEventListener(t,k,o),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,k,o)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function k(e){this.l[e.type](r.event?r.event(e):e)}function P(e,t,n,i,s,o,a,c,l){var u,h,d,f,g,m,w,b,_,E,x=t.type;if(void 0!==t.constructor)return null;(u=r.__b)&&u(t);try{e:if("function"==typeof x){if(b=t.props,_=(u=x.contextType)&&i[u.__c],E=u?_?_.props.value:u.__:i,n.__c?w=(h=t.__c=n.__c).__=h.__E:("prototype"in x&&x.prototype.render?t.__c=h=new x(b,E):(t.__c=h=new v(b,E),h.constructor=x,h.render=R),_&&_.sub(h),h.props=b,h.state||(h.state={}),h.context=E,h.__n=i,d=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=x.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=p({},h.__s)),p(h.__s,x.getDerivedStateFromProps(b,h.__s))),f=h.props,g=h.state,d)null==x.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==x.getDerivedStateFromProps&&b!==f&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,E),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,E)||t.__v===n.__v&&!h.__){for(h.props=b,h.state=h.__s,t.__v!==n.__v&&(h.__d=!1),h.__v=t,t.__e=n.__e,t.__k=n.__k,h.__h.length&&a.push(h),u=0;u<t.__k.length;u++)t.__k[u]&&(t.__k[u].__=t);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,E),null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(f,g,m)}))}h.context=E,h.props=b,h.state=h.__s,(u=r.__r)&&u(t),h.__d=!1,h.__v=t,h.__P=e,u=h.render(h.props,h.state,h.context),t.__k=null!=u&&u.type==y&&null==u.key?u.props.children:Array.isArray(u)?u:[u],null!=h.getChildContext&&(i=p(p({},i),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(m=h.getSnapshotBeforeUpdate(f,g)),C(e,t,n,i,s,o,a,c,l),h.base=t.__e,h.__h.length&&a.push(h),w&&(h.__E=h.__=null),h.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=N(n.__e,t,n,i,s,o,a,l);(u=r.diffed)&&u(t)}catch(e){t.__v=null,r.__e(e,t,n)}return t.__e}function A(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function N(e,t,n,r,i,s,o,a){var c,l,d,p,f,g=n.props,m=t.props;if(i="svg"===t.type||i,null!=s)for(c=0;c<s.length;c++)if(null!=(l=s[c])&&((null===t.type?3===l.nodeType:l.localName===t.type)||e==l)){e=l,s[c]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),s=null,a=!1}if(null===t.type)g!==m&&e.data!=m&&(e.data=m);else{if(null!=s&&(s=h.slice.call(e.childNodes)),d=(g=n.props||u).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!a){if(g===u)for(g={},f=0;f<e.attributes.length;f++)g[e.attributes[f].name]=e.attributes[f].value;(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,r,i){var s;for(s in n)"children"===s||"key"===s||s in t||O(e,s,null,n[s],r);for(s in t)i&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||O(e,s,t[s],n[s],r)})(e,m,g,i,a),p?t.__k=[]:(t.__k=t.props.children,C(e,t,n,r,"foreignObject"!==t.type&&i,s,o,u,a)),a||("value"in m&&void 0!==(c=m.value)&&c!==e.value&&O(e,"value",c,g.value,!1),"checked"in m&&void 0!==(c=m.checked)&&c!==e.checked&&O(e,"checked",c,g.checked,!1))}return e}function M(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function T(e,t,n){var i,s,o;if(r.unmount&&r.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||M(i,null,t)),n||"function"==typeof e.type||(n=null!=(s=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){r.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&T(i[o],t,n);null!=s&&f(s)}function R(e,t,n){return this.constructor(e,n)}function L(e,t,n){var i,s,o;r.__&&r.__(e,t),s=(i=n===c)?null:n&&n.__k||t.__k,e=g(y,null,[e]),o=[],P(t,(i?t:n||t).__k=e,s||u,u,void 0!==t.ownerSVGElement,n&&!i?[n]:s?null:h.slice.call(t.childNodes),o,n||u,i),A(o,e)}function D(e,t){L(e,t,c)}function j(e,t){var n,r;for(r in t=p(p({},e.props),t),arguments.length>2&&(t.children=h.slice.call(arguments,2)),n={},t)"key"!==r&&"ref"!==r&&(n[r]=t[r]);return m(e.type,n,t.key||e.key,t.ref||e.ref,null)}function U(e){var t={},n={__c:"__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,i=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=i,t},this.shouldComponentUpdate=function(e){i.props.value!==e.value&&r.some((function(t){t.context=e.value,E(t)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}r={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return E(n.__E=n)}catch(t){e=t}throw e}},v.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),E(this))},v.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},v.prototype.render=y,i=[],s=0,o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=u,l=0;var B,$,z,q=0,W=[],F=r.__r,H=r.diffed,V=r.__c,K=r.unmount;function G(e,t){r.__h&&r.__h($,e,q||t),q=0;var n=$.__H||($.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Z(e){return q=1,Y(ue,e)}function Y(e,t,n){var r=G(B++,2);return r.__c||(r.__c=$,r.__=[n?n(t):ue(void 0,t),function(t){var n=e(r.__[0],t);r.__[0]!==n&&(r.__[0]=n,r.__c.setState({}))}]),r.__}function Q(e,t){var n=G(B++,3);!r.__s&&le(n.__H,t)&&(n.__=e,n.__H=t,$.__H.__h.push(n))}function J(e,t){var n=G(B++,4);!r.__s&&le(n.__H,t)&&(n.__=e,n.__H=t,$.__h.push(n))}function X(e){return q=5,te((function(){return{current:e}}),[])}function ee(e,t,n){q=6,J((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function te(e,t){var n=G(B++,7);return le(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function ne(e,t){return q=8,te((function(){return e}),t)}function re(e){var t=$.context[e.__c],n=G(B++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub($)),t.props.value):e.__}function ie(e,t){r.useDebugValue&&r.useDebugValue(t?t(e):e)}function se(e){var t=G(B++,10),n=Z();return t.__=e,$.componentDidCatch||($.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function oe(){W.some((function(e){if(e.__P)try{e.__H.__h.forEach(ae),e.__H.__h.forEach(ce),e.__H.__h=[]}catch(t){return e.__H.__h=[],r.__e(t,e.__v),!0}})),W=[]}function ae(e){e.t&&e.t()}function ce(e){var t=e.__();"function"==typeof t&&(e.t=t)}function le(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function ue(e,t){return"function"==typeof t?t(e):t}function he(e,t){for(var n in t)e[n]=t[n];return e}function de(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}r.__r=function(e){F&&F(e),B=0,($=e.__c).__H&&($.__H.__h.forEach(ae),$.__H.__h.forEach(ce),$.__H.__h=[])},r.diffed=function(e){H&&H(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==W.push(t)&&z===r.requestAnimationFrame||((z=r.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(oe))}},r.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ae),e.__h=e.__h.filter((function(e){return!e.__||ce(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],r.__e(n,e.__v)}})),V&&V(e,t)},r.unmount=function(e){K&&K(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach((function(e){return e.t&&e.t()}))}catch(e){r.__e(e,t.__v)}}};var pe=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldComponentUpdate=function(e,t){return de(this.props,e)||de(this.state,t)},r}(v);function fe(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:de(this.props,e)}function r(t){return this.shouldComponentUpdate=n,g(e,he({},t))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r}var ge=r.__b;function me(e){function t(t){var n=he({},t);return delete n.ref,e(n,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}r.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),ge&&ge(e)};var we=function(e,t){return e?I(e).reduce((function(e,n,r){return e.concat(t(n,r))}),[]):null},ye={map:we,forEach:we,count:function(e){return e?I(e).length:0},only:function(e){if(1!==(e=I(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:I},ve=r.__e;function be(e){return e&&((e=he({},e)).__c=null,e.__k=e.__k&&e.__k.map(be)),e}function _e(){this.__u=0,this.o=null,this.__b=null}function Ee(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function xe(e){var t,n,r;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return g(n,i)}return i.displayName="Lazy",i.t=!0,i}function Ce(){this.i=null,this.l=null}r.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return r.__c(e,t.__c);ve(e,t,n)},(_e.prototype=new v).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var r=Ee(n.__v),i=!1,s=function(){i||(i=!0,r?r(o):o())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){s(),t.__c&&t.__c()};var o=function(){var e;if(! --n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(s,s)},_e.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=be(this.__b),this.__b=null),[g(v,null,t.u?null:e.children),t.u&&e.fallback]};var Ie=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(Ce.prototype=new v).u=function(e){var t=this,n=Ee(t.__v),r=t.l.get(e);return r[0]++,function(i){var s=function(){t.props.revealOrder?(r.push(i),Ie(t,e,r)):i()};n?n(s):s()}},Ce.prototype.render=function(e){this.i=null,this.l=new Map;var t=I(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ce.prototype.componentDidUpdate=Ce.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){Ie(e,n,t)}))};var Se=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function Oe(e){var t=this,n=e.container,r=g(Se,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),T(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,L(r,n),t.__k=n.__k):(t.v=document.createTextNode(""),D("",n),n.appendChild(t.v),t.p=!0,t.s=n,L(r,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),T(t.h)),t.h=r,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),T(t.h)},null}function ke(e,t){return g(Oe,{vnode:e,container:t})}var Pe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;v.prototype.isReactComponent={};var Ae="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function Ne(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return L(e,t),"function"==typeof n&&n(),e?e.__c:null}function Me(e,t,n){return D(e,t),"function"==typeof n&&n(),e?e.__c:null}var Te=r.event;function Re(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}r.event=function(e){Te&&(e=Te(e)),e.persist=function(){};var t=!1,n=!1,r=e.stopPropagation;e.stopPropagation=function(){r.call(e),t=!0};var i=e.preventDefault;return e.preventDefault=function(){i.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var Le={configurable:!0,get:function(){return this.class}},De=r.vnode;r.vnode=function(e){e.$$typeof=Ae;var t=e.type,n=e.props;if(t){if(n.class!=n.className&&(Le.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",Le)),"function"!=typeof t){var r,i,s;for(s in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(I(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(r=Pe.test(s))break;if(r)for(s in i=e.props={},n)i[Pe.test(s)?s.replace(/[A-Z0-9]/,"-$&").toLowerCase():s]=n[s]}!function(t){var n=e.type,r=e.props;if(r&&"string"==typeof n){var i={};for(var s in r)/^on(Ani|Tra|Tou)/.test(s)&&(r[s.toLowerCase()]=r[s],delete r[s]),i[s.toLowerCase()]=s;if(i.ondoubleclick&&(r.ondblclick=r[i.ondoubleclick],delete r[i.ondoubleclick]),i.onbeforeinput&&(r.onbeforeinput=r[i.onbeforeinput],delete r[i.onbeforeinput]),i.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var o=i.oninput||"oninput";r[o]||(r[o]=r[i.onchange],delete r[i.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(Re(t.prototype,"componentWillMount"),Re(t.prototype,"componentWillReceiveProps"),Re(t.prototype,"componentWillUpdate"),t.m=!0)}De&&De(e)};var je="16.8.0";function Ue(e){return g.bind(null,e)}function Be(e){return!!e&&e.$$typeof===Ae}function $e(e){return Be(e)?j.apply(null,arguments):e}function ze(e){return!!e.__k&&(L(null,e),!0)}function qe(e){return e&&(e.base||1===e.nodeType&&e)||null}var We=function(e,t){return e(t)};const Fe={useState:Z,useReducer:Y,useEffect:Q,useLayoutEffect:J,useRef:X,useImperativeHandle:ee,useMemo:te,useCallback:ne,useContext:re,useDebugValue:ie,version:"16.8.0",Children:ye,render:Ne,hydrate:Ne,unmountComponentAtNode:ze,createPortal:ke,createElement:g,createContext:U,createFactory:Ue,cloneElement:$e,createRef:w,Fragment:y,isValidElement:Be,findDOMNode:qe,Component:v,PureComponent:pe,memo:fe,forwardRef:me,unstable_batchedUpdates:We,Suspense:_e,SuspenseList:Ce,lazy:xe}},33133:(e,t,n)=>{var r=n(7708),i=n(34730),s=n(16949),o=n(77665);function a(e,t,n,s,o){var a=[].slice.call(arguments,1),c=a.length,l="function"==typeof a[c-1];if(!l&&!r())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=t,t=s=void 0):2!==c||t.getContext||(s=n,n=t,t=void 0),new Promise((function(r,o){try{var a=i.create(n,s);r(e(a,t,s))}catch(e){o(e)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(o=n,n=t,t=s=void 0):3===c&&(t.getContext&&void 0===o?(o=s,s=void 0):(o=s,s=n,n=t,t=void 0));try{var u=i.create(n,s);o(null,e(u,t,s))}catch(e){o(e)}}t.create=i.create,t.toCanvas=a.bind(null,s.render),t.toDataURL=a.bind(null,s.renderToDataURL),t.toString=a.bind(null,(function(e,t,n){return o.render(e,n)}))},7708:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},13493:(e,t,n)=>{var r=n(5351).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),s=[n-7],o=1;o<t-1;o++)s[o]=s[o-1]-i;return s.push(6),s.reverse()},t.getPositions=function(e){for(var n=[],r=t.getRowColCoords(e),i=r.length,s=0;s<i;s++)for(var o=0;o<i;o++)0===s&&0===o||0===s&&o===i-1||s===i-1&&0===o||n.push([r[s],r[o]]);return n}},17916:(e,t,n)=>{var r=n(24944),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(e){this.mode=r.ALPHANUMERIC,this.data=e}s.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=s},32626:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},74739:(e,t,n)=>{var r=n(19810);function i(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=r.alloc(e*e),this.reservedBit=r.alloc(e*e)}i.prototype.set=function(e,t,n,r){var i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},i.prototype.get=function(e,t){return this.data[e*this.size+t]},i.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},i.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=i},77741:(e,t,n)=>{var r=n(19810),i=n(24944);function s(e){this.mode=i.BYTE,this.data=r.from(e)}s.getBitsLength=function(e){return 8*e},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=s},48853:(e,t,n)=>{var r=n(61250),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return s[4*(e-1)+0];case r.M:return s[4*(e-1)+1];case r.Q:return s[4*(e-1)+2];case r.H:return s[4*(e-1)+3];default:return}}},61250:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},55949:(e,t,n)=>{var r=n(5351).getSymbolSize;t.getPositions=function(e){var t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},69977:(e,t,n)=>{var r=n(5351),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,s=n<<10;r.getBCHDigit(s)-i>=0;)s^=1335<<r.getBCHDigit(s)-i;return 21522^(n<<10|s)}},68423:(e,t,n)=>{var r=n(19810),i=r.alloc(512),s=r.alloc(256);!function(){for(var e=1,t=0;t<255;t++)i[t]=e,s[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)i[t]=i[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return s[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[s[e]+s[t]]}},5558:(e,t,n)=>{var r=n(24944),i=n(5351);function s(e){this.mode=r.KANJI,this.data=e}s.getBitsLength=function(e){return 13*e},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=s},46280:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,r=3,i=40,s=10;function o(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,r=0,i=0,s=0,o=null,a=null,c=0;c<t;c++){i=s=0,o=a=null;for(var l=0;l<t;l++){var u=e.get(c,l);u===o?i++:(i>=5&&(r+=n+(i-5)),o=u,i=1),(u=e.get(l,c))===a?s++:(s>=5&&(r+=n+(s-5)),a=u,s=1)}i>=5&&(r+=n+(i-5)),s>=5&&(r+=n+(s-5))}return r},t.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var s=0;s<t-1;s++){var o=e.get(i,s)+e.get(i,s+1)+e.get(i+1,s)+e.get(i+1,s+1);4!==o&&0!==o||n++}return n*r},t.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,s=0,o=0;o<t;o++){r=s=0;for(var a=0;a<t;a++)r=r<<1&2047|e.get(o,a),a>=10&&(1488===r||93===r)&&n++,s=s<<1&2047|e.get(a,o),a>=10&&(1488===s||93===s)&&n++}return n*i},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*s},t.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,o(e,i,r))},t.getBestMask=function(e,n){for(var r=Object.keys(t.Patterns).length,i=0,s=1/0,o=0;o<r;o++){n(o),t.applyMask(o,e);var a=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(o,e),a<s&&(s=a,i=o)}return i}},24944:(e,t,n)=>{var r=n(42752),i=n(54503);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},59262:(e,t,n)=>{var r=n(24944);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},47282:(e,t,n)=>{var r=n(19810),i=n(68423);t.mul=function(e,t){for(var n=r.alloc(e.length+t.length-1),s=0;s<e.length;s++)for(var o=0;o<t.length;o++)n[s+o]^=i.mul(e[s],t[o]);return n},t.mod=function(e,t){for(var n=r.from(e);n.length-t.length>=0;){for(var s=n[0],o=0;o<t.length;o++)n[o]^=i.mul(t[o],s);for(var a=0;a<n.length&&0===n[a];)a++;n=n.slice(a)}return n},t.generateECPolynomial=function(e){for(var n=r.from([1]),s=0;s<e;s++)n=t.mul(n,[1,i.exp(s)]);return n}},34730:(e,t,n)=>{var r=n(19810),i=n(5351),s=n(61250),o=n(32626),a=n(74739),c=n(13493),l=n(55949),u=n(46280),h=n(48853),d=n(23371),p=n(65934),f=n(69977),g=n(24944),m=n(16027),w=n(5826);function y(e,t,n){var r,i,s=e.size,o=f.getEncodedBits(t,n);for(r=0;r<15;r++)i=1==(o>>r&1),r<6?e.set(r,8,i,!0):r<8?e.set(r+1,8,i,!0):e.set(s-15+r,8,i,!0),r<8?e.set(8,s-r-1,i,!0):r<9?e.set(8,15-r-1+1,i,!0):e.set(8,15-r-1,i,!0);e.set(s-8,8,1,!0)}function v(e,t,n){var s=new o;n.forEach((function(t){s.put(t.mode.bit,4),s.put(t.getLength(),g.getCharCountIndicator(t.mode,e)),t.write(s)}));var a=8*(i.getSymbolTotalCodewords(e)-h.getTotalCodewordsCount(e,t));for(s.getLengthInBits()+4<=a&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(0);for(var c=(a-s.getLengthInBits())/8,l=0;l<c;l++)s.put(l%2?17:236,8);return function(e,t,n){for(var s=i.getSymbolTotalCodewords(t),o=h.getTotalCodewordsCount(t,n),a=s-o,c=h.getBlocksCount(t,n),l=c-s%c,u=Math.floor(s/c),p=Math.floor(a/c),f=p+1,g=u-p,m=new d(g),w=0,y=new Array(c),v=new Array(c),b=0,_=r.from(e.buffer),E=0;E<c;E++){var x=E<l?p:f;y[E]=_.slice(w,w+x),v[E]=m.encode(y[E]),w+=x,b=Math.max(b,x)}var C,I,S=r.alloc(s),O=0;for(C=0;C<b;C++)for(I=0;I<c;I++)C<y[I].length&&(S[O++]=y[I][C]);for(C=0;C<g;C++)for(I=0;I<c;I++)S[O++]=v[I][C];return S}(s,e,t)}function b(e,t,n,r){var s;if(w(e))s=m.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var o=t;if(!o){var h=m.rawSplit(e);o=p.getBestVersionForData(h,n)}s=m.fromString(e,o||40)}var d=p.getBestVersionForData(s,n);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else t=d;var f=v(t,n,s),g=i.getSymbolSize(t),b=new a(g);return function(e,t){for(var n=e.size,r=l.getPositions(t),i=0;i<r.length;i++)for(var s=r[i][0],o=r[i][1],a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(var c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===a||6===a)||a>=2&&a<=4&&c>=2&&c<=4?e.set(s+a,o+c,!0,!0):e.set(s+a,o+c,!1,!0))}(b,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(b),function(e,t){for(var n=c.getPositions(t),r=0;r<n.length;r++)for(var i=n[r][0],s=n[r][1],o=-2;o<=2;o++)for(var a=-2;a<=2;a++)-2===o||2===o||-2===a||2===a||0===o&&0===a?e.set(i+o,s+a,!0,!0):e.set(i+o,s+a,!1,!0)}(b,t),y(b,n,0),t>=7&&function(e,t){for(var n,r,i,s=e.size,o=p.getEncodedBits(t),a=0;a<18;a++)n=Math.floor(a/3),r=a%3+s-8-3,i=1==(o>>a&1),e.set(n,r,i,!0),e.set(r,n,i,!0)}(b,t),function(e,t){for(var n=e.size,r=-1,i=n-1,s=7,o=0,a=n-1;a>0;a-=2)for(6===a&&a--;;){for(var c=0;c<2;c++)if(!e.isReserved(i,a-c)){var l=!1;o<t.length&&(l=1==(t[o]>>>s&1)),e.set(i,a-c,l),-1==--s&&(o++,s=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(b,f),isNaN(r)&&(r=u.getBestMask(b,y.bind(null,b,n))),u.applyMask(r,b),y(b,n,r),{modules:b,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,r,o=s.M;return void 0!==t&&(o=s.from(t.errorCorrectionLevel,s.M),n=p.from(t.version),r=u.from(t.maskPattern),t.toSJISFunc&&i.setToSJISFunction(t.toSJISFunc)),b(e,n,o,r)}},23371:(e,t,n)=>{var r=n(19810),i=n(47282),s=n(91809).lW;function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=i.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=r.alloc(this.degree),n=s.concat([e,t],e.length+this.degree),o=i.mod(n,this.genPoly),a=this.degree-o.length;if(a>0){var c=r.alloc(this.degree);return o.copy(c,a),c}return o},e.exports=o},54503:(e,t)=>{var n="[0-9]+",r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var s=new RegExp("^"+r+"$"),o=new RegExp("^"+n+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return s.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},16027:(e,t,n)=>{var r=n(24944),i=n(59262),s=n(17916),o=n(77741),a=n(5558),c=n(54503),l=n(5351),u=n(65987);function h(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){for(var r,i=[];null!==(r=e.exec(n));)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function p(e){var t,n,i=d(c.NUMERIC,r.NUMERIC,e),s=d(c.ALPHANUMERIC,r.ALPHANUMERIC,e);return l.isKanjiModeEnabled()?(t=d(c.BYTE,r.BYTE,e),n=d(c.KANJI,r.KANJI,e)):(t=d(c.BYTE_KANJI,r.BYTE,e),n=[]),i.concat(s,t,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function f(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return s.getBitsLength(e);case r.KANJI:return a.getBitsLength(e);case r.BYTE:return o.getBitsLength(e)}}function g(e,t){var n,c=r.getBestModeForData(e);if((n=r.from(t,c))!==r.BYTE&&n.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(c));switch(n!==r.KANJI||l.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new s(e);case r.KANJI:return new a(e);case r.BYTE:return new o(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(g(t,null)):t.data&&e.push(g(t.data,t.mode)),e}),[])},t.fromString=function(e,n){for(var i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:h(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:h(i.data)}])}}return t}(p(e,l.isKanjiModeEnabled())),s=function(e,t){for(var n={},i={start:{}},s=["start"],o=0;o<e.length;o++){for(var a=e[o],c=[],l=0;l<a.length;l++){var u=a[l],h=""+o+l;c.push(h),n[h]={node:u,lastCount:0},i[h]={};for(var d=0;d<s.length;d++){var p=s[d];n[p]&&n[p].node.mode===u.mode?(i[p][h]=f(n[p].lastCount+u.length,u.mode)-f(n[p].lastCount,u.mode),n[p].lastCount+=u.length):(n[p]&&(n[p].lastCount=u.length),i[p][h]=f(u.length,u.mode)+4+r.getCharCountIndicator(u.mode,t))}}s=c}for(d=0;d<s.length;d++)i[s[d]].end=0;return{map:i,table:n}}(i,n),o=u.find_path(s.map,"start","end"),a=[],c=1;c<o.length-1;c++)a.push(s.table[o[c]].node);return t.fromArray(function(e){return e.reduce((function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(a))},t.rawSplit=function(e){return t.fromArray(p(e,l.isKanjiModeEnabled()))}},5351:(e,t)=>{var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},42752:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},65934:(e,t,n)=>{var r=n(5351),i=n(48853),s=n(61250),o=n(24944),a=n(42752),c=n(5826),l=r.getBCHDigit(7973);function u(e,t){return o.getCharCountIndicator(e,t)+4}function h(e,t){var n=0;return e.forEach((function(e){var r=u(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!a.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=o.BYTE);var s=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===o.MIXED)return s;var c=s-u(n,e);switch(n){case o.NUMERIC:return Math.floor(c/10*3);case o.ALPHANUMERIC:return Math.floor(c/11*2);case o.KANJI:return Math.floor(c/13);case o.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,n){var r,i=s.from(n,s.M);if(c(e)){if(e.length>1)return function(e,n){for(var r=1;r<=40;r++)if(h(e,r)<=t.getCapacity(r,n,o.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(var i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;r.getBCHDigit(t)-l>=0;)t^=7973<<r.getBCHDigit(t)-l;return e<<12|t}},16949:(e,t,n)=>{var r=n(77067);t.render=function(e,t,n){var i=n,s=t;void 0!==i||t&&t.getContext||(i=t,t=void 0),t||(s=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);var o=r.getImageWidth(e.modules.size,i),a=s.getContext("2d"),c=a.createImageData(o,o);return r.qrToImageData(c.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,s,o),a.putImageData(c,0,0),s},t.renderToDataURL=function(e,n,r){var i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});var s=t.render(e,n,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}},77665:(e,t,n)=>{var r=n(77067);function i(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function s(e,t,n){var r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){var o=r.getOptions(t),a=e.modules.size,c=e.modules.data,l=a+2*o.margin,u=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+i(o.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",i=0,o=!1,a=0,c=0;c<e.length;c++){var l=Math.floor(c%t),u=Math.floor(c/t);l||o||(o=!0),e[c]?(a++,c>0&&l>0&&e[c-1]||(r+=o?s("M",l+n,.5+u+n):s("m",i,0),i=0,o=!1),l+1<t&&e[c+1]||(r+=s("h",a),a=0)):i++}return r}(c,a,o.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+d+' shape-rendering="crispEdges">'+u+h+"</svg>\n";return"function"==typeof n&&n(null,p),p}},77067:(e,t)=>{function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){for(var i=n.modules.size,s=n.modules.data,o=t.getScale(i,r),a=Math.floor((i+2*r.margin)*o),c=r.margin*o,l=[r.color.light,r.color.dark],u=0;u<a;u++)for(var h=0;h<a;h++){var d=4*(u*a+h),p=r.color.light;if(u>=c&&h>=c&&u<a-c&&h<a-c)p=l[s[Math.floor((u-c)/o)*i+Math.floor((h-c)/o)]?1:0];e[d++]=p.r,e[d++]=p.g,e[d++]=p.b,e[d]=p.a}}},19810:(e,t,n)=>{"use strict";var r=n(5826);s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}();var i=s.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function s(e,t,n){return s.TYPED_ARRAY_SUPPORT||this instanceof s?"number"==typeof e?c(this,e):function(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var i;i=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?i.__proto__=s.prototype:i=l(e,i);return i}(e,t,n,r);if("string"==typeof t)return function(e,t){var n=0|h(t),r=a(e,n),i=r.write(t);i!==n&&(r=r.slice(0,i));return r}(e,t);return function(e,t){if(s.isBuffer(t)){var n=0|o(t.length),r=a(e,n);return 0===r.length||t.copy(r,0,0,n),r}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?a(e,0):l(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return l(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,n):new s(e,t,n)}function o(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function a(e,t){var n;return s.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=s.prototype:(null===(n=e)&&(n=new s(t)),n.length=t),n}function c(e,t){var n=a(e,t<0?0:0|o(t));if(!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)n[r]=0;return n}function l(e,t){for(var n=t.length<0?0:0|o(t.length),r=a(e,n),i=0;i<n;i+=1)r[i]=255&t[i];return r}function u(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function h(e){return s.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:u(e).length)}s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),s.prototype.write=function(e,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,n,r){return function(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}(u(t,e.length-n),e,n,r)}(this,e,t,n)},s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var i=t-e;n=new s(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},s.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=s.isBuffer(e)?e:new s(e),a=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this},s.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a(null,0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c(null,t),o=0;for(n=0;n<e.length;++n){var l=e[n];if(!s.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(i,o),o+=l.length}return i},s.byteLength=h,s.prototype._isBuffer=!0,s.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports.alloc=function(e){var t=new s(e);return t.fill(0),t},e.exports.from=function(e){return new s(e)}},61882:()=>{},43014:()=>{},36900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(30004);r.__exportStar(n(46869),t),r.__exportStar(n(88033),t)},46869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},88033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},66736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(30004);r.__exportStar(n(44273),t),r.__exportStar(n(47001),t),r.__exportStar(n(52939),t),r.__exportStar(n(36900),t)},52939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(30004).__exportStar(n(88766),t)},88766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},83207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(36900);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},83873:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}},44273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(30004);r.__exportStar(n(83873),t),r.__exportStar(n(83207),t)},47001:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(void 0!==t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if(void 0===t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},30004:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>b,__asyncGenerator:()=>v,__asyncValues:()=>_,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>S,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>p,__extends:()=>i,__generator:()=>h,__importDefault:()=>C,__importStar:()=>x,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>w,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(e){u(s[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},62873:(e,t)=>{"use strict";function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},65755:(e,t,n)=>{"use strict";t.D=void 0;const r=n(62873);t.D=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(e){return null}function n(...t){const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const r=n[e],i=["itemprop","property","name"].map((e=>r.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(i.length&&i){const e=r.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},44431:function(e,t,n){var r;!function(i){"use strict";var s,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,l="[BigNumber Error] ",u=l+"Number primitive has more than 15 significant digits: ",h=1e14,d=14,p=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,m=1e9;function w(e){var t=0|e;return e>0||e===t?t:t-1}function y(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=d-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function v(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,c=e.e,l=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=c==l,!i||!s)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return c==l?0:c>l^n?1:-1}function b(e,t,n,r){if(e<t||e>n||e!==c(e))throw Error(l+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return w(e.e/d)==t&&e.c[t]%2!=0}function E(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function x(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}s=function e(t){var n,r,i,s,C,I,S,O,k,P,A=W.prototype={constructor:W,toString:null,valueOf:null},N=new W(1),M=20,T=4,R=-7,L=21,D=-1e7,j=1e7,U=!1,B=1,$=0,z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz";function W(e,t){var n,s,a,l,h,f,g,m,w=this;if(!(w instanceof W))return new W(e,t);if(null==t){if(e&&!0===e._isBigNumber)return w.s=e.s,void(!e.c||e.e>j?w.c=w.e=null:e.e<D?w.c=[w.e=0]:(w.e=e.e,w.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(w.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,h=e;h>=10;h/=10,l++);return void(l>j?w.c=w.e=null:(w.e=l,w.c=[e]))}m=String(e)}else{if(!o.test(m=String(e)))return i(w,m,f);w.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(l=m.indexOf("."))>-1&&(m=m.replace(".","")),(h=m.search(/e/i))>0?(l<0&&(l=h),l+=+m.slice(h+1),m=m.substring(0,h)):l<0&&(l=m.length)}else{if(b(t,2,q.length,"Base"),10==t)return K(w=new W(e),M+w.e+1,T);if(m=String(e),f="number"==typeof e){if(0*e!=0)return i(w,m,f,t);if(w.s=1/e<0?(m=m.slice(1),-1):1,W.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else w.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=q.slice(0,t),l=h=0,g=m.length;h<g;h++)if(n.indexOf(s=m.charAt(h))<0){if("."==s){if(h>l){l=g;continue}}else if(!a&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){a=!0,h=-1,l=0;continue}return i(w,String(e),f,t)}f=!1,(l=(m=r(m,t,10,w.s)).indexOf("."))>-1?m=m.replace(".",""):l=m.length}for(h=0;48===m.charCodeAt(h);h++);for(g=m.length;48===m.charCodeAt(--g););if(m=m.slice(h,++g)){if(g-=h,f&&W.DEBUG&&g>15&&(e>p||e!==c(e)))throw Error(u+w.s*e);if((l=l-h-1)>j)w.c=w.e=null;else if(l<D)w.c=[w.e=0];else{if(w.e=l,w.c=[],h=(l+1)%d,l<0&&(h+=d),h<g){for(h&&w.c.push(+m.slice(0,h)),g-=d;h<g;)w.c.push(+m.slice(h,h+=d));h=d-(m=m.slice(h)).length}else h-=g;for(;h--;m+="0");w.c.push(+m)}}else w.c=[w.e=0]}function F(e,t,n,r){var i,s,o,a,c;if(null==n?n=T:b(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)c=y(e.c),c=1==r||2==r&&(o<=R||o>=L)?E(c,o):x(c,o,"0");else if(s=(e=K(new W(e),t,n)).e,a=(c=y(e.c)).length,1==r||2==r&&(t<=s||s<=R)){for(;a<t;c+="0",a++);c=E(c,s)}else if(t-=o,c=x(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function H(e,t){for(var n,r=1,i=new W(e[0]);r<e.length;r++){if(!(n=new W(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function V(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*d-1)>j?e.c=e.e=null:n<D?e.c=[e.e=0]:(e.e=n,e.c=t),e}function K(e,t,n,r){var i,s,o,l,u,p,g,m=e.c,w=f;if(m){e:{for(i=1,l=m[0];l>=10;l/=10,i++);if((s=t-i)<0)s+=d,o=t,g=(u=m[p=0])/w[i-o-1]%10|0;else if((p=a((s+1)/d))>=m.length){if(!r)break e;for(;m.length<=p;m.push(0));u=g=0,i=1,o=(s%=d)-d+1}else{for(u=l=m[p],i=1;l>=10;l/=10,i++);g=(o=(s%=d)-d+i)<0?0:u/w[i-o-1]%10|0}if(r=r||t<0||null!=m[p+1]||(o<0?u:u%w[i-o-1]),r=n<4?(g||r)&&(0==n||n==(e.s<0?3:2)):g>5||5==g&&(4==n||r||6==n&&(s>0?o>0?u/w[i-o]:0:m[p-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=w[(d-t%d)%d],e.e=-t||0):m[0]=e.e=0,e;if(0==s?(m.length=p,l=1,p--):(m.length=p+1,l=w[d-s],m[p]=o>0?c(u/w[i-o]%w[o])*l:0),r)for(;;){if(0==p){for(s=1,o=m[0];o>=10;o/=10,s++);for(o=m[0]+=l,l=1;o>=10;o/=10,l++);s!=l&&(e.e++,m[0]==h&&(m[0]=1));break}if(m[p]+=l,m[p]!=h)break;m[p--]=0,l=1}for(s=m.length;0===m[--s];m.pop());}e.e>j?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function G(e){var t,n=e.e;return null===n?e.toString():(t=y(e.c),t=n<=R||n>=L?E(t,n):x(t,n,"0"),e.s<0?"-"+t:t)}return W.clone=e,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(l+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,m,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),T=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-m,0,t),b(n[1],0,m,t),R=n[0],L=n[1]):(b(n,-m,m,t),R=-(L=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-m,-1,t),b(n[1],1,m,t),D=n[0],j=n[1];else{if(b(n,-m,m,t),!n)throw Error(l+t+" cannot be zero: "+n);D=-(j=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(l+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!n,Error(l+"crypto unavailable");U=n}else U=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),B=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,m,t),$=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(l+t+" not an object: "+n);z=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(l+t+" invalid: "+n);q=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:T,EXPONENTIAL_AT:[R,L],RANGE:[D,j],CRYPTO:U,MODULO_MODE:B,POW_PRECISION:$,FORMAT:z,ALPHABET:q}},W.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!W.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-m&&i<=m&&i===c(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%d)<1&&(t+=d),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=h||n!==c(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(l+"Invalid BigNumber: "+e)},W.maximum=W.max=function(){return H(arguments,A.lt)},W.minimum=W.min=function(){return H(arguments,A.gt)},W.random=(s=9007199254740992,C=Math.random()*s&2097151?function(){return c(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,s,o=0,u=[],h=new W(N);if(null==e?e=M:b(e,0,m),i=a(e/d),U)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));o<i;)(s=131072*t[o]+(t[o+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[o]=n[0],t[o+1]=n[1]):(u.push(s%1e14),o+=2);o=i/2}else{if(!crypto.randomBytes)throw U=!1,Error(l+"crypto unavailable");for(t=crypto.randomBytes(i*=7);o<i;)(s=281474976710656*(31&t[o])+1099511627776*t[o+1]+4294967296*t[o+2]+16777216*t[o+3]+(t[o+4]<<16)+(t[o+5]<<8)+t[o+6])>=9e15?crypto.randomBytes(7).copy(t,o):(u.push(s%1e14),o+=7);o=i/7}if(!U)for(;o<i;)(s=C())<9e15&&(u[o++]=s%1e14);for(i=u[--o],e%=d,i&&e&&(s=f[d-e],u[o]=c(i/s)*s);0===u[o];u.pop(),o--);if(o<0)u=[r=0];else{for(r=-1;0===u[0];u.splice(0,1),r-=d);for(o=1,s=u[0];s>=10;s/=10,o++);o<d&&(r-=d-o)}return h.e=r,h.c=u,h}),W.sum=function(){for(var e=1,t=arguments,n=new W(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,s,o,a){var c,l,u,h,d,p,f,g,m=r.indexOf("."),w=M,v=T;for(m>=0&&(h=$,$=0,r=r.replace(".",""),p=(g=new W(i)).pow(r.length-m),$=h,g.c=t(x(y(p.c),p.e,"0"),10,s,e),g.e=g.c.length),u=h=(f=t(r,i,s,a?(c=q,e):(c=e,q))).length;0==f[--h];f.pop());if(!f[0])return c.charAt(0);if(m<0?--u:(p.c=f,p.e=u,p.s=o,f=(p=n(p,g,w,v,s)).c,d=p.r,u=p.e),m=f[l=u+w+1],h=s/2,d=d||l<0||null!=f[l+1],d=v<4?(null!=m||d)&&(0==v||v==(p.s<0?3:2)):m>h||m==h&&(4==v||d||6==v&&1&f[l-1]||v==(p.s<0?8:7)),l<1||!f[0])r=d?x(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(f.length=l,d)for(--s;++f[--l]>s;)f[l]=0,l||(++u,f=[1].concat(f));for(h=f.length;!f[--h];);for(m=0,r="";m<=h;r+=c.charAt(f[m++]));r=x(r,u,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,c=e.length,l=t%g,u=t/g|0;for(e=e.slice();c--;)a=((i=l*(s=e[c]%g)+(r=u*s+(o=e[c]/g|0)*l)%g*g+a)/n|0)+(r/g|0)+u*o,e[c]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,o,a){var l,u,p,f,g,m,y,v,b,_,E,x,C,I,S,O,k,P=r.s==i.s?1:-1,A=r.c,N=i.c;if(!(A&&A[0]&&N&&N[0]))return new W(r.s&&i.s&&(A?!N||A[0]!=N[0]:N)?A&&0==A[0]||!N?0*P:P/0:NaN);for(b=(v=new W(P)).c=[],P=s+(u=r.e-i.e)+1,a||(a=h,u=w(r.e/d)-w(i.e/d),P=P/d|0),p=0;N[p]==(A[p]||0);p++);if(N[p]>(A[p]||0)&&u--,P<0)b.push(1),f=!0;else{for(I=A.length,O=N.length,p=0,P+=2,(g=c(a/(N[0]+1)))>1&&(N=e(N,g,a),A=e(A,g,a),O=N.length,I=A.length),C=O,E=(_=A.slice(0,O)).length;E<O;_[E++]=0);k=N.slice(),k=[0].concat(k),S=N[0],N[1]>=a/2&&S++;do{if(g=0,(l=t(N,_,O,E))<0){if(x=_[0],O!=E&&(x=x*a+(_[1]||0)),(g=c(x/S))>1)for(g>=a&&(g=a-1),y=(m=e(N,g,a)).length,E=_.length;1==t(m,_,y,E);)g--,n(m,O<y?k:N,y,a),y=m.length,l=1;else 0==g&&(l=g=1),y=(m=N.slice()).length;if(y<E&&(m=[0].concat(m)),n(_,m,E,a),E=_.length,-1==l)for(;t(N,_,O,E)<1;)g++,n(_,O<E?k:N,E,a),E=_.length}else 0===l&&(g++,_=[0]);b[p++]=g,_[0]?_[E++]=A[C]||0:(_=[A[C]],E=1)}while((C++<I||null!=_[0])&&P--);f=null!=_[0],b[0]||b.splice(0,1)}if(a==h){for(p=1,P=b[0];P>=10;P/=10,p++);K(v,s+(v.e=p+u*d-1)+1,o,f)}else v.e=u,v.r=+f;return v}}(),I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,O=/^\.([^.]+)$/,k=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,s=n?t:t.replace(P,"");if(k.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(I,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(S,"$1").replace(O,"0.$1")),t!=s))return new W(s,i);if(W.DEBUG)throw Error(l+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new W(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return v(this,new W(e,t))},A.decimalPlaces=A.dp=function(e,t){var n,r,i,s=this;if(null!=e)return b(e,0,m),null==t?t=T:b(t,0,8),K(new W(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-w(this.e/d))*d,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},A.dividedBy=A.div=function(e,t){return n(this,new W(e,t),M,T)},A.dividedToIntegerBy=A.idiv=function(e,t){return n(this,new W(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var n,r,i,s,o,u,h,p,f=this;if((e=new W(e)).c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+G(e));if(null!=t&&(t=new W(t)),o=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return p=new W(Math.pow(+G(f),o?2-_(e):+G(e))),t?p.mod(t):p;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new W(NaN);(r=!u&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||o&&f.c[1]>=24e7:f.c[0]<8e13||o&&f.c[0]<=9999975e7)))return s=f.s<0&&_(e)?-0:0,f.e>-1&&(s=1/s),new W(u?1/s:s);$&&(s=a($/d+2))}for(o?(n=new W(.5),u&&(e.s=1),h=_(e)):h=(i=Math.abs(+G(e)))%2,p=new W(N);;){if(h){if(!(p=p.times(f)).c)break;s?p.c.length>s&&(p.c.length=s):r&&(p=p.mod(t))}if(i){if(0===(i=c(i/2)))break;h=i%2}else if(K(e=e.times(n),e.e+1,1),e.e>14)h=_(e);else{if(0===(i=+G(e)))break;h=i%2}f=f.times(f),s?f.c&&f.c.length>s&&(f.c.length=s):r&&(f=f.mod(t))}return r?p:(u&&(p=N.div(p)),t?p.mod(t):s?K(p,$,T,undefined):p)},A.integerValue=function(e){var t=new W(this);return null==e?e=T:b(e,0,8),K(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===v(this,new W(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return v(this,new W(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=v(this,new W(e,t)))||0===t},A.isInteger=function(){return!!this.c&&w(this.e/d)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return v(this,new W(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=v(this,new W(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new W(e,t)).s,!a||!t)return new W(NaN);if(a!=t)return e.s=-t,o.plus(e);var c=o.e/d,l=e.e/d,u=o.c,p=e.c;if(!c||!l){if(!u||!p)return u?(e.s=-t,e):new W(p?o:NaN);if(!u[0]||!p[0])return p[0]?(e.s=-t,e):new W(u[0]?o:3==T?-0:0)}if(c=w(c),l=w(l),u=u.slice(),a=c-l){for((s=a<0)?(a=-a,i=u):(l=c,i=p),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=u.length)<(t=p.length))?a:t,a=t=0;t<r;t++)if(u[t]!=p[t]){s=u[t]<p[t];break}if(s&&(i=u,u=p,p=i,e.s=-e.s),(t=(r=p.length)-(n=u.length))>0)for(;t--;u[n++]=0);for(t=h-1;r>a;){if(u[--r]<p[r]){for(n=r;n&&!u[--n];u[n]=t);--u[n],u[r]+=h}u[r]-=p[r]}for(;0==u[0];u.splice(0,1),--l);return u[0]?V(e,u,l):(e.s=3==T?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var r,i,s=this;return e=new W(e,t),!s.c||!e.s||e.c&&!e.c[0]?new W(NaN):!e.c||s.c&&!s.c[0]?new W(s):(9==B?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,B),(e=s.minus(r.times(e))).c[0]||1!=B||(e.s=s.s),e)},A.multipliedBy=A.times=function(e,t){var n,r,i,s,o,a,c,l,u,p,f,m,y,v,b,_=this,E=_.c,x=(e=new W(e,t)).c;if(!(E&&x&&E[0]&&x[0]))return!_.s||!e.s||E&&!E[0]&&!x||x&&!x[0]&&!E?e.c=e.e=e.s=null:(e.s*=_.s,E&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=w(_.e/d)+w(e.e/d),e.s*=_.s,(c=E.length)<(p=x.length)&&(y=E,E=x,x=y,i=c,c=p,p=i),i=c+p,y=[];i--;y.push(0));for(v=h,b=g,i=p;--i>=0;){for(n=0,f=x[i]%b,m=x[i]/b|0,s=i+(o=c);s>i;)n=((l=f*(l=E[--o]%b)+(a=m*l+(u=E[o]/b|0)*f)%b*b+y[s]+n)/v|0)+(a/b|0)+m*u,y[s--]=l%v;y[s]=n}return n?++r:y.splice(0,1),V(e,y,r)},A.negated=function(){var e=new W(this);return e.s=-e.s||null,e},A.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new W(e,t)).s,!i||!t)return new W(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/d,o=e.e/d,a=r.c,c=e.c;if(!s||!o){if(!a||!c)return new W(i/0);if(!a[0]||!c[0])return c[0]?e:new W(a[0]?r:0*i)}if(s=w(s),o=w(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=c.length)<0&&(n=c,c=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/h|0,a[t]=h===a[t]?0:a[t]%h;return i&&(a=[i].concat(a),++o),V(e,a,o)},A.precision=A.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return b(e,1,m),null==t?t=T:b(t,0,8),K(new W(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*d+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},A.shiftedBy=function(e){return b(e,-9007199254740991,p),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,c=o.s,l=o.e,u=M+4,h=new W("0.5");if(1!==c||!a||!a[0])return new W(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(c=Math.sqrt(+G(o)))||c==1/0?(((t=y(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=w((l+1)/2)-(l<0||l%2),r=new W(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new W(c+""),r.c[0])for((c=(l=r.e)+u)<3&&(c=0);;)if(s=r,r=h.times(s.plus(n(o,s,u,1))),y(s.c).slice(0,c)===(t=y(r.c)).slice(0,c)){if(r.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(r,r.e+M+2,1),e=!r.times(r).eq(o));break}if(!i&&(K(s,s.e+M+2,0),s.times(s).eq(o))){r=s;break}u+=4,c+=4,i=1}return K(r,r.e+M+1,T,e)},A.toExponential=function(e,t){return null!=e&&(b(e,0,m),e++),F(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(b(e,0,m),e=e+this.e+1),F(this,e,t)},A.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=z;else if("object"!=typeof n)throw Error(l+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,o=r.split("."),a=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",h=o[0],d=o[1],p=i.s<0,f=p?h.slice(1):h,g=f.length;if(c&&(s=a,a=c,c=s,g-=s),a>0&&g>0){for(s=g%a||a,h=f.substr(0,s);s<g;s+=a)h+=u+f.substr(s,a);c>0&&(h+=u+f.slice(s)),p&&(h="-"+h)}r=d?h+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):h}return(n.prefix||"")+r+(n.suffix||"")},A.toFraction=function(e){var t,r,i,s,o,a,c,u,h,p,g,m,w=this,v=w.c;if(null!=e&&(!(c=new W(e)).isInteger()&&(c.c||1!==c.s)||c.lt(N)))throw Error(l+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+G(c));if(!v)return new W(w);for(t=new W(N),h=r=new W(N),i=u=new W(N),m=y(v),o=t.e=m.length-w.e-1,t.c[0]=f[(a=o%d)<0?d+a:a],e=!e||c.comparedTo(t)>0?o>0?t:h:c,a=j,j=1/0,c=new W(m),u.c[0]=0;p=n(c,t,0,1),1!=(s=r.plus(p.times(i))).comparedTo(e);)r=i,i=s,h=u.plus(p.times(s=h)),u=s,t=c.minus(p.times(s=t)),c=s;return s=n(e.minus(r),i,0,1),u=u.plus(s.times(h)),r=r.plus(s.times(i)),u.s=h.s=w.s,g=n(h,i,o*=2,T).minus(w).abs().comparedTo(n(u,r,o,T).minus(w).abs())<1?[h,i]:[u,r],j=a,g},A.toNumber=function(){return+G(this)},A.toPrecision=function(e,t){return null!=e&&b(e,1,m),F(this,e,t,2)},A.toString=function(e){var t,n=this,i=n.s,s=n.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=R||s>=L?E(y(n.c),s):x(y(n.c),s,"0"):10===e?t=x(y((n=K(new W(n),M+s+1,T)).c),n.e,"0"):(b(e,2,q.length,"Base"),t=r(x(y(n.c),s,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return G(this)},A._isBigNumber=!0,null!=t&&W.set(t),W}(),s.default=s.BigNumber=s,void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},86206:function(e,t,n){var r;!function(i){"use strict";var s,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,l="[BigNumber Error] ",u=l+"Number primitive has more than 15 significant digits: ",h=1e14,d=14,p=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,m=1e9;function w(e){var t=0|e;return e>0||e===t?t:t-1}function y(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=d-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function v(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,c=e.e,l=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=c==l,!i||!s)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return c==l?0:c>l^n?1:-1}function b(e,t,n,r){if(e<t||e>n||e!==c(e))throw Error(l+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return w(e.e/d)==t&&e.c[t]%2!=0}function E(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function x(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}s=function e(t){var n,r,i,s,C,I,S,O,k,P,A=F.prototype={constructor:F,toString:null,valueOf:null},N=new F(1),M=20,T=4,R=-7,L=21,D=-1e7,j=1e7,U=!1,B=1,$=0,z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz",W=!0;function F(e,t){var n,s,a,l,h,f,g,m,w=this;if(!(w instanceof F))return new F(e,t);if(null==t){if(e&&!0===e._isBigNumber)return w.s=e.s,void(!e.c||e.e>j?w.c=w.e=null:e.e<D?w.c=[w.e=0]:(w.e=e.e,w.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(w.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,h=e;h>=10;h/=10,l++);return void(l>j?w.c=w.e=null:(w.e=l,w.c=[e]))}m=String(e)}else{if(!o.test(m=String(e)))return i(w,m,f);w.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(l=m.indexOf("."))>-1&&(m=m.replace(".","")),(h=m.search(/e/i))>0?(l<0&&(l=h),l+=+m.slice(h+1),m=m.substring(0,h)):l<0&&(l=m.length)}else{if(b(t,2,q.length,"Base"),10==t&&W)return G(w=new F(e),M+w.e+1,T);if(m=String(e),f="number"==typeof e){if(0*e!=0)return i(w,m,f,t);if(w.s=1/e<0?(m=m.slice(1),-1):1,F.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else w.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=q.slice(0,t),l=h=0,g=m.length;h<g;h++)if(n.indexOf(s=m.charAt(h))<0){if("."==s){if(h>l){l=g;continue}}else if(!a&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){a=!0,h=-1,l=0;continue}return i(w,String(e),f,t)}f=!1,(l=(m=r(m,t,10,w.s)).indexOf("."))>-1?m=m.replace(".",""):l=m.length}for(h=0;48===m.charCodeAt(h);h++);for(g=m.length;48===m.charCodeAt(--g););if(m=m.slice(h,++g)){if(g-=h,f&&F.DEBUG&&g>15&&(e>p||e!==c(e)))throw Error(u+w.s*e);if((l=l-h-1)>j)w.c=w.e=null;else if(l<D)w.c=[w.e=0];else{if(w.e=l,w.c=[],h=(l+1)%d,l<0&&(h+=d),h<g){for(h&&w.c.push(+m.slice(0,h)),g-=d;h<g;)w.c.push(+m.slice(h,h+=d));h=d-(m=m.slice(h)).length}else h-=g;for(;h--;m+="0");w.c.push(+m)}}else w.c=[w.e=0]}function H(e,t,n,r){var i,s,o,a,c;if(null==n?n=T:b(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)c=y(e.c),c=1==r||2==r&&(o<=R||o>=L)?E(c,o):x(c,o,"0");else if(s=(e=G(new F(e),t,n)).e,a=(c=y(e.c)).length,1==r||2==r&&(t<=s||s<=R)){for(;a<t;c+="0",a++);c=E(c,s)}else if(t-=o,c=x(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function V(e,t){for(var n,r,i=1,s=new F(e[0]);i<e.length;i++)(!(r=new F(e[i])).s||(n=v(s,r))===t||0===n&&s.s===t)&&(s=r);return s}function K(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*d-1)>j?e.c=e.e=null:n<D?e.c=[e.e=0]:(e.e=n,e.c=t),e}function G(e,t,n,r){var i,s,o,l,u,p,g,m=e.c,w=f;if(m){e:{for(i=1,l=m[0];l>=10;l/=10,i++);if((s=t-i)<0)s+=d,o=t,u=m[p=0],g=c(u/w[i-o-1]%10);else if((p=a((s+1)/d))>=m.length){if(!r)break e;for(;m.length<=p;m.push(0));u=g=0,i=1,o=(s%=d)-d+1}else{for(u=l=m[p],i=1;l>=10;l/=10,i++);g=(o=(s%=d)-d+i)<0?0:c(u/w[i-o-1]%10)}if(r=r||t<0||null!=m[p+1]||(o<0?u:u%w[i-o-1]),r=n<4?(g||r)&&(0==n||n==(e.s<0?3:2)):g>5||5==g&&(4==n||r||6==n&&(s>0?o>0?u/w[i-o]:0:m[p-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=w[(d-t%d)%d],e.e=-t||0):m[0]=e.e=0,e;if(0==s?(m.length=p,l=1,p--):(m.length=p+1,l=w[d-s],m[p]=o>0?c(u/w[i-o]%w[o])*l:0),r)for(;;){if(0==p){for(s=1,o=m[0];o>=10;o/=10,s++);for(o=m[0]+=l,l=1;o>=10;o/=10,l++);s!=l&&(e.e++,m[0]==h&&(m[0]=1));break}if(m[p]+=l,m[p]!=h)break;m[p--]=0,l=1}for(s=m.length;0===m[--s];m.pop());}e.e>j?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function Z(e){var t,n=e.e;return null===n?e.toString():(t=y(e.c),t=n<=R||n>=L?E(t,n):x(t,n,"0"),e.s<0?"-"+t:t)}return F.clone=e,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(l+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,m,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),T=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-m,0,t),b(n[1],0,m,t),R=n[0],L=n[1]):(b(n,-m,m,t),R=-(L=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-m,-1,t),b(n[1],1,m,t),D=n[0],j=n[1];else{if(b(n,-m,m,t),!n)throw Error(l+t+" cannot be zero: "+n);D=-(j=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(l+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!n,Error(l+"crypto unavailable");U=n}else U=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),B=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,m,t),$=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(l+t+" not an object: "+n);z=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(l+t+" invalid: "+n);W="0123456789"==n.slice(0,10),q=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:T,EXPONENTIAL_AT:[R,L],RANGE:[D,j],CRYPTO:U,MODULO_MODE:B,POW_PRECISION:$,FORMAT:z,ALPHABET:q}},F.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!F.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-m&&i<=m&&i===c(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%d)<1&&(t+=d),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=h||n!==c(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(l+"Invalid BigNumber: "+e)},F.maximum=F.max=function(){return V(arguments,-1)},F.minimum=F.min=function(){return V(arguments,1)},F.random=(s=9007199254740992,C=Math.random()*s&2097151?function(){return c(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,s,o=0,u=[],h=new F(N);if(null==e?e=M:b(e,0,m),i=a(e/d),U)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));o<i;)(s=131072*t[o]+(t[o+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[o]=n[0],t[o+1]=n[1]):(u.push(s%1e14),o+=2);o=i/2}else{if(!crypto.randomBytes)throw U=!1,Error(l+"crypto unavailable");for(t=crypto.randomBytes(i*=7);o<i;)(s=281474976710656*(31&t[o])+1099511627776*t[o+1]+4294967296*t[o+2]+16777216*t[o+3]+(t[o+4]<<16)+(t[o+5]<<8)+t[o+6])>=9e15?crypto.randomBytes(7).copy(t,o):(u.push(s%1e14),o+=7);o=i/7}if(!U)for(;o<i;)(s=C())<9e15&&(u[o++]=s%1e14);for(i=u[--o],e%=d,i&&e&&(s=f[d-e],u[o]=c(i/s)*s);0===u[o];u.pop(),o--);if(o<0)u=[r=0];else{for(r=-1;0===u[0];u.splice(0,1),r-=d);for(o=1,s=u[0];s>=10;s/=10,o++);o<d&&(r-=d-o)}return h.e=r,h.c=u,h}),F.sum=function(){for(var e=1,t=arguments,n=new F(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,s,o,a){var c,l,u,h,d,p,f,g,m=r.indexOf("."),w=M,v=T;for(m>=0&&(h=$,$=0,r=r.replace(".",""),p=(g=new F(i)).pow(r.length-m),$=h,g.c=t(x(y(p.c),p.e,"0"),10,s,e),g.e=g.c.length),u=h=(f=t(r,i,s,a?(c=q,e):(c=e,q))).length;0==f[--h];f.pop());if(!f[0])return c.charAt(0);if(m<0?--u:(p.c=f,p.e=u,p.s=o,f=(p=n(p,g,w,v,s)).c,d=p.r,u=p.e),m=f[l=u+w+1],h=s/2,d=d||l<0||null!=f[l+1],d=v<4?(null!=m||d)&&(0==v||v==(p.s<0?3:2)):m>h||m==h&&(4==v||d||6==v&&1&f[l-1]||v==(p.s<0?8:7)),l<1||!f[0])r=d?x(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(f.length=l,d)for(--s;++f[--l]>s;)f[l]=0,l||(++u,f=[1].concat(f));for(h=f.length;!f[--h];);for(m=0,r="";m<=h;r+=c.charAt(f[m++]));r=x(r,u,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,c=e.length,l=t%g,u=t/g|0;for(e=e.slice();c--;)a=((i=l*(s=e[c]%g)+(r=u*s+(o=e[c]/g|0)*l)%g*g+a)/n|0)+(r/g|0)+u*o,e[c]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,o,a){var l,u,p,f,g,m,y,v,b,_,E,x,C,I,S,O,k,P=r.s==i.s?1:-1,A=r.c,N=i.c;if(!(A&&A[0]&&N&&N[0]))return new F(r.s&&i.s&&(A?!N||A[0]!=N[0]:N)?A&&0==A[0]||!N?0*P:P/0:NaN);for(b=(v=new F(P)).c=[],P=s+(u=r.e-i.e)+1,a||(a=h,u=w(r.e/d)-w(i.e/d),P=P/d|0),p=0;N[p]==(A[p]||0);p++);if(N[p]>(A[p]||0)&&u--,P<0)b.push(1),f=!0;else{for(I=A.length,O=N.length,p=0,P+=2,(g=c(a/(N[0]+1)))>1&&(N=e(N,g,a),A=e(A,g,a),O=N.length,I=A.length),C=O,E=(_=A.slice(0,O)).length;E<O;_[E++]=0);k=N.slice(),k=[0].concat(k),S=N[0],N[1]>=a/2&&S++;do{if(g=0,(l=t(N,_,O,E))<0){if(x=_[0],O!=E&&(x=x*a+(_[1]||0)),(g=c(x/S))>1)for(g>=a&&(g=a-1),y=(m=e(N,g,a)).length,E=_.length;1==t(m,_,y,E);)g--,n(m,O<y?k:N,y,a),y=m.length,l=1;else 0==g&&(l=g=1),y=(m=N.slice()).length;if(y<E&&(m=[0].concat(m)),n(_,m,E,a),E=_.length,-1==l)for(;t(N,_,O,E)<1;)g++,n(_,O<E?k:N,E,a),E=_.length}else 0===l&&(g++,_=[0]);b[p++]=g,_[0]?_[E++]=A[C]||0:(_=[A[C]],E=1)}while((C++<I||null!=_[0])&&P--);f=null!=_[0],b[0]||b.splice(0,1)}if(a==h){for(p=1,P=b[0];P>=10;P/=10,p++);G(v,s+(v.e=p+u*d-1)+1,o,f)}else v.e=u,v.r=+f;return v}}(),I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,O=/^\.([^.]+)$/,k=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,s=n?t:t.replace(P,"");if(k.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(I,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(S,"$1").replace(O,"0.$1")),t!=s))return new F(s,i);if(F.DEBUG)throw Error(l+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new F(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return v(this,new F(e,t))},A.decimalPlaces=A.dp=function(e,t){var n,r,i,s=this;if(null!=e)return b(e,0,m),null==t?t=T:b(t,0,8),G(new F(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-w(this.e/d))*d,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},A.dividedBy=A.div=function(e,t){return n(this,new F(e,t),M,T)},A.dividedToIntegerBy=A.idiv=function(e,t){return n(this,new F(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var n,r,i,s,o,u,h,p,f=this;if((e=new F(e)).c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+Z(e));if(null!=t&&(t=new F(t)),o=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return p=new F(Math.pow(+Z(f),o?e.s*(2-_(e)):+Z(e))),t?p.mod(t):p;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new F(NaN);(r=!u&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||o&&f.c[1]>=24e7:f.c[0]<8e13||o&&f.c[0]<=9999975e7)))return s=f.s<0&&_(e)?-0:0,f.e>-1&&(s=1/s),new F(u?1/s:s);$&&(s=a($/d+2))}for(o?(n=new F(.5),u&&(e.s=1),h=_(e)):h=(i=Math.abs(+Z(e)))%2,p=new F(N);;){if(h){if(!(p=p.times(f)).c)break;s?p.c.length>s&&(p.c.length=s):r&&(p=p.mod(t))}if(i){if(0===(i=c(i/2)))break;h=i%2}else if(G(e=e.times(n),e.e+1,1),e.e>14)h=_(e);else{if(0===(i=+Z(e)))break;h=i%2}f=f.times(f),s?f.c&&f.c.length>s&&(f.c.length=s):r&&(f=f.mod(t))}return r?p:(u&&(p=N.div(p)),t?p.mod(t):s?G(p,$,T,undefined):p)},A.integerValue=function(e){var t=new F(this);return null==e?e=T:b(e,0,8),G(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===v(this,new F(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return v(this,new F(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=v(this,new F(e,t)))||0===t},A.isInteger=function(){return!!this.c&&w(this.e/d)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return v(this,new F(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=v(this,new F(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new F(e,t)).s,!a||!t)return new F(NaN);if(a!=t)return e.s=-t,o.plus(e);var c=o.e/d,l=e.e/d,u=o.c,p=e.c;if(!c||!l){if(!u||!p)return u?(e.s=-t,e):new F(p?o:NaN);if(!u[0]||!p[0])return p[0]?(e.s=-t,e):new F(u[0]?o:3==T?-0:0)}if(c=w(c),l=w(l),u=u.slice(),a=c-l){for((s=a<0)?(a=-a,i=u):(l=c,i=p),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=u.length)<(t=p.length))?a:t,a=t=0;t<r;t++)if(u[t]!=p[t]){s=u[t]<p[t];break}if(s&&(i=u,u=p,p=i,e.s=-e.s),(t=(r=p.length)-(n=u.length))>0)for(;t--;u[n++]=0);for(t=h-1;r>a;){if(u[--r]<p[r]){for(n=r;n&&!u[--n];u[n]=t);--u[n],u[r]+=h}u[r]-=p[r]}for(;0==u[0];u.splice(0,1),--l);return u[0]?K(e,u,l):(e.s=3==T?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var r,i,s=this;return e=new F(e,t),!s.c||!e.s||e.c&&!e.c[0]?new F(NaN):!e.c||s.c&&!s.c[0]?new F(s):(9==B?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,B),(e=s.minus(r.times(e))).c[0]||1!=B||(e.s=s.s),e)},A.multipliedBy=A.times=function(e,t){var n,r,i,s,o,a,c,l,u,p,f,m,y,v,b,_=this,E=_.c,x=(e=new F(e,t)).c;if(!(E&&x&&E[0]&&x[0]))return!_.s||!e.s||E&&!E[0]&&!x||x&&!x[0]&&!E?e.c=e.e=e.s=null:(e.s*=_.s,E&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=w(_.e/d)+w(e.e/d),e.s*=_.s,(c=E.length)<(p=x.length)&&(y=E,E=x,x=y,i=c,c=p,p=i),i=c+p,y=[];i--;y.push(0));for(v=h,b=g,i=p;--i>=0;){for(n=0,f=x[i]%b,m=x[i]/b|0,s=i+(o=c);s>i;)n=((l=f*(l=E[--o]%b)+(a=m*l+(u=E[o]/b|0)*f)%b*b+y[s]+n)/v|0)+(a/b|0)+m*u,y[s--]=l%v;y[s]=n}return n?++r:y.splice(0,1),K(e,y,r)},A.negated=function(){var e=new F(this);return e.s=-e.s||null,e},A.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new F(e,t)).s,!i||!t)return new F(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/d,o=e.e/d,a=r.c,c=e.c;if(!s||!o){if(!a||!c)return new F(i/0);if(!a[0]||!c[0])return c[0]?e:new F(a[0]?r:0*i)}if(s=w(s),o=w(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=c.length)<0&&(n=c,c=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/h|0,a[t]=h===a[t]?0:a[t]%h;return i&&(a=[i].concat(a),++o),K(e,a,o)},A.precision=A.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return b(e,1,m),null==t?t=T:b(t,0,8),G(new F(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*d+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},A.shiftedBy=function(e){return b(e,-9007199254740991,p),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,c=o.s,l=o.e,u=M+4,h=new F("0.5");if(1!==c||!a||!a[0])return new F(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(c=Math.sqrt(+Z(o)))||c==1/0?(((t=y(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=w((l+1)/2)-(l<0||l%2),r=new F(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new F(c+""),r.c[0])for((c=(l=r.e)+u)<3&&(c=0);;)if(s=r,r=h.times(s.plus(n(o,s,u,1))),y(s.c).slice(0,c)===(t=y(r.c)).slice(0,c)){if(r.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+M+2,1),e=!r.times(r).eq(o));break}if(!i&&(G(s,s.e+M+2,0),s.times(s).eq(o))){r=s;break}u+=4,c+=4,i=1}return G(r,r.e+M+1,T,e)},A.toExponential=function(e,t){return null!=e&&(b(e,0,m),e++),H(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(b(e,0,m),e=e+this.e+1),H(this,e,t)},A.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=z;else if("object"!=typeof n)throw Error(l+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,o=r.split("."),a=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",h=o[0],d=o[1],p=i.s<0,f=p?h.slice(1):h,g=f.length;if(c&&(s=a,a=c,c=s,g-=s),a>0&&g>0){for(s=g%a||a,h=f.substr(0,s);s<g;s+=a)h+=u+f.substr(s,a);c>0&&(h+=u+f.slice(s)),p&&(h="-"+h)}r=d?h+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):h}return(n.prefix||"")+r+(n.suffix||"")},A.toFraction=function(e){var t,r,i,s,o,a,c,u,h,p,g,m,w=this,v=w.c;if(null!=e&&(!(c=new F(e)).isInteger()&&(c.c||1!==c.s)||c.lt(N)))throw Error(l+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Z(c));if(!v)return new F(w);for(t=new F(N),h=r=new F(N),i=u=new F(N),m=y(v),o=t.e=m.length-w.e-1,t.c[0]=f[(a=o%d)<0?d+a:a],e=!e||c.comparedTo(t)>0?o>0?t:h:c,a=j,j=1/0,c=new F(m),u.c[0]=0;p=n(c,t,0,1),1!=(s=r.plus(p.times(i))).comparedTo(e);)r=i,i=s,h=u.plus(p.times(s=h)),u=s,t=c.minus(p.times(s=t)),c=s;return s=n(e.minus(r),i,0,1),u=u.plus(s.times(h)),r=r.plus(s.times(i)),u.s=h.s=w.s,g=n(h,i,o*=2,T).minus(w).abs().comparedTo(n(u,r,o,T).minus(w).abs())<1?[h,i]:[u,r],j=a,g},A.toNumber=function(){return+Z(this)},A.toPrecision=function(e,t){return null!=e&&b(e,1,m),H(this,e,t,2)},A.toString=function(e){var t,n=this,i=n.s,s=n.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=R||s>=L?E(y(n.c),s):x(y(n.c),s,"0"):10===e&&W?t=x(y((n=G(new F(n),M+s+1,T)).c),n.e,"0"):(b(e,2,q.length,"Base"),t=r(x(y(n.c),s,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return Z(this)},A._isBigNumber=!0,null!=t&&F.set(t),F}(),s.default=s.BigNumber=s,void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},71607:e=>{e.exports={_args:[["web3@1.7.3","/data/jenkins_home/workspace/mars_element/node_www.element.market"]],_from:"web3@1.7.3",_id:"web3@1.7.3",_inBundle:!1,_integrity:"sha512-UgBvQnKIXncGYzsiGacaiHtm0xzQ/JtGqcSO/ddzQHYxnNuwI72j1Pb4gskztLYihizV9qPNQYHMSCiBlStI9A==",_location:"/web3",_phantomChildren:{"@types/bn.js":"4.11.6","bignumber.js":"9.0.1","create-hash":"1.2.0","ethereum-bloom-filters":"1.0.9","ethereum-cryptography":"0.1.3","ethjs-unit":"0.1.6",inherits:"2.0.4","is-arguments":"1.1.0","is-generator-function":"1.0.8","is-typed-array":"1.1.5","number-to-bn":"1.7.0",oboe:"2.1.5",randombytes:"2.1.0",rlp:"2.2.6","safe-buffer":"5.2.1",utf8:"3.0.0","web3-core-helpers":"1.7.3","web3-core-method":"1.7.3",websocket:"1.0.34","which-typed-array":"1.1.4","xhr2-cookies":"1.1.0"},_requested:{type:"version",registry:!0,raw:"web3@1.7.3",name:"web3",escapedName:"web3",rawSpec:"1.7.3",saveSpec:null,fetchSpec:"1.7.3"},_requiredBy:["/","/@txdev/element-ex"],_resolved:"https://registry.npmjs.org/web3/-/web3-1.7.3.tgz",_spec:"1.7.3",_where:"/data/jenkins_home/workspace/mars_element/node_www.element.market",author:{name:"ethereum.org"},authors:[{name:"Fabian Vogelsteller",email:"fabian@ethereum.org",homepage:"http://frozeman.de"},{name:"Marek Kotewicz",email:"marek@parity.io",url:"https://github.com/debris"},{name:"Marian Oancea",url:"https://github.com/cubedro"},{name:"Gav Wood",email:"g@parity.io",homepage:"http://gavwood.com"},{name:"Jeffery Wilcke",email:"jeffrey.wilcke@ethereum.org",url:"https://github.com/obscuren"}],bugs:{url:"https://github.com/ethereum/web3.js/issues"},dependencies:{"web3-bzz":"1.7.3","web3-core":"1.7.3","web3-eth":"1.7.3","web3-eth-personal":"1.7.3","web3-net":"1.7.3","web3-shh":"1.7.3","web3-utils":"1.7.3"},description:"Ethereum JavaScript API",devDependencies:{"@types/node":"^12.12.6",dtslint:"^3.4.1",typescript:"^3.9.5","web3-core-helpers":"1.7.3"},engines:{node:">=8.0.0"},gitHead:"f9bcad8ae63e3d0096859172cba35387f49f964e",homepage:"https://github.com/ethereum/web3.js#readme",keywords:["Ethereum","JavaScript","API"],license:"LGPL-3.0",main:"lib/index.js",name:"web3",repository:{type:"git",url:"git+https://github.com/ethereum/web3.js.git"},scripts:{compile:"tsc -b tsconfig.json",dtslint:"dtslint --localTs ../../node_modules/typescript/lib types",postinstall:'echo "WARNING: the web3-shh and web3-bzz api will be deprecated in the next version"'},types:"types/index.d.ts",version:"1.7.3"}},17935:(e,t,n)=>{"use strict";var r=n(48764).Buffer,i=n(92928),s=n(93952),o=n(13186),a=(n.g,n(55835)),c=n(17635),l=n(48410),u=n(18269),h=n(84390),{TransactionFactory:d}=n(66052),p=n(2832).default,f=n(2832).Hardfork,g=n(22751),m=function(e){return null==e},w=function(e){return null!=e},y=function(){var e=this;i.packageInit(this,arguments),delete this.BatchRequest,delete this.extend;var t=[new s({name:"getNetworkId",call:"net_version",params:0,outputFormatter:parseInt}),new s({name:"getChainId",call:"eth_chainId",params:0,outputFormatter:u.hexToNumber}),new s({name:"getGasPrice",call:"eth_gasPrice",params:0}),new s({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[function(e){if(u.isAddress(e))return e;throw new Error("Address "+e+' is not a valid address to get the "transactionCount".')},function(){return"latest"}]}),new s({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(e){return e?u.toHex(e):"latest"},function(){return!1}]})];this._ethereumCall={},t.forEach((t=>{t.attachToObject(e._ethereumCall),t.setRequestManager(e._requestManager)})),this.wallet=new b(this)};function v(e,t){return new Promise(((n,r)=>{try{(void 0===t.type||t.type<"0x2")&&void 0!==t.gasPrice?n({gasPrice:t.gasPrice}):Promise.all([e._ethereumCall.getBlockByNumber(),e._ethereumCall.getGasPrice()]).then((e=>{const[r,i]=e;if("0x2"===t.type&&r&&r.baseFeePerGas){let e,i;t.gasPrice?(e=t.gasPrice,i=t.gasPrice,delete t.gasPrice):(e=t.maxPriorityFeePerGas||"0x9502F900",i=t.maxFeePerGas||u.toHex(u.toBN(r.baseFeePerGas).mul(u.toBN(2)).add(u.toBN(e)))),n({maxFeePerGas:i,maxPriorityFeePerGas:e})}else{if(t.maxPriorityFeePerGas||t.maxFeePerGas)throw Error("Network doesn't support eip-1559");n({gasPrice:i})}}))}catch(e){r(e)}}))}function b(e){this._accounts=e,this.length=0,this.defaultKeyName="web3js_wallet"}y.prototype._addAccountFunctions=function(e){var t=this;return e.signTransaction=function(n,r){return t.signTransaction(n,e.privateKey,r)},e.sign=function(n){return t.sign(n,e.privateKey)},e.encrypt=function(n,r){return t.encrypt(e.privateKey,n,r)},e},y.prototype.create=function(e){return this._addAccountFunctions(o.create(e||u.randomHex(32)))},y.prototype.privateKeyToAccount=function(e,t){if(e.startsWith("0x")||(e="0x"+e),!t&&66!==e.length)throw new Error("Private key must be 32 bytes long");return this._addAccountFunctions(o.fromPrivate(e))},y.prototype.signTransaction=function(e,t,n){var i=this,s=!1,o={},a=!(!e||!(e.chain&&e.hardfork||e.common));if(n=n||function(){},!e)return s=new Error("No transaction object given!"),n(s),Promise.reject(s);if(w(e.common)&&m(e.common.customChain))return s=new Error("If tx.common is provided it must have tx.common.customChain"),n(s),Promise.reject(s);if(w(e.common)&&m(e.common.customChain.chainId))return s=new Error("If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),n(s),Promise.reject(s);if(w(e.common)&&w(e.common.customChain.chainId)&&w(e.chainId)&&e.chainId!==e.common.customChain.chainId)return s=new Error("Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),n(s),Promise.reject(s);function c(e){const i=function(e){if(e.common&&e.chain&&e.hardfork)return new Error("Please provide the @ethereumjs/common object or the chain and hardfork property but not all together.");if(e.chain&&!e.hardfork||e.hardfork&&!e.chain)return new Error('When specifying chain and hardfork, both values must be defined. Received "chain": '+e.chain+', "hardfork": '+e.hardfork);if(!(e.gas||e.gasLimit||e.maxPriorityFeePerGas||e.maxFeePerGas))return new Error('"gas" is missing');if(e.gas&&e.gasPrice){if(e.gas<0||e.gasPrice<0)return new Error("Gas or gasPrice is lower than 0")}else if(e.maxPriorityFeePerGas<0||e.maxFeePerGas<0)return new Error("maxPriorityFeePerGas or maxFeePerGas is lower than 0");if(e.nonce<0||e.chainId<0)return new Error("Nonce or chainId is lower than 0");return}(e);if(i)return n(i),Promise.reject(i);try{var s=h.formatters.inputCallFormatter(Object.assign({},e));s.data=s.data||"0x",s.value=s.value||"0x",s.gasLimit=s.gasLimit||s.gas,"0x1"===s.type&&void 0===s.accessList&&(s.accessList=[]),a?(s.common&&(o.common=p.forCustomChain(s.common.baseChain||"mainnet",{name:s.common.customChain.name||"custom-network",networkId:s.common.customChain.networkId,chainId:s.common.customChain.chainId},s.common.hardfork||f.London),delete s.common),s.chain&&(o.chain=s.chain,delete s.chain),s.hardfork&&(o.hardfork=s.hardfork,delete s.hardfork)):(o.common=p.forCustomChain("mainnet",{name:"custom-network",networkId:s.networkId,chainId:s.chainId},s.hardfork||f.London),delete s.networkId),t.startsWith("0x")&&(t=t.substring(2));var c=d.fromTxData(s,o).sign(r.from(t,"hex")),l=c.validate(!0);if(l.length>0){let e="Signer Error: ";for(const t of l)e+=`${e} ${t}.`;throw new Error(e)}var g="0x"+c.serialize().toString("hex"),m=u.keccak256(g),w={messageHash:"0x"+r.from(c.getMessageToSign(!0)).toString("hex"),v:"0x"+c.v.toString("hex"),r:"0x"+c.r.toString("hex"),s:"0x"+c.s.toString("hex"),rawTransaction:g,transactionHash:m};return n(null,w),w}catch(e){return n(e),Promise.reject(e)}}return e.type=function(e){const t=void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas;let n;void 0!==e.type?n=u.toHex(e.type):void 0===e.type&&t&&(n="0x2");if(void 0!==e.gasPrice&&("0x2"===n||t))throw Error("eip-1559 transactions don't support gasPrice");if(("0x1"===n||"0x0"===n)&&t)throw Error("pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas");t||e.common&&e.common.hardfork&&e.common.hardfork.toLowerCase()===f.London||e.hardfork&&e.hardfork.toLowerCase()===f.London?n="0x2":(e.accessList||e.common&&e.common.hardfork&&e.common.hardfork.toLowerCase()===f.Berlin||e.hardfork&&e.hardfork.toLowerCase()===f.Berlin)&&(n="0x1");return n}(e),void 0!==e.nonce&&void 0!==e.chainId&&(void 0!==e.gasPrice||void 0!==e.maxFeePerGas&&void 0!==e.maxPriorityFeePerGas)&&a?Promise.resolve(c(e)):Promise.all([m(e.common)||m(e.common.customChain.chainId)?m(e.chainId)?i._ethereumCall.getChainId():e.chainId:void 0,m(e.nonce)?i._ethereumCall.getTransactionCount(i.privateKeyToAccount(t).address):e.nonce,m(a)?i._ethereumCall.getNetworkId():1,v(i,e)]).then((function(t){const[n,r,i,s]=t;if(m(n)&&m(e.common)&&m(e.common.customChain.chainId)||m(r)||m(i)||m(s))throw new Error('One of the values "chainId", "networkId", "gasPrice", or "nonce" couldn\'t be fetched: '+JSON.stringify(t));return c({...e,...m(e.common)||m(e.common.customChain.chainId)?{chainId:n}:{},nonce:r,networkId:i,...s})}))},y.prototype.recoverTransaction=function(e,t={}){const n=r.from(e.slice(2),"hex"),i=d.fromSerializedData(n);return u.toChecksumAddress(i.getSenderAddress().toString("hex"))},y.prototype.hashMessage=function(e){var t=u.isHexStrict(e)?e:u.utf8ToHex(e),n=u.hexToBytes(t),i=r.from(n),s="Ethereum Signed Message:\n"+n.length,o=r.from(s),a=r.concat([o,i]);return g.bufferToHex(g.keccak256(a))},y.prototype.sign=function(e,t){if(t.startsWith("0x")||(t="0x"+t),66!==t.length)throw new Error("Private key must be 32 bytes long");var n=this.hashMessage(e),r=o.sign(n,t),i=o.decodeSignature(r);return{message:e,messageHash:n,v:i[0],r:i[1],s:i[2],signature:r}},y.prototype.recover=function(e,t,n){var r=[].slice.apply(arguments);return e&&"object"==typeof e?this.recover(e.messageHash,o.encodeSignature([e.v,e.r,e.s]),!0):(n||(e=this.hashMessage(e)),r.length>=4?(n="boolean"==typeof(n=r.slice(-1)[0])&&!!n,this.recover(e,o.encodeSignature(r.slice(1,4)),n)):o.recover(e,t))},y.prototype.decrypt=function(e,t,n){if("string"!=typeof t)throw new Error("No password given.");var i,s,o=e&&"object"==typeof e?e:JSON.parse(n?e.toLowerCase():e);if(3!==o.version)throw new Error("Not a valid V3 wallet");if("scrypt"===o.crypto.kdf)s=o.crypto.kdfparams,i=c.syncScrypt(r.from(t),r.from(s.salt,"hex"),s.n,s.r,s.p,s.dklen);else{if("pbkdf2"!==o.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(s=o.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");i=a.pbkdf2Sync(r.from(t),r.from(s.salt,"hex"),s.c,s.dklen,"sha256")}var l=r.from(o.crypto.ciphertext,"hex");if(u.sha3(r.from([...i.slice(16,32),...l])).replace("0x","")!==o.crypto.mac)throw new Error("Key derivation failed - possibly wrong password");var h=a.createDecipheriv(o.crypto.cipher,i.slice(0,16),r.from(o.crypto.cipherparams.iv,"hex")),d="0x"+r.from([...h.update(l),...h.final()]).toString("hex");return this.privateKeyToAccount(d,!0)},y.prototype.encrypt=function(e,t,n){var i,s=this.privateKeyToAccount(e,!0),o=(n=n||{}).salt||a.randomBytes(32),h=n.iv||a.randomBytes(16),d=n.kdf||"scrypt",p={dklen:n.dklen||32,salt:o.toString("hex")};if("pbkdf2"===d)p.c=n.c||262144,p.prf="hmac-sha256",i=a.pbkdf2Sync(r.from(t),r.from(p.salt,"hex"),p.c,p.dklen,"sha256");else{if("scrypt"!==d)throw new Error("Unsupported kdf");p.n=n.n||8192,p.r=n.r||8,p.p=n.p||1,i=c.syncScrypt(r.from(t),r.from(p.salt,"hex"),p.n,p.r,p.p,p.dklen)}var f=a.createCipheriv(n.cipher||"aes-128-ctr",i.slice(0,16),h);if(!f)throw new Error("Unsupported cipher");var g=r.from([...f.update(r.from(s.privateKey.replace("0x",""),"hex")),...f.final()]),m=u.sha3(r.from([...i.slice(16,32),...g])).replace("0x","");return{version:3,id:l.v4({random:n.uuid||a.randomBytes(16)}),address:s.address.toLowerCase().replace("0x",""),crypto:{ciphertext:g.toString("hex"),cipherparams:{iv:h.toString("hex")},cipher:n.cipher||"aes-128-ctr",kdf:d,kdfparams:p,mac:m.toString("hex")}}},b.prototype._findSafeIndex=function(e){return e=e||0,this.hasOwnProperty(e)?this._findSafeIndex(e+1):e},b.prototype._currentIndexes=function(){return Object.keys(this).map((function(e){return parseInt(e)})).filter((function(e){return e<9e20}))},b.prototype.create=function(e,t){for(var n=0;n<e;++n)this.add(this._accounts.create(t).privateKey);return this},b.prototype.add=function(e){return"string"==typeof e&&(e=this._accounts.privateKeyToAccount(e)),this[e.address]?this[e.address]:((e=this._accounts.privateKeyToAccount(e.privateKey)).index=this._findSafeIndex(),this[e.index]=e,this[e.address]=e,this[e.address.toLowerCase()]=e,this.length++,e)},b.prototype.remove=function(e){var t=this[e];return!(!t||!t.address)&&(this[t.address].privateKey=null,delete this[t.address],this[t.address.toLowerCase()].privateKey=null,delete this[t.address.toLowerCase()],this[t.index].privateKey=null,delete this[t.index],this.length--,!0)},b.prototype.clear=function(){var e=this;return this._currentIndexes().forEach((function(t){e.remove(t)})),this},b.prototype.encrypt=function(e,t){var n=this;return this._currentIndexes().map((function(r){return n[r].encrypt(e,t)}))},b.prototype.decrypt=function(e,t){var n=this;return e.forEach((function(e){var r=n._accounts.decrypt(e,t);if(!r)throw new Error("Couldn't decrypt accounts. Password wrong?");n.add(r)})),this},b.prototype.save=function(e,t){return localStorage.setItem(t||this.defaultKeyName,JSON.stringify(this.encrypt(e))),!0},b.prototype.load=function(e,t){var n=localStorage.getItem(t||this.defaultKeyName);if(n)try{n=JSON.parse(n)}catch(e){}return this.decrypt(n||[],e)},function(e){var t;try{t=self[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage")||(delete b.prototype.save,delete b.prototype.load),e.exports=y},13186:(e,t,n)=>{var r=n(48764).Buffer;const i=n(50123),s=n(38693),o=n(86266),a=(n(36730),new o.ec("secp256k1")),{keccak256:c,keccak256s:l}=n(81074),u=e=>{const t=l(e.slice(2));let n="0x";for(let r=0;r<40;r++)n+=parseInt(t[r+2],16)>7?e[r+2].toUpperCase():e[r+2];return n},h=e=>{const t=new r(e.slice(2),"hex"),n="0x"+a.keyFromPrivate(t).getPublic(!1,"hex").slice(2),i=c(n);return{address:u("0x"+i.slice(-40)),privateKey:e}},d=([e,t,n])=>i.flatten([t,n,e]),p=e=>[i.slice(64,i.length(e),e),i.slice(0,32,e),i.slice(32,64,e)],f=e=>(t,n)=>{const o=a.keyFromPrivate(new r(n.slice(2),"hex")).sign(new r(t.slice(2),"hex"),{canonical:!0});return d([s.fromString(i.fromNumber(e+o.recoveryParam)),i.pad(32,i.fromNat("0x"+o.r.toString(16))),i.pad(32,i.fromNat("0x"+o.s.toString(16)))])},g=f(27);e.exports={create:e=>{const t=c(i.concat(i.random(32),e||i.random(32))),n=i.concat(i.concat(i.random(32),t),i.random(32)),r=c(n);return h(r)},toChecksum:u,fromPrivate:h,sign:g,makeSigner:f,recover:(e,t)=>{const n=p(t),s={v:i.toNumber(n[0]),r:n[1].slice(2),s:n[2].slice(2)},o="0x"+a.recoverPubKey(new r(e.slice(2),"hex"),s,s.v<2?s.v:1-s.v%2).encode("hex",!1).slice(2),l=c(o);return u("0x"+l.slice(-40))},encodeSignature:d,decodeSignature:p}},67882:e=>{const t=(e,t)=>{let n=[];for(var r=0;r<e;++r)n.push(t(r));return n};e.exports={generate:t,replicate:(e,n)=>t(e,(()=>n)),concat:(e,t)=>e.concat(t),flatten:e=>{let t=[];for(let n=0,r=e.length;n<r;++n)for(let r=0,i=e[n].length;r<i;++r)t.push(e[n][r]);return t},chunksOf:(e,t)=>{let n=[];for(let r=0,i=t.length;r<i;r+=e)n.push(t.slice(r,r+e));return n}}},50123:(e,t,n)=>{n(67882);const r=(e,t)=>parseInt(e.slice(2*t+2,2*t+4),16),i=e=>(e.length-2)/2,s=(e,t)=>t.length===2*e+2?t:s(e,"0x0"+t.slice(2)),o=(e,t)=>t.length===2*e+2?t:o(e,t+"0"),a=e=>{let t=[];for(let n=2,r=e.length;n<r;n+=2)t.push(parseInt(e.slice(n,n+2),16));return t},c=e=>{let t="0x";for(let n=0,r=e.length;n<r;++n){let r=e[n];t+=(r<16?"0":"")+r.toString(16)}return t};e.exports={random:e=>{let t;t="undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(e)):n(55835).randomBytes(e);let r="0x";for(let n=0;n<e;++n)r+=("00"+t[n].toString(16)).slice(-2);return r},length:i,concat:(e,t)=>e.concat(t.slice(2)),flatten:e=>"0x"+e.reduce(((e,t)=>e+t.slice(2)),""),slice:(e,t,n)=>"0x"+n.slice(2*e+2,2*t+2),reverse:e=>{let t="0x";for(let n=0,r=i(e);n<r;++n)t+=e.slice(2*(r-n),2*(r-n+1));return t},pad:s,padRight:o,fromAscii:e=>{let t="0x";for(let n=0;n<e.length;++n)t+=("00"+e.charCodeAt(n).toString(16)).slice(-2);return t},toAscii:e=>{let t="";for(let n=2;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.slice(n,n+2),16));return t},fromString:e=>{const t=e=>{const t=e.toString(16);return t.length<2?"0"+t:t};let n="0x";for(let r=0;r!=e.length;r++){let i=e.charCodeAt(r);if(i<128)n+=t(i);else{if(i<2048)n+=t(i>>6|192);else{if(i>55295&&i<56320){if(++r==e.length)return null;let s=e.charCodeAt(r);if(s<56320||s>57343)return null;i=65536+((1023&i)<<10)+(1023&s),n+=t(i>>18|240),n+=t(i>>12&63|128)}else n+=t(i>>12|224);n+=t(i>>6&63|128)}n+=t(63&i|128)}}return n},toString:e=>{let t="",n=0,s=i(e);for(;n<s;){let i=r(e,n++);if(i>127){if(i>191&&i<224){if(n>=s)return null;i=(31&i)<<6|63&r(e,n)}else if(i>223&&i<240){if(n+1>=s)return null;i=(15&i)<<12|(63&r(e,n))<<6|63&r(e,++n)}else{if(!(i>239&&i<248))return null;if(n+2>=s)return null;i=(7&i)<<18|(63&r(e,n))<<12|(63&r(e,++n))<<6|63&r(e,++n)}++n}if(i<=65535)t+=String.fromCharCode(i);else{if(!(i<=1114111))return null;i-=65536,t+=String.fromCharCode(i>>10|55296),t+=String.fromCharCode(1023&i|56320)}}return t},fromNumber:e=>{let t=e.toString(16);return t.length%2==0?"0x"+t:"0x0"+t},toNumber:e=>parseInt(e.slice(2),16),fromNat:e=>"0x0"===e?"0x":e.length%2==0?e:"0x0"+e.slice(2),toNat:e=>"0"===e[2]?"0x"+e.slice(3):e,fromArray:c,toArray:a,fromUint8Array:e=>c([].slice.call(e,0)),toUint8Array:e=>new Uint8Array(a(e))}},81074:e=>{const t="0123456789abcdef".split(""),n=[1,256,65536,16777216],r=[0,8,16,24],i=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=e=>{var t,n,r,s,o,a,c,l,u,h,d,p,f,g,m,w,y,v,b,_,E,x,C,I,S,O,k,P,A,N,M,T,R,L,D,j,U,B,$,z,q,W,F,H,V,K,G,Z,Y,Q,J,X,ee,te,ne,re,ie,se,oe,ae,ce,le,ue;for(r=0;r<48;r+=2)s=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(p=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|c>>>31),n=(f=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|a>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=s^(l<<1|u>>>31),n=o^(u<<1|l>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=a^(h<<1|d>>>31),n=c^(d<<1|h>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=l^(p<<1|f>>>31),n=u^(f<<1|p>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=h^(s<<1|o>>>31),n=d^(o<<1|s>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,g=e[0],m=e[1],K=e[11]<<4|e[10]>>>28,G=e[10]<<4|e[11]>>>28,P=e[20]<<3|e[21]>>>29,A=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,W=e[40]<<18|e[41]>>>14,F=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,w=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Z=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ue=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,U=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,J=e[35]<<15|e[34]>>>17,T=e[45]<<29|e[44]>>>3,R=e[44]<<29|e[45]>>>3,I=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,B=e[26]<<25|e[27]>>>7,$=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,X=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,H=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,O=e[18]<<20|e[19]>>>12,k=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,C=e[49]<<14|e[48]>>>18,e[0]=g^~w&v,e[1]=m^~y&b,e[10]=I^~O&P,e[11]=S^~k&A,e[20]=L^~j&B,e[21]=D^~U&$,e[30]=H^~K&Z,e[31]=V^~G&Y,e[40]=te^~re&se,e[41]=ne^~ie&oe,e[2]=w^~v&_,e[3]=y^~b&E,e[12]=O^~P&N,e[13]=k^~A&M,e[22]=j^~B&z,e[23]=U^~$&q,e[32]=K^~Z&Q,e[33]=G^~Y&J,e[42]=re^~se&ae,e[43]=ie^~oe&ce,e[4]=v^~_&x,e[5]=b^~E&C,e[14]=P^~N&T,e[15]=A^~M&R,e[24]=B^~z&W,e[25]=$^~q&F,e[34]=Z^~Q&X,e[35]=Y^~J&ee,e[44]=se^~ae&le,e[45]=oe^~ce&ue,e[6]=_^~x&g,e[7]=E^~C&m,e[16]=N^~T&I,e[17]=M^~R&S,e[26]=z^~W&L,e[27]=q^~F&D,e[36]=Q^~X&H,e[37]=J^~ee&V,e[46]=ae^~le&te,e[47]=ce^~ue&ne,e[8]=x^~g&w,e[9]=C^~m&y,e[18]=T^~I&O,e[19]=R^~S&k,e[28]=W^~L&j,e[29]=F^~D&U,e[38]=X^~H&K,e[39]=ee^~V&G,e[48]=le^~te&re,e[49]=ue^~ne&ie,e[0]^=i[r],e[1]^=i[r+1]},o=e=>i=>{var o;if("0x"===i.slice(0,2)){o=[];for(var a=2,c=i.length;a<c;a+=2)o.push(parseInt(i.slice(a,a+2),16))}else o=i;return((e,i)=>{for(var o,a=i.length,c=e.blocks,l=e.blockCount<<2,u=e.blockCount,h=e.outputBlocks,d=e.s,p=0;p<a;){if(e.reset)for(e.reset=!1,c[0]=e.block,m=1;m<u+1;++m)c[m]=0;if("string"!=typeof i)for(m=e.start;p<a&&m<l;++p)c[m>>2]|=i[p]<<r[3&m++];else for(m=e.start;p<a&&m<l;++p)(o=i.charCodeAt(p))<128?c[m>>2]|=o<<r[3&m++]:o<2048?(c[m>>2]|=(192|o>>6)<<r[3&m++],c[m>>2]|=(128|63&o)<<r[3&m++]):o<55296||o>=57344?(c[m>>2]|=(224|o>>12)<<r[3&m++],c[m>>2]|=(128|o>>6&63)<<r[3&m++],c[m>>2]|=(128|63&o)<<r[3&m++]):(o=65536+((1023&o)<<10|1023&i.charCodeAt(++p)),c[m>>2]|=(240|o>>18)<<r[3&m++],c[m>>2]|=(128|o>>12&63)<<r[3&m++],c[m>>2]|=(128|o>>6&63)<<r[3&m++],c[m>>2]|=(128|63&o)<<r[3&m++]);if(e.lastByteIndex=m,m>=l){for(e.start=m-l,e.block=c[u],m=0;m<u;++m)d[m]^=c[m];s(d),e.reset=!0}else e.start=m}if(c[(m=e.lastByteIndex)>>2]|=n[3&m],e.lastByteIndex===l)for(c[0]=c[u],m=1;m<u+1;++m)c[m]=0;for(c[u-1]|=2147483648,m=0;m<u;++m)d[m]^=c[m];s(d);for(var f,g="",m=0,w=0;w<h;){for(m=0;m<u&&w<h;++m,++w)f=d[m],g+=t[f>>4&15]+t[15&f]+t[f>>12&15]+t[f>>8&15]+t[f>>20&15]+t[f>>16&15]+t[f>>28&15]+t[f>>24&15];w%u==0&&(s(d),m=0)}return"0x"+g})((e=>{return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(e<<1)>>5,outputBlocks:e>>5,s:(t=[0,0,0,0,0,0,0,0,0,0],[].concat(t,t,t,t,t))};var t})(e),o)};e.exports={keccak256:o(256),keccak512:o(512),keccak256s:o(256),keccak512s:o(512)}},38693:(e,t,n)=>{const r=n(116),i=n(50123),s=e=>new r(e.slice(2),16),o=e=>{const t="0x"+("0x"===e.slice(0,2)?new r(e.slice(2),16):new r(e,10)).toString("hex");return"0x0"===t?"0x":t},a=e=>"string"==typeof e?/^0x/.test(e)?e:"0x"+e:"0x"+new r(e).toString("hex"),c=e=>s(e).toNumber(),l=e=>(t,n)=>"0x"+s(t)[e](s(n)).toString("hex"),u=l("add"),h=l("mul"),d=l("div"),p=l("sub");e.exports={toString:e=>s(e).toString(10),fromString:o,toNumber:c,fromNumber:a,toEther:e=>c(d(e,o("10000000000")))/1e8,fromEther:e=>h(a(Math.floor(1e8*e)),o("10000000000")),toUint256:e=>i.pad(32,e),add:u,mul:h,div:d,sub:p}},36730:e=>{e.exports={encode:e=>{const t=e=>{return(t=e.toString(16)).length%2==0?t:"0"+t;var t},n=(e,n)=>e<56?t(n+e):t(n+t(e).length/2+55)+t(e),r=e=>{if("string"==typeof e){const t=e.slice(2);return(2!=t.length||t>="80"?n(t.length/2,128):"")+t}{const t=e.map(r).join("");return n(t.length/2,192)+t}};return"0x"+r(e)},decode:e=>{let t=2;const n=()=>{if(t>=e.length)throw"";const n=e.slice(t,t+2);return n<"80"?(t+=2,"0x"+n):n<"c0"?i():s()},r=()=>{const n=parseInt(e.slice(t,t+=2),16)%64;return n<56?n:parseInt(e.slice(t,t+=2*(n-55)),16)},i=()=>{const n=r();return"0x"+e.slice(t,t+=2*n)},s=()=>{const e=2*r()+t;let i=[];for(;t<e;)i.push(n());return i};try{return n()}catch(e){return[]}}}},48410:(e,t,n)=>{var r=n(11225),i=n(91542),s=i;s.v1=r,s.v4=i,e.exports=s},52444:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},33960:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},11225:(e,t,n)=>{var r,i,s=n(33960),o=n(52444),a=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],h=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==d){var p=s();null==h&&(h=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,m=f-a+(g-c)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||f>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,c=g,i=d;var w=(1e4*(268435455&(f+=122192928e5))+g)%4294967296;u[l++]=w>>>24&255,u[l++]=w>>>16&255,u[l++]=w>>>8&255,u[l++]=255&w;var y=f/4294967296*1e4&268435455;u[l++]=y>>>8&255,u[l++]=255&y,u[l++]=y>>>24&15|16,u[l++]=y>>>16&255,u[l++]=d>>>8|128,u[l++]=255&d;for(var v=0;v<6;++v)u[l+v]=h[v];return t||o(u)}},91542:(e,t,n)=>{var r=n(33960),i=n(52444);e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||i(o)}},29321:(e,t,n)=>{"use strict";var r=n(7340),i=n(84390).formatters,s=n(18269),o=n(33677),a=n(2561),c=n(88894);function l(e){this.eth=e;var t=null;this._detectedAddress=null,this._lastSyncCheck=null,Object.defineProperty(this,"registry",{get:function(){return new o(this)},enumerable:!0}),Object.defineProperty(this,"resolverMethodHandler",{get:function(){return new a(this.registry)},enumerable:!0}),Object.defineProperty(this,"registryAddress",{get:function(){return t},set:function(e){t=null!==e?i.inputAddressFormatter(e):e},enumerable:!0})}l.prototype.supportsInterface=function(e,t,n){return this.getResolver(e).then((function(e){return s.isHexStrict(t)||(t=s.sha3(t).slice(0,10)),e.methods.supportsInterface(t).call(n)})).catch((function(e){if("function"!=typeof n)throw e;n(e,null)}))},l.prototype.resolver=function(e,t){return this.registry.resolver(e,t)},l.prototype.getResolver=function(e,t){return this.registry.getResolver(e,t)},l.prototype.setResolver=function(e,t,n,r){return this.registry.setResolver(e,t,n,r)},l.prototype.setRecord=function(e,t,n,r,i,s){return this.registry.setRecord(e,t,n,r,i,s)},l.prototype.setSubnodeRecord=function(e,t,n,r,i,s,o){return this.registry.setSubnodeRecord(e,t,n,r,i,s,o)},l.prototype.setApprovalForAll=function(e,t,n,r){return this.registry.setApprovalForAll(e,t,n,r)},l.prototype.isApprovedForAll=function(e,t,n){return this.registry.isApprovedForAll(e,t,n)},l.prototype.recordExists=function(e,t){return this.registry.recordExists(e,t)},l.prototype.setSubnodeOwner=function(e,t,n,r,i){return this.registry.setSubnodeOwner(e,t,n,r,i)},l.prototype.getTTL=function(e,t){return this.registry.getTTL(e,t)},l.prototype.setTTL=function(e,t,n,r){return this.registry.setTTL(e,t,n,r)},l.prototype.getOwner=function(e,t){return this.registry.getOwner(e,t)},l.prototype.setOwner=function(e,t,n,r){return this.registry.setOwner(e,t,n,r)},l.prototype.getAddress=function(e,t){return this.resolverMethodHandler.method(e,"addr",[]).call(t)},l.prototype.setAddress=function(e,t,n,r){return this.resolverMethodHandler.method(e,"setAddr",[t]).send(n,r)},l.prototype.getPubkey=function(e,t){return this.resolverMethodHandler.method(e,"pubkey",[],null,t).call(t)},l.prototype.setPubkey=function(e,t,n,r,i){return this.resolverMethodHandler.method(e,"setPubkey",[t,n]).send(r,i)},l.prototype.getContent=function(e,t){return this.resolverMethodHandler.method(e,"content",[]).call(t)},l.prototype.setContent=function(e,t,n,r){return this.resolverMethodHandler.method(e,"setContent",[t]).send(n,r)},l.prototype.getContenthash=function(e,t){return this.resolverMethodHandler.method(e,"contenthash",[],c.decode).call(t)},l.prototype.setContenthash=function(e,t,n,r){var i;try{i=c.encode(t)}catch(e){var s=new Error("Could not encode "+t+". See docs for supported hash protocols.");if("function"==typeof r)return void r(s,null);throw s}return this.resolverMethodHandler.method(e,"setContenthash",[i]).send(n,r)},l.prototype.getMultihash=function(e,t){return this.resolverMethodHandler.method(e,"multihash",[]).call(t)},l.prototype.setMultihash=function(e,t,n,r){return this.resolverMethodHandler.method(e,"multihash",[t]).send(n,r)},l.prototype.checkNetwork=async function(){var e=new Date/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){var t=e-(await this.eth.getBlock("latest")).timestamp;if(t>3600)throw new Error("Network not synced; last block was "+t+" seconds ago");this._lastSyncCheck=e}if(this.registryAddress)return this.registryAddress;if(!this._detectedAddress){var n=await this.eth.net.getNetworkType(),i=r.addresses[n];if(void 0===i)throw new Error("ENS is not supported on network "+n);return this._detectedAddress=i,this._detectedAddress}return this._detectedAddress},e.exports=l},7340:e=>{"use strict";e.exports={addresses:{main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",ropsten:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",rinkeby:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},interfaceIds:{addr:"0x3b3b57de",setAddr:"0x3b3b57de",pubkey:"0xc8690233",setPubkey:"0xc8690233",contenthash:"0xbc1c58d1",setContenthash:"0xbc1c58d1",content:"0xd8389dc5",setContent:"0xd8389dc5"}}},33677:(e,t,n)=>{"use strict";var r=n(31692),i=n(59873),s=n(4017),o=n(84390).formatters,a=n(18269),c=n(26116),l=n(29234);function u(e){var t=this;this.ens=e,this.contract=e.checkNetwork().then((function(e){var n=new r(c,e);return n.setProvider(t.ens.eth.currentProvider),n}))}u.prototype.owner=function(e,t){return this.getOwner(e,t)},u.prototype.getOwner=function(e,t){var n=new s(!0);return this.contract.then((function(t){return t.methods.owner(i.hash(e)).call()})).then((function(e){"function"!=typeof t?n.resolve(e):t(e,e)})).catch((function(e){"function"!=typeof t?n.reject(e):t(e,null)})),n.eventEmitter},u.prototype.setOwner=function(e,t,n,r){var a=new s(!0);return this.contract.then((function(r){return r.methods.setOwner(i.hash(e),o.inputAddressFormatter(t)).send(n)})).then((function(e){"function"!=typeof r?a.resolve(e):r(e,e)})).catch((function(e){"function"!=typeof r?a.reject(e):r(e,null)})),a.eventEmitter},u.prototype.getTTL=function(e,t){var n=new s(!0);return this.contract.then((function(t){return t.methods.ttl(i.hash(e)).call()})).then((function(e){"function"!=typeof t?n.resolve(e):t(e,e)})).catch((function(e){"function"!=typeof t?n.reject(e):t(e,null)})),n.eventEmitter},u.prototype.setTTL=function(e,t,n,r){var o=new s(!0);return this.contract.then((function(r){return r.methods.setTTL(i.hash(e),t).send(n)})).then((function(e){"function"!=typeof r?o.resolve(e):r(e,e)})).catch((function(e){"function"!=typeof r?o.reject(e):r(e,null)})),o.eventEmitter},u.prototype.setSubnodeOwner=function(e,t,n,r,c){var l=new s(!0);return a.isHexStrict(t)||(t=a.sha3(t)),this.contract.then((function(s){return s.methods.setSubnodeOwner(i.hash(e),t,o.inputAddressFormatter(n)).send(r)})).then((function(e){"function"!=typeof c?l.resolve(e):c(e,e)})).catch((function(e){"function"!=typeof c?l.reject(e):c(e,null)})),l.eventEmitter},u.prototype.setRecord=function(e,t,n,r,a,c){var l=new s(!0);return this.contract.then((function(s){return s.methods.setRecord(i.hash(e),o.inputAddressFormatter(t),o.inputAddressFormatter(n),r).send(a)})).then((function(e){"function"!=typeof c?l.resolve(e):c(e,e)})).catch((function(e){"function"!=typeof c?l.reject(e):c(e,null)})),l.eventEmitter},u.prototype.setSubnodeRecord=function(e,t,n,r,c,l,u){var h=new s(!0);return a.isHexStrict(t)||(t=a.sha3(t)),this.contract.then((function(s){return s.methods.setSubnodeRecord(i.hash(e),t,o.inputAddressFormatter(n),o.inputAddressFormatter(r),c).send(l)})).then((function(e){"function"!=typeof u?h.resolve(e):u(e,e)})).catch((function(e){"function"!=typeof u?h.reject(e):u(e,null)})),h.eventEmitter},u.prototype.setApprovalForAll=function(e,t,n,r){var i=new s(!0);return this.contract.then((function(r){return r.methods.setApprovalForAll(o.inputAddressFormatter(e),t).send(n)})).then((function(e){"function"!=typeof r?i.resolve(e):r(e,e)})).catch((function(e){"function"!=typeof r?i.reject(e):r(e,null)})),i.eventEmitter},u.prototype.isApprovedForAll=function(e,t,n){var r=new s(!0);return this.contract.then((function(n){return n.methods.isApprovedForAll(o.inputAddressFormatter(e),o.inputAddressFormatter(t)).call()})).then((function(e){"function"!=typeof n?r.resolve(e):n(e,e)})).catch((function(e){"function"!=typeof n?r.reject(e):n(e,null)})),r.eventEmitter},u.prototype.recordExists=function(e,t){var n=new s(!0);return this.contract.then((function(t){return t.methods.recordExists(i.hash(e)).call()})).then((function(e){"function"!=typeof t?n.resolve(e):t(e,e)})).catch((function(e){"function"!=typeof t?n.reject(e):t(e,null)})),n.eventEmitter},u.prototype.resolver=function(e,t){return this.getResolver(e,t)},u.prototype.getResolver=function(e,t){var n=this;return this.contract.then((function(t){return t.methods.resolver(i.hash(e)).call()})).then((function(e){var i=new r(l,e);if(i.setProvider(n.ens.eth.currentProvider),"function"!=typeof t)return i;t(i,i)})).catch((function(e){if("function"!=typeof t)throw e;t(e,null)}))},u.prototype.setResolver=function(e,t,n,r){var a=new s(!0);return this.contract.then((function(r){return r.methods.setResolver(i.hash(e),o.inputAddressFormatter(t)).send(n)})).then((function(e){"function"!=typeof r?a.resolve(e):r(e,e)})).catch((function(e){"function"!=typeof r?a.reject(e):r(e,null)})),a.eventEmitter},e.exports=u},60306:(e,t,n)=>{"use strict";var r=n(29321);e.exports=r},2561:(e,t,n)=>{"use strict";var r=n(4017),i=n(59873),s=n(84390).errors,o=n(7340).interfaceIds;function a(e){this.registry=e}a.prototype.method=function(e,t,n,r,i){return{call:this.call.bind({ensName:e,methodName:t,methodArguments:n,callback:i,parent:this,outputFormatter:r}),send:this.send.bind({ensName:e,methodName:t,methodArguments:n,callback:i,parent:this})}},a.prototype.call=function(e){var t=this,n=new r,i=this.parent.prepareArguments(this.ensName,this.methodArguments),s=this.outputFormatter||null;return this.parent.registry.getResolver(this.ensName).then((async function(r){await t.parent.checkInterfaceSupport(r,t.methodName),t.parent.handleCall(n,r.methods[t.methodName],i,s,e)})).catch((function(t){"function"!=typeof e?n.reject(t):e(t,null)})),n.eventEmitter},a.prototype.send=function(e,t){var n=this,i=new r,s=this.parent.prepareArguments(this.ensName,this.methodArguments);return this.parent.registry.getResolver(this.ensName).then((async function(r){await n.parent.checkInterfaceSupport(r,n.methodName),n.parent.handleSend(i,r.methods[n.methodName],s,e,t)})).catch((function(e){"function"!=typeof t?i.reject(e):t(e,null)})),i.eventEmitter},a.prototype.handleCall=function(e,t,n,r,i){return t.apply(this,n).call().then((function(t){r&&(t=r(t)),"function"!=typeof i?e.resolve(t):i(t,t)})).catch((function(t){"function"!=typeof i?e.reject(t):i(t,null)})),e},a.prototype.handleSend=function(e,t,n,r,i){return t.apply(this,n).send(r).on("sending",(function(){e.eventEmitter.emit("sending")})).on("sent",(function(){e.eventEmitter.emit("sent")})).on("transactionHash",(function(t){e.eventEmitter.emit("transactionHash",t)})).on("confirmation",(function(t,n){e.eventEmitter.emit("confirmation",t,n)})).on("receipt",(function(t){e.eventEmitter.emit("receipt",t),e.resolve(t),"function"==typeof i&&i(t,t)})).on("error",(function(t){e.eventEmitter.emit("error",t),"function"!=typeof i?e.reject(t):i(t,null)})),e},a.prototype.prepareArguments=function(e,t){var n=i.hash(e);return t.length>0?(t.unshift(n),t):[n]},a.prototype.checkInterfaceSupport=async function(e,t){if(o[t]){var n=!1;try{n=await e.methods.supportsInterface(o[t]).call()}catch(e){}if(!n)throw s.ResolverMethodMissingError(e.options.address,t)}},e.exports=a},88894:(e,t,n)=>{var r=n(78138);e.exports={decode:function(e){var t=null,n=null,i=null;if(e&&e.error)return{protocolType:null,decoded:e.error};if(e)try{t=r.decode(e);var s=r.getCodec(e);"ipfs-ns"===s?n="ipfs":"swarm-ns"===s?n="bzz":"onion"===s?n="onion":"onion3"===s?n="onion3":t=e}catch(e){i=e.message}return{protocolType:n,decoded:t,error:i}},encode:function(e){var t,n,i=!1;if(e){var s=e.match(/^(ipfs|bzz|onion|onion3):\/\/(.*)/)||e.match(/\/(ipfs)\/(.*)/);s&&(n=s[1],t=s[2]);try{if("ipfs"===n)t.length>=4&&(i="0x"+r.fromIpfs(t));else if("bzz"===n)t.length>=4&&(i="0x"+r.fromSwarm(t));else if("onion"===n)16===t.length&&(i="0x"+r.encode("onion",t));else{if("onion3"!==n)throw new Error("Could not encode content hash: unsupported content type");56===t.length&&(i="0x"+r.encode("onion3",t))}}catch(e){throw e}}return i}}},26116:e=>{"use strict";e.exports=[{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"resolver",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"label",type:"bytes32"},{name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"ttl",type:"uint64"}],name:"setTTL",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"ttl",outputs:[{name:"",type:"uint64"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"owner",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"label",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"ttl",type:"uint64"}],name:"NewTTL",type:"event"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setSubnodeRecord",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},29234:e=>{"use strict";e.exports=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes"}],name:"setMultihash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"multihash",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"setPubkey",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"content",outputs:[{name:"ret",type:"bytes32"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"addr",outputs:[{name:"ret",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],name:"setABI",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"name",outputs:[{name:"ret",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"name",type:"string"}],name:"setName",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes32"}],name:"setContent",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"pubkey",outputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"addr",type:"address"}],name:"setAddr",outputs:[],payable:!1,type:"function"},{inputs:[{name:"ensAddr",type:"address"}],payable:!1,type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"hash",type:"bytes32"}],name:"ContentChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"contentType",type:"uint256"}],name:"ABIChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"x",type:"bytes32"},{indexed:!1,name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"contenthash",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes"}],name:"setContenthash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},15868:(e,t,n)=>{"use strict";var r=n(92928),i=n(93952),s=n(18269),o=n(11324),a=n(84390).formatters,c=function(){var e=this;r.packageInit(this,arguments),this.net=new o(this);var t=null,n="latest";Object.defineProperty(this,"defaultAccount",{get:function(){return t},set:function(e){return e&&(t=s.toChecksumAddress(a.inputAddressFormatter(e))),c.forEach((function(e){e.defaultAccount=t})),e},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return n},set:function(e){return n=e,c.forEach((function(e){e.defaultBlock=n})),e},enumerable:!0});var c=[new i({name:"getAccounts",call:"personal_listAccounts",params:0,outputFormatter:s.toChecksumAddress}),new i({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null],outputFormatter:s.toChecksumAddress}),new i({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[a.inputAddressFormatter,null,null]}),new i({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[a.inputAddressFormatter]}),new i({name:"importRawKey",call:"personal_importRawKey",params:2}),new i({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[a.inputTransactionFormatter,null]}),new i({name:"signTransaction",call:"personal_signTransaction",params:2,inputFormatter:[a.inputTransactionFormatter,null]}),new i({name:"sign",call:"personal_sign",params:3,inputFormatter:[a.inputSignFormatter,a.inputAddressFormatter,null]}),new i({name:"ecRecover",call:"personal_ecRecover",params:2,inputFormatter:[a.inputSignFormatter,null]})];c.forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager),t.defaultBlock=e.defaultBlock,t.defaultAccount=e.defaultAccount}))};r.addProviders(c),e.exports=c},8436:e=>{"use strict";e.exports=function(e){var t,n=this;return this.net.getId().then((function(e){return t=e,n.getBlock(0)})).then((function(n){var r="private";return"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3"===n.hash&&1===t&&(r="main"),"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d"===n.hash&&3===t&&(r="ropsten"),"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177"===n.hash&&4===t&&(r="rinkeby"),"0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a"===n.hash&&5===t&&(r="goerli"),"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9"===n.hash&&42===t&&(r="kovan"),"function"==typeof e&&e(null,r),r})).catch((function(t){if("function"!=typeof e)throw t;e(t)}))}},27646:(e,t,n)=>{"use strict";var r=n(92928),i=n(84390),s=n(96602).subscriptions,o=n(93952),a=n(18269),c=n(11324),l=n(60306),u=n(15868),h=n(31692),d=n(34751),p=n(17935),f=n(93338),g=n(8436),m=i.formatters,w=function(e){return"string"==typeof e[0]&&0===e[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},y=function(e){return"string"==typeof e[0]&&0===e[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},v=function(e){return"string"==typeof e[0]&&0===e[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},b=function(e){return"string"==typeof e[0]&&0===e[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},_=function(e){return"string"==typeof e[0]&&0===e[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"},E=function(){var e=this;r.packageInit(this,arguments);var t=this.setRequestManager;this.setRequestManager=function(n){return t(n),e.net.setRequestManager(n),e.personal.setRequestManager(n),e.accounts.setRequestManager(n),e.Contract._requestManager=e._requestManager,e.Contract.currentProvider=e._provider,!0};var n=this.setProvider;this.setProvider=function(){n.apply(e,arguments),e.setRequestManager(e._requestManager),e.ens._detectedAddress=null,e.ens._lastSyncCheck=null};var i,E,x,C=!1,I=null,S="latest",O=50,k=24,P=750,A=1e3,N=10,M=100;Object.defineProperty(this,"handleRevert",{get:function(){return C},set:function(t){C=t,e.Contract.handleRevert=C,L.forEach((function(e){e.handleRevert=C}))},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return x},set:function(t){x=t,e.Contract.defaultCommon=x,L.forEach((function(e){e.defaultCommon=x}))},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return E},set:function(t){E=t,e.Contract.defaultHardfork=E,L.forEach((function(e){e.defaultHardfork=E}))},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return i},set:function(t){i=t,e.Contract.defaultChain=i,L.forEach((function(e){e.defaultChain=i}))},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return P},set:function(t){P=t,e.Contract.transactionPollingTimeout=P,L.forEach((function(e){e.transactionPollingTimeout=P}))},enumerable:!0}),Object.defineProperty(this,"transactionPollingInterval",{get:function(){return A},set:function(t){A=t,e.Contract.transactionPollingInterval=A,L.forEach((function(e){e.transactionPollingInterval=A}))},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return k},set:function(t){k=t,e.Contract.transactionConfirmationBlocks=k,L.forEach((function(e){e.transactionConfirmationBlocks=k}))},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return O},set:function(t){O=t,e.Contract.transactionBlockTimeout=O,L.forEach((function(e){e.transactionBlockTimeout=O}))},enumerable:!0}),Object.defineProperty(this,"blockHeaderTimeout",{get:function(){return N},set:function(t){N=t,e.Contract.blockHeaderTimeout=N,L.forEach((function(e){e.blockHeaderTimeout=N}))},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return I},set:function(t){return t&&(I=a.toChecksumAddress(m.inputAddressFormatter(t))),e.Contract.defaultAccount=I,e.personal.defaultAccount=I,L.forEach((function(e){e.defaultAccount=I})),t},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return S},set:function(t){return S=t,e.Contract.defaultBlock=S,e.personal.defaultBlock=S,L.forEach((function(e){e.defaultBlock=S})),t},enumerable:!0}),Object.defineProperty(this,"maxListenersWarningThreshold",{get:function(){return M},set:function(t){e.currentProvider&&e.currentProvider.setMaxListeners&&(M=t,e.currentProvider.setMaxListeners(t))},enumerable:!0}),this.clearSubscriptions=e._requestManager.clearSubscriptions.bind(e._requestManager),this.removeSubscriptionById=e._requestManager.removeSubscription.bind(e._requestManager),this.net=new c(this),this.net.getNetworkType=g.bind(this),this.accounts=new p(this),this.personal=new u(this),this.personal.defaultAccount=this.defaultAccount,this.maxListenersWarningThreshold=M;var T=this,R=function(){h.apply(this,arguments);var e=this,t=T.setProvider;T.setProvider=function(){t.apply(T,arguments),r.packageInit(e,[T])}};R.setProvider=function(){h.setProvider.apply(this,arguments)},(R.prototype=Object.create(h.prototype)).constructor=R,this.Contract=R,this.Contract.defaultAccount=this.defaultAccount,this.Contract.defaultBlock=this.defaultBlock,this.Contract.transactionBlockTimeout=this.transactionBlockTimeout,this.Contract.transactionConfirmationBlocks=this.transactionConfirmationBlocks,this.Contract.transactionPollingTimeout=this.transactionPollingTimeout,this.Contract.transactionPollingInterval=this.transactionPollingInterval,this.Contract.blockHeaderTimeout=this.blockHeaderTimeout,this.Contract.handleRevert=this.handleRevert,this.Contract._requestManager=this._requestManager,this.Contract._ethAccounts=this.accounts,this.Contract.currentProvider=this._requestManager.provider,this.Iban=d,this.abi=f,this.ens=new l(this);var L=[new o({name:"getNodeInfo",call:"web3_clientVersion"}),new o({name:"getProtocolVersion",call:"eth_protocolVersion",params:0}),new o({name:"getCoinbase",call:"eth_coinbase",params:0}),new o({name:"isMining",call:"eth_mining",params:0}),new o({name:"getHashrate",call:"eth_hashrate",params:0,outputFormatter:a.hexToNumber}),new o({name:"isSyncing",call:"eth_syncing",params:0,outputFormatter:m.outputSyncingFormatter}),new o({name:"getGasPrice",call:"eth_gasPrice",params:0,outputFormatter:m.outputBigNumberFormatter}),new o({name:"getFeeHistory",call:"eth_feeHistory",params:3,inputFormatter:[a.numberToHex,m.inputBlockNumberFormatter,null]}),new o({name:"getAccounts",call:"eth_accounts",params:0,outputFormatter:a.toChecksumAddress}),new o({name:"getBlockNumber",call:"eth_blockNumber",params:0,outputFormatter:a.hexToNumber}),new o({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[m.inputAddressFormatter,m.inputDefaultBlockNumberFormatter],outputFormatter:m.outputBigNumberFormatter}),new o({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[m.inputAddressFormatter,a.numberToHex,m.inputDefaultBlockNumberFormatter]}),new o({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[m.inputAddressFormatter,m.inputDefaultBlockNumberFormatter]}),new o({name:"getBlock",call:w,params:2,inputFormatter:[m.inputBlockNumberFormatter,function(e){return!!e}],outputFormatter:m.outputBlockFormatter}),new o({name:"getUncle",call:v,params:2,inputFormatter:[m.inputBlockNumberFormatter,a.numberToHex],outputFormatter:m.outputBlockFormatter}),new o({name:"getBlockTransactionCount",call:b,params:1,inputFormatter:[m.inputBlockNumberFormatter],outputFormatter:a.hexToNumber}),new o({name:"getBlockUncleCount",call:_,params:1,inputFormatter:[m.inputBlockNumberFormatter],outputFormatter:a.hexToNumber}),new o({name:"getTransaction",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:m.outputTransactionFormatter}),new o({name:"getTransactionFromBlock",call:y,params:2,inputFormatter:[m.inputBlockNumberFormatter,a.numberToHex],outputFormatter:m.outputTransactionFormatter}),new o({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:m.outputTransactionReceiptFormatter}),new o({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[m.inputAddressFormatter,m.inputDefaultBlockNumberFormatter],outputFormatter:a.hexToNumber}),new o({name:"sendSignedTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null],abiCoder:f}),new o({name:"signTransaction",call:"eth_signTransaction",params:1,inputFormatter:[m.inputTransactionFormatter]}),new o({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[m.inputTransactionFormatter],abiCoder:f}),new o({name:"sign",call:"eth_sign",params:2,inputFormatter:[m.inputSignFormatter,m.inputAddressFormatter],transformPayload:function(e){return e.params.reverse(),e}}),new o({name:"call",call:"eth_call",params:2,inputFormatter:[m.inputCallFormatter,m.inputDefaultBlockNumberFormatter],abiCoder:f}),new o({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[m.inputCallFormatter],outputFormatter:a.hexToNumber}),new o({name:"submitWork",call:"eth_submitWork",params:3}),new o({name:"getWork",call:"eth_getWork",params:0}),new o({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[m.inputLogFormatter],outputFormatter:m.outputLogFormatter}),new o({name:"getChainId",call:"eth_chainId",params:0,outputFormatter:a.hexToNumber}),new o({name:"requestAccounts",call:"eth_requestAccounts",params:0,outputFormatter:a.toChecksumAddress}),new o({name:"getProof",call:"eth_getProof",params:3,inputFormatter:[m.inputAddressFormatter,m.inputStorageKeysFormatter,m.inputDefaultBlockNumberFormatter],outputFormatter:m.outputProofFormatter}),new o({name:"getPendingTransactions",call:"eth_pendingTransactions",params:0,outputFormatter:m.outputTransactionFormatter}),new o({name:"createAccessList",call:"eth_createAccessList",params:2,inputFormatter:[m.inputTransactionFormatter,m.inputDefaultBlockNumberFormatter]}),new s({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:m.outputBlockFormatter},pendingTransactions:{subscriptionName:"newPendingTransactions",params:0},logs:{params:1,inputFormatter:[m.inputLogFormatter],outputFormatter:m.outputLogFormatter,subscriptionHandler:function(e){e.removed?this.emit("changed",e):this.emit("data",e),"function"==typeof this.callback&&this.callback(null,e,this)}},syncing:{params:0,outputFormatter:m.outputSyncingFormatter,subscriptionHandler:function(e){var t=this;!0!==this._isSyncing?(this._isSyncing=!0,this.emit("changed",t._isSyncing),"function"==typeof this.callback&&this.callback(null,t._isSyncing,this),setTimeout((function(){t.emit("data",e),"function"==typeof t.callback&&t.callback(null,e,t)}),0)):(this.emit("data",e),"function"==typeof t.callback&&this.callback(null,e,this),clearTimeout(this._isSyncingTimeout),this._isSyncingTimeout=setTimeout((function(){e.currentBlock>e.highestBlock-200&&(t._isSyncing=!1,t.emit("changed",t._isSyncing),"function"==typeof t.callback&&t.callback(null,t._isSyncing,t))}),500))}}}})];L.forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager,e.accounts),t.defaultBlock=e.defaultBlock,t.defaultAccount=e.defaultAccount,t.transactionBlockTimeout=e.transactionBlockTimeout,t.transactionConfirmationBlocks=e.transactionConfirmationBlocks,t.transactionPollingTimeout=e.transactionPollingTimeout,t.transactionPollingInterval=e.transactionPollingInterval,t.handleRevert=e.handleRevert}))};r.addProviders(E),e.exports=E},11324:(e,t,n)=>{"use strict";var r=n(92928),i=n(93952),s=n(18269),o=function(){var e=this;r.packageInit(this,arguments),[new i({name:"getId",call:"net_version",params:0,outputFormatter:parseInt}),new i({name:"isListening",call:"net_listening",params:0}),new i({name:"getPeerCount",call:"net_peerCount",params:0,outputFormatter:s.hexToNumber})].forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}))};r.addProviders(o),e.exports=o},3283:(e,t,n)=>{"use strict";var r=n(71607).version,i=n(92928),s=n(27646),o=n(11324),a=n(15868),c=n(9886),l=n(63583),u=n(18269),h=function(){var e=this;i.packageInit(this,arguments),this.version=r,this.utils=u,this.eth=new s(this),this.shh=new c(this),this.bzz=new l(this);var t=this.setProvider;this.setProvider=function(n,r){return t.apply(e,arguments),e.eth.setRequestManager(e._requestManager),e.shh.setRequestManager(e._requestManager),e.bzz.setProvider(n),!0}};h.version=r,h.utils=u,h.modules={Eth:s,Net:o,Personal:a,Shh:c,Bzz:l},i.addProviders(h),e.exports=h},70672:(e,t,n)=>{"use strict";n.d(t,{AV:()=>o,ConfigCtrl:()=>f,ExplorerCtrl:()=>I,OptionsCtrl:()=>d,ThemeCtrl:()=>R,ToastCtrl:()=>D,jb:()=>O,uA:()=>u,zv:()=>a});var r=n(96828),i=n(48764);const s=(0,r.sj)({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),o={state:s,subscribe:e=>(0,r.Ld)(s,(()=>e(s))),push(e,t){e!==s.view&&(s.view=e,t&&(s.data=t),s.history.push(e))},reset(e){s.view=e,s.history=[e]},replace(e){s.history.length>1&&(s.history[s.history.length-1]=e,s.view=e)},goBack(){if(s.history.length>1){s.history.pop();const[e]=s.history.slice(-1);s.view=e}},setData(e){s.data=e}},a={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>a.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return a.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,formatNativeUrl(e,t,n){if(a.isHttpUrl(e))return this.formatUniversalUrl(e,t,n);let r=e;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,n){if(!a.isHttpUrl(e))return this.formatNativeUrl(e,t,n);let r=e;r.endsWith("/")||(r=`${r}/`),this.setWalletConnectDeepLink(r,n);return`${r}wc?uri=${encodeURIComponent(t)}`},wait:async e=>new Promise((t=>{setTimeout(t,e)})),openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(a.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(a.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{}},removeWalletConnectDeepLink(){try{localStorage.removeItem(a.WALLETCONNECT_DEEPLINK_CHOICE)}catch{}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(a.WCM_VERSION,"2.5.9")}catch{}},getWalletRouterData(){var e;const t=null==(e=o.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},c=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),l=(0,r.sj)({enabled:c,userSessionId:"",events:[],connectedWalletId:void 0}),u={state:l,subscribe:e=>(0,r.Ld)(l.events,(()=>e((0,r.CO)(l.events[l.events.length-1])))),initialize(){l.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(l.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){l.connectedWalletId=e},click(e){if(l.enabled){const t={type:"CLICK",name:e.name,userSessionId:l.userSessionId,timestamp:Date.now(),data:e};l.events.push(t)}},track(e){if(l.enabled){const t={type:"TRACK",name:e.name,userSessionId:l.userSessionId,timestamp:Date.now(),data:e};l.events.push(t)}},view(e){if(l.enabled){const t={type:"VIEW",name:e.name,userSessionId:l.userSessionId,timestamp:Date.now(),data:e};l.events.push(t)}}},h=(0,r.sj)({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),d={state:h,subscribe:e=>(0,r.Ld)(h,(()=>e(h))),setChains(e){h.chains=e},setWalletConnectUri(e){h.walletConnectUri=e},setIsCustomDesktop(e){h.isCustomDesktop=e},setIsCustomMobile(e){h.isCustomMobile=e},setIsDataLoaded(e){h.isDataLoaded=e},setIsUiLoaded(e){h.isUiLoaded=e},setIsAuth(e){h.isAuth=e}},p=(0,r.sj)({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),f={state:p,subscribe:e=>(0,r.Ld)(p,(()=>e(p))),setConfig(e){var t,n;u.initialize(),d.setChains(e.chains),d.setIsAuth(Boolean(e.enableAuthMode)),d.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),d.setIsCustomDesktop(Boolean(null==(n=e.desktopWallets)?void 0:n.length)),a.setModalVersionInStorage(),Object.assign(p,e)}},g="https://explorer-api.walletconnect.com";async function m(e,t){const n=new URL(e,g);return n.searchParams.append("projectId",f.state.projectId),Object.entries(t).forEach((([e,t])=>{t&&n.searchParams.append(e,String(t))})),(await fetch(n)).json()}const w={getDesktopListings:async e=>m("/w3m/v1/getDesktopListings",e),getMobileListings:async e=>m("/w3m/v1/getMobileListings",e),getInjectedListings:async e=>m("/w3m/v1/getInjectedListings",e),getAllListings:async e=>m("/w3m/v1/getAllListings",e),getWalletImageUrl:e=>`${g}/w3m/v1/getWalletImage/${e}?projectId=${f.state.projectId}`,getAssetImageUrl:e=>`${g}/w3m/v1/getAssetImage/${e}?projectId=${f.state.projectId}`};var y=Object.defineProperty,v=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,E=(e,t,n)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const x=a.isMobile(),C=(0,r.sj)({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),I={state:C,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=f.state;if("NONE"===e||"ALL"===t&&!e)return C.recomendedWallets;if(a.isArray(e)){const t={recommendedIds:e.join(",")},{listings:n}=await w.getAllListings(t),r=Object.values(n);r.sort(((t,n)=>e.indexOf(t.id)-e.indexOf(n.id))),C.recomendedWallets=r}else{const{chains:e,isAuth:n}=d.state,r=e?.join(","),i=a.isArray(t),s={page:1,sdks:n?"auth_v1":void 0,entries:a.RECOMMENDED_WALLET_AMOUNT,chains:r,version:2,excludedIds:i?t.join(","):void 0},{listings:o}=x?await w.getMobileListings(s):await w.getDesktopListings(s);C.recomendedWallets=Object.values(o)}return C.recomendedWallets},async getWallets(e){const t=((e,t)=>{for(var n in t||(t={}))b.call(t,n)&&E(e,n,t[n]);if(v)for(var n of v(t))_.call(t,n)&&E(e,n,t[n]);return e})({},e),{explorerRecommendedWalletIds:n,explorerExcludedWalletIds:r}=f.state,{recomendedWallets:i}=C;if("ALL"===r)return C.wallets;i.length?t.excludedIds=i.map((e=>e.id)).join(","):a.isArray(n)&&(t.excludedIds=n.join(",")),a.isArray(r)&&(t.excludedIds=[t.excludedIds,r].filter(Boolean).join(",")),d.state.isAuth&&(t.sdks="auth_v1");const{page:s,search:o}=e,{listings:c,total:l}=x?await w.getMobileListings(t):await w.getDesktopListings(t),u=Object.values(c),h=o?"search":"wallets";return C[h]={listings:[...C[h].listings,...u],total:l,page:s??1},{listings:u,total:l}},getWalletImageUrl:e=>w.getWalletImageUrl(e),getAssetImageUrl:e=>w.getAssetImageUrl(e),resetSearch(){C.search={listings:[],total:0,page:1}}},S=(0,r.sj)({open:!1}),O={state:S,subscribe:e=>(0,r.Ld)(S,(()=>e(S))),open:async e=>new Promise((t=>{const{isUiLoaded:n,isDataLoaded:r}=d.state;if(d.setWalletConnectUri(e?.uri),d.setChains(e?.chains),o.reset("ConnectWallet"),n&&r)S.open=!0,t();else{const e=setInterval((()=>{const n=d.state;n.isUiLoaded&&n.isDataLoaded&&(clearInterval(e),S.open=!0,t())}),200)}})),close(){S.open=!1}};var k=Object.defineProperty,P=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const T=(0,r.sj)({themeMode:typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),R={state:T,subscribe:e=>(0,r.Ld)(T,(()=>e(T))),setThemeConfig(e){const{themeMode:t,themeVariables:n}=e;t&&(T.themeMode=t),n&&(T.themeVariables=((e,t)=>{for(var n in t||(t={}))A.call(t,n)&&M(e,n,t[n]);if(P)for(var n of P(t))N.call(t,n)&&M(e,n,t[n]);return e})({},n))}},L=(0,r.sj)({open:!1,message:"",variant:"success"}),D={state:L,subscribe:e=>(0,r.Ld)(L,(()=>e(L))),openToast(e,t){L.open=!0,L.message=e,L.variant=t},closeToast(){L.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=i.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}),window.global||(window.global=window))},68189:(e,t,n)=>{"use strict";n.r(t),n.d(t,{WcmModal:()=>yt,WcmQrCode:()=>pe});var r=n(9392),i=n(77408),s=n(90623),o=n(70672),a=n(33692),c=n(4213),l=n(70796),u=n(92592),h=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(d)for(var n of d(t))f.call(t,n)&&g(e,n,t[n]);return e};const w={getPreset:e=>({"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}[e]),setTheme(){const e=document.querySelector(":root"),{themeVariables:t}=o.ThemeCtrl.state;if(e){const n=m(m(m({},function(){var e;const t={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[null!=(e=o.ThemeCtrl.state.themeMode)?e:"dark"];return{"--wcm-color-fg-1":t.foreground[1],"--wcm-color-fg-2":t.foreground[2],"--wcm-color-fg-3":t.foreground[3],"--wcm-color-bg-1":t.background[1],"--wcm-color-bg-2":t.background[2],"--wcm-color-bg-3":t.background[3],"--wcm-color-overlay":t.overlay}}()),{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}),t);Object.entries(n).forEach((([t,n])=>e.style.setProperty(t,n)))}},globalCss:r.iv`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},y=r.iv`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var v=Object.defineProperty,b=Object.getOwnPropertyDescriptor,_=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?b(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&v(t,n,s),s};let E=class extends r.oi{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const e={"wcm-icon-left":void 0!==this.iconLeft,"wcm-icon-right":void 0!==this.iconRight,"wcm-ghost":"ghost"===this.variant,"wcm-outline":"outline"===this.variant};let t="inverse";return"ghost"===this.variant&&(t="secondary"),"outline"===this.variant&&(t="accent"),r.dy`<button class="${(0,s.$)(e)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${t}"><slot></slot></wcm-text>${this.iconRight}</button>`}};E.styles=[w.globalCss,y],_([(0,i.Cb)({type:Boolean})],E.prototype,"disabled",2),_([(0,i.Cb)()],E.prototype,"iconLeft",2),_([(0,i.Cb)()],E.prototype,"iconRight",2),_([(0,i.Cb)()],E.prototype,"onClick",2),_([(0,i.Cb)()],E.prototype,"variant",2),E=_([(0,i.Mo)("wcm-button")],E);const x=r.iv`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var C=Object.defineProperty,I=Object.getOwnPropertyDescriptor,S=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?I(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&C(t,n,s),s};let O=class extends r.oi{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const e={"wcm-secondary":"secondary"===this.variant};return r.dy`<button ?disabled="${this.disabled}" class="${(0,s.$)(e)}"><slot></slot></button>`}};O.styles=[w.globalCss,x],S([(0,i.Cb)({type:Boolean})],O.prototype,"disabled",2),S([(0,i.Cb)()],O.prototype,"variant",2),O=S([(0,i.Mo)("wcm-button-big")],O);const k=r.iv`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var P=Object.defineProperty,A=Object.getOwnPropertyDescriptor;let N=class extends r.oi{render(){return r.dy`<div><slot></slot></div>`}};N.styles=[w.globalCss,k],N=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?A(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&P(t,n,s),s})([(0,i.Mo)("wcm-info-footer")],N);const M={CROSS_ICON:a.YP`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:a.YP`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:a.YP`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:a.YP`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:a.YP`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:a.YP`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:a.YP`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:a.YP`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:a.YP`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:a.YP`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:a.YP`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:a.YP`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:a.YP`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:a.YP`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:a.YP`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:a.YP`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:a.YP`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:a.YP`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},T=r.iv`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var R=Object.defineProperty,L=Object.getOwnPropertyDescriptor;let D=class extends r.oi{render(){return r.dy`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${M.WALLET_CONNECT_LOGO} <button @click="${o.jb.close}">${M.CROSS_ICON}</button></div>`}};D.styles=[w.globalCss,T],D=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?L(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&R(t,n,s),s})([(0,i.Mo)("wcm-modal-backcard")],D);const j=r.iv`main{padding:20px;padding-top:0;width:100%}`;var U=Object.defineProperty,B=Object.getOwnPropertyDescriptor;let $=class extends r.oi{render(){return r.dy`<main><slot></slot></main>`}};$.styles=[w.globalCss,j],$=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?B(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&U(t,n,s),s})([(0,i.Mo)("wcm-modal-content")],$);const z=r.iv`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var q=Object.defineProperty,W=Object.getOwnPropertyDescriptor;let F=class extends r.oi{render(){return r.dy`<footer><slot></slot></footer>`}};F.styles=[w.globalCss,z],F=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?W(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&q(t,n,s),s})([(0,i.Mo)("wcm-modal-footer")],F);const H=r.iv`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var V=Object.defineProperty,K=Object.getOwnPropertyDescriptor,G=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?K(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&V(t,n,s),s};let Z=class extends r.oi{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return r.dy`<button class="wcm-back-btn" @click="${o.AV.goBack}">${M.BACK_ICON}</button>`}actionBtnTemplate(){return r.dy`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const e={"wcm-border":this.border},t=o.AV.state.history.length>1,n=this.title?r.dy`<wcm-text variant="big-bold">${this.title}</wcm-text>`:r.dy`<slot></slot>`;return r.dy`<header class="${(0,s.$)(e)}">${t?this.backBtnTemplate():null} ${n} ${this.onAction?this.actionBtnTemplate():null}</header>`}};Z.styles=[w.globalCss,H],G([(0,i.Cb)()],Z.prototype,"title",2),G([(0,i.Cb)()],Z.prototype,"onAction",2),G([(0,i.Cb)()],Z.prototype,"actionIcon",2),G([(0,i.Cb)({type:Boolean})],Z.prototype,"border",2),Z=G([(0,i.Mo)("wcm-modal-header")],Z);const Y={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(e,t){const n=e.renderRoot.querySelector(t);if(!n)throw new Error(`${t} not found`);return n},getWalletIcon({id:e,image_id:t}){const{walletImages:n}=o.ConfigCtrl.state;return null!=n&&n[e]?n[e]:t?o.ExplorerCtrl.getWalletImageUrl(t):""},getWalletName:(e,t=!1)=>t?e.split(" ")[0]:e,isMobileAnimation:()=>window.innerWidth<=Y.MOBILE_BREAKPOINT,async preloadImage(e){const t=new Promise(((t,n)=>{const r=new Image;r.onload=t,r.onerror=n,r.src=e}));return Promise.race([t,o.zv.wait(3e3)])},getErrorMessage:e=>e instanceof Error?e.message:"Unknown Error",debounce(e,t=500){let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout((function(){e(...r)}),t)}},handleMobileLinking(e){const{walletConnectUri:t}=o.OptionsCtrl.state,{mobile:n,name:r}=e,i=n?.native,s=n?.universal;Y.setRecentWallet(e),t&&function(e){let t="";i?t=o.zv.formatUniversalUrl(i,e,r):s&&(t=o.zv.formatNativeUrl(s,e,r)),o.zv.openHref(t,"_self")}(t)},handleAndroidLinking(){const{walletConnectUri:e}=o.OptionsCtrl.state;e&&(o.zv.setWalletConnectAndroidDeepLink(e),o.zv.openHref(e,"_self"))},async handleUriCopy(){const{walletConnectUri:e}=o.OptionsCtrl.state;if(e)try{await navigator.clipboard.writeText(e),o.ToastCtrl.openToast("Link copied","success")}catch{o.ToastCtrl.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:e}=o.ConfigCtrl.state,t=Object.values(e??{});return Object.values(t)},truncate:(e,t=8)=>e.length<=t?e:`${e.substring(0,4)}...${e.substring(e.length-4)}`,setRecentWallet(e){try{localStorage.setItem(Y.WCM_RECENT_WALLET_DATA,JSON.stringify(e))}catch{}},getRecentWallet(){try{const e=localStorage.getItem(Y.WCM_RECENT_WALLET_DATA);return e?JSON.parse(e):void 0}catch{}},caseSafeIncludes:(e,t)=>e.toUpperCase().includes(t.toUpperCase()),openWalletExplorerUrl(){o.zv.openHref(Y.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:e,mobile:t}=o.zv.getWalletRouterData(),n=Boolean(e?.native),r=Boolean(e?.universal);return{isDesktop:n,isMobile:Boolean(t?.native)||Boolean(t?.universal),isWeb:r}},goToConnectingView(e){o.AV.setData({Wallet:e});const t=o.zv.isMobile(),{isDesktop:n,isWeb:r,isMobile:i}=Y.getCachedRouterWalletPlatforms();t?i?o.AV.push("MobileConnecting"):r?o.AV.push("WebConnecting"):o.AV.push("InstallWallet"):n?o.AV.push("DesktopConnecting"):r?o.AV.push("WebConnecting"):i?o.AV.push("MobileQrcodeConnecting"):o.AV.push("InstallWallet")}},Q=r.iv`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var J=Object.defineProperty,X=Object.getOwnPropertyDescriptor,ee=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?X(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&J(t,n,s),s};let te=class extends r.oi{constructor(){super(),this.view=o.AV.state.view,this.prevView=o.AV.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=o.AV.subscribe((e=>{this.view!==e.view&&this.onChangeRoute()}))}firstUpdated(){this.resizeObserver=new ResizeObserver((([e])=>{const t=`${e.contentRect.height}px`;"0px"!==this.oldHeight&&(0,c.j)(this.routerEl,{height:[this.oldHeight,t]},{duration:.2}),this.oldHeight=t})),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var e,t;null==(e=this.unsubscribe)||e.call(this),null==(t=this.resizeObserver)||t.disconnect()}get routerEl(){return Y.getShadowRootElement(this,".wcm-router")}get contentEl(){return Y.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return r.dy`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return r.dy`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return r.dy`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return r.dy`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return r.dy`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return r.dy`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return r.dy`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return r.dy`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return r.dy`<div>Not Found</div>`}}async onChangeRoute(){await(0,c.j)(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=o.AV.state.view,(0,c.j)(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return r.dy`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};te.styles=[w.globalCss,Q],ee([(0,i.SB)()],te.prototype,"view",2),ee([(0,i.SB)()],te.prototype,"prevView",2),te=ee([(0,i.Mo)("wcm-modal-router")],te);const ne=r.iv`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var re=Object.defineProperty,ie=Object.getOwnPropertyDescriptor,se=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?ie(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&re(t,n,s),s};let oe=class extends r.oi{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=o.ToastCtrl.subscribe((e=>{e.open?(this.open=!0,this.timeout=setTimeout((()=>o.ToastCtrl.closeToast()),2200)):(this.open=!1,clearTimeout(this.timeout))}))}disconnectedCallback(){var e;null==(e=this.unsubscribe)||e.call(this),clearTimeout(this.timeout),o.ToastCtrl.closeToast()}render(){const{message:e,variant:t}=o.ToastCtrl.state,n={"wcm-success":"success"===t,"wcm-error":"error"===t};return this.open?r.dy`<div class="${(0,s.$)(n)}">${"success"===t?M.CHECKMARK_ICON:null} ${"error"===t?M.CROSS_ICON:null}<wcm-text variant="small-regular">${e}</wcm-text></div>`:null}};oe.styles=[w.globalCss,ne],se([(0,i.SB)()],oe.prototype,"open",2),oe=se([(0,i.Mo)("wcm-modal-toast")],oe);function ae(e,t,n){return e!==t&&(e-t<0?t-e:e-t)<=n+.1}const ce={generate(e,t,n){const i="#141414",s=[],o=function(e,t){const n=Array.prototype.slice.call(u.create(e,{errorCorrectionLevel:t}).modules.data,0),r=Math.sqrt(n.length);return n.reduce(((e,t,n)=>(n%r==0?e.push([t]):e[e.length-1].push(t))&&e),[])}(e,"Q"),a=t/o.length,c=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];c.forEach((({x:e,y:t})=>{const n=(o.length-7)*a*e,l=(o.length-7)*a*t;for(let e=0;e<c.length;e+=1){const t=a*(7-2*e);s.push(r.YP`<rect fill="${e%2==0?i:"#ffffff"}" height="${t}" rx="${.45*t}" ry="${.45*t}" width="${t}" x="${n+a*e}" y="${l+a*e}">`)}}));const l=Math.floor((n+25)/a),h=o.length/2-l/2,d=o.length/2+l/2-1,p=[];o.forEach(((e,t)=>{e.forEach(((e,n)=>{if(o[t][n]&&!(t<7&&n<7||t>o.length-8&&n<7||t<7&&n>o.length-8)&&!(t>h&&t<d&&n>h&&n<d)){const e=t*a+a/2,r=n*a+a/2;p.push([e,r])}}))}));const f={};return p.forEach((([e,t])=>{f[e]?f[e].push(t):f[e]=[t]})),Object.entries(f).map((([e,t])=>{const n=t.filter((e=>t.every((t=>!ae(e,t,a)))));return[Number(e),n]})).forEach((([e,t])=>{t.forEach((t=>{s.push(r.YP`<circle cx="${e}" cy="${t}" fill="${i}" r="${a/2.5}">`)}))})),Object.entries(f).filter((([e,t])=>t.length>1)).map((([e,t])=>{const n=t.filter((e=>t.some((t=>ae(e,t,a)))));return[Number(e),n]})).map((([e,t])=>{t.sort(((e,t)=>e<t?-1:1));const n=[];for(const e of t){const t=n.find((t=>t.some((t=>ae(e,t,a)))));t?t.push(e):n.push([e])}return[e,n.map((e=>[e[0],e[e.length-1]]))]})).forEach((([e,t])=>{t.forEach((([t,n])=>{s.push(r.YP`<line x1="${e}" x2="${e}" y1="${t}" y2="${n}" stroke="${i}" stroke-width="${a/1.25}" stroke-linecap="round">`)}))})),s}},le=r.iv`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var ue=Object.defineProperty,he=Object.getOwnPropertyDescriptor,de=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?he(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&ue(t,n,s),s};let pe=class extends r.oi{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const e="light"===o.ThemeCtrl.state.themeMode?this.size:this.size-36;return r.YP`<svg height="${e}" width="${e}">${ce.generate(this.uri,e,e/4)}</svg>`}render(){const e={"wcm-dark":"dark"===o.ThemeCtrl.state.themeMode};return r.dy`<div style="${`width: ${this.size}px`}" class="${(0,s.$)(e)}">${this.walletId||this.imageUrl?r.dy`<wcm-wallet-image walletId="${(0,l.o)(this.walletId)}" imageId="${(0,l.o)(this.imageId)}" imageUrl="${(0,l.o)(this.imageUrl)}"></wcm-wallet-image>`:M.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};pe.styles=[w.globalCss,le],de([(0,i.Cb)()],pe.prototype,"uri",2),de([(0,i.Cb)({type:Number})],pe.prototype,"size",2),de([(0,i.Cb)()],pe.prototype,"imageId",2),de([(0,i.Cb)()],pe.prototype,"walletId",2),de([(0,i.Cb)()],pe.prototype,"imageUrl",2),pe=de([(0,i.Mo)("wcm-qrcode")],pe);const fe=r.iv`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var ge=Object.defineProperty,me=Object.getOwnPropertyDescriptor,we=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?me(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&ge(t,n,s),s};let ye=class extends r.oi{constructor(){super(...arguments),this.onChange=()=>null}render(){return r.dy`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${M.SEARCH_ICON}`}};ye.styles=[w.globalCss,fe],we([(0,i.Cb)()],ye.prototype,"onChange",2),ye=we([(0,i.Mo)("wcm-search-input")],ye);const ve=r.iv`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var be=Object.defineProperty,_e=Object.getOwnPropertyDescriptor;let Ee=class extends r.oi{render(){return r.dy`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};Ee.styles=[w.globalCss,ve],Ee=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?_e(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&be(t,n,s),s})([(0,i.Mo)("wcm-spinner")],Ee);const xe=r.iv`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var Ce=Object.defineProperty,Ie=Object.getOwnPropertyDescriptor,Se=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?Ie(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Ce(t,n,s),s};let Oe=class extends r.oi{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const e={"wcm-big-bold":"big-bold"===this.variant,"wcm-medium-regular":"medium-regular"===this.variant,"wcm-small-regular":"small-regular"===this.variant,"wcm-small-thin":"small-thin"===this.variant,"wcm-xsmall-regular":"xsmall-regular"===this.variant,"wcm-xsmall-bold":"xsmall-bold"===this.variant,"wcm-color-primary":"primary"===this.color,"wcm-color-secondary":"secondary"===this.color,"wcm-color-tertiary":"tertiary"===this.color,"wcm-color-inverse":"inverse"===this.color,"wcm-color-accnt":"accent"===this.color,"wcm-color-error":"error"===this.color};return r.dy`<span><slot class="${(0,s.$)(e)}"></slot></span>`}};Oe.styles=[w.globalCss,xe],Se([(0,i.Cb)()],Oe.prototype,"variant",2),Se([(0,i.Cb)()],Oe.prototype,"color",2),Oe=Se([(0,i.Mo)("wcm-text")],Oe);const ke=r.iv`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var Pe=Object.defineProperty,Ae=Object.getOwnPropertyDescriptor,Ne=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?Ae(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Pe(t,n,s),s};let Me=class extends r.oi{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?r.dy`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?r.dy`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){o.uA.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var e;return r.dy`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${(0,l.o)(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${null!=(e=this.label)?e:Y.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};Me.styles=[w.globalCss,ke],Ne([(0,i.Cb)()],Me.prototype,"onClick",2),Ne([(0,i.Cb)()],Me.prototype,"name",2),Ne([(0,i.Cb)()],Me.prototype,"walletId",2),Ne([(0,i.Cb)()],Me.prototype,"label",2),Ne([(0,i.Cb)()],Me.prototype,"imageId",2),Ne([(0,i.Cb)({type:Boolean})],Me.prototype,"installed",2),Ne([(0,i.Cb)({type:Boolean})],Me.prototype,"recent",2),Me=Ne([(0,i.Mo)("wcm-wallet-button")],Me);const Te=r.iv`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var Re=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,De=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?Le(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Re(t,n,s),s};let je=class extends r.oi{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var e;const t=null!=(e=this.imageUrl)&&e.length?this.imageUrl:Y.getWalletIcon({id:this.walletId,image_id:this.imageId});return r.dy`${t.length?r.dy`<div><img src="${t}" alt="${this.id}"></div>`:M.WALLET_PLACEHOLDER}`}};je.styles=[w.globalCss,Te],De([(0,i.Cb)()],je.prototype,"walletId",2),De([(0,i.Cb)()],je.prototype,"imageId",2),De([(0,i.Cb)()],je.prototype,"imageUrl",2),je=De([(0,i.Mo)("wcm-wallet-image")],je);var Ue=Object.defineProperty,Be=Object.getOwnPropertyDescriptor,$e=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?Be(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Ue(t,n,s),s};let ze=class extends r.oi{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(e){try{null!=e&&e.length&&await Promise.all(e.map((async e=>Y.preloadImage(e))))}catch{}}async preloadListings(){if(o.ConfigCtrl.state.enableExplorer){await o.ExplorerCtrl.getRecomendedWallets(),o.OptionsCtrl.setIsDataLoaded(!0);const{recomendedWallets:e}=o.ExplorerCtrl.state,t=e.map((e=>Y.getWalletIcon(e)));await this.loadImages(t)}else o.OptionsCtrl.setIsDataLoaded(!0)}async preloadCustomImages(){const e=Y.getCustomImageUrls();await this.loadImages(e)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(e){o.ToastCtrl.openToast("Failed preloading","error")}}};$e([(0,i.SB)()],ze.prototype,"preload",2),ze=$e([(0,i.Mo)("wcm-explorer-context")],ze);var qe=Object.defineProperty,We=Object.getOwnPropertyDescriptor;let Fe=class extends r.oi{constructor(){super(),this.unsubscribeTheme=void 0,w.setTheme(),this.unsubscribeTheme=o.ThemeCtrl.subscribe(w.setTheme)}disconnectedCallback(){var e;null==(e=this.unsubscribeTheme)||e.call(this)}};Fe=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?We(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&qe(t,n,s),s})([(0,i.Mo)("wcm-theme-context")],Fe);const He=r.iv`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var Ve=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor;let Ge=class extends r.oi{onGoToQrcode(){o.AV.push("Qrcode")}render(){const{recomendedWallets:e}=o.ExplorerCtrl.state,t=[...e,...e],n=2*o.zv.RECOMMENDED_WALLET_AMOUNT;return r.dy`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${M.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${M.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(n)].map(((e,n)=>{const i=t[n%t.length];return i?r.dy`<wcm-wallet-image walletId="${i.id}" imageId="${i.image_id}"></wcm-wallet-image>`:M.WALLET_PLACEHOLDER}))}</div><wcm-button-big @click="${Y.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};Ge.styles=[w.globalCss,He],Ge=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?Ke(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Ve(t,n,s),s})([(0,i.Mo)("wcm-android-wallet-selection")],Ge);const Ze=r.iv`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var Ye=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor,Je=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?Qe(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Ye(t,n,s),s};let Xe=class extends r.oi{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var e,t;const n=null!=(t=null==(e=o.ThemeCtrl.state.themeVariables)?void 0:e["--wcm-wallet-icon-large-border-radius"])?t:w.getPreset("--wcm-wallet-icon-large-border-radius");let i=0;i=n.includes("%")?.88*parseInt(n,10):parseInt(n,10),i*=1.17;const s=317-1.57*i,a=425-1.8*i;return r.dy`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${i}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${s}" stroke-dashoffset="${a}"></use></svg>`}render(){const e={"wcm-error":this.isError,"wcm-stale":this.isStale};return r.dy`<div class="${(0,s.$)(e)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${(0,l.o)(this.walletId)}" imageId="${(0,l.o)(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};Xe.styles=[w.globalCss,Ze],Je([(0,i.Cb)()],Xe.prototype,"walletId",2),Je([(0,i.Cb)()],Xe.prototype,"imageId",2),Je([(0,i.Cb)({type:Boolean})],Xe.prototype,"isError",2),Je([(0,i.Cb)({type:Boolean})],Xe.prototype,"isStale",2),Je([(0,i.Cb)()],Xe.prototype,"label",2),Xe=Je([(0,i.Mo)("wcm-connector-waiting")],Xe);const et={manualWallets(){var e,t;const{mobileWallets:n,desktopWallets:r}=o.ConfigCtrl.state,i=null==(e=et.recentWallet())?void 0:e.id,s=o.zv.isMobile()?n:r,a=s?.filter((e=>i!==e.id));return null!=(t=o.zv.isMobile()?a?.map((({id:e,name:t,links:n})=>({id:e,name:t,mobile:n,links:n}))):a?.map((({id:e,name:t,links:n})=>({id:e,name:t,desktop:n,links:n}))))?t:[]},recentWallet:()=>Y.getRecentWallet(),recomendedWallets(e=!1){var t;const n=e||null==(t=et.recentWallet())?void 0:t.id,{recomendedWallets:r}=o.ExplorerCtrl.state;return r.filter((e=>n!==e.id))}},tt={onConnecting(e){Y.goToConnectingView(e)},manualWalletsTemplate(){return et.manualWallets().map((e=>r.dy`<wcm-wallet-button walletId="${e.id}" name="${e.name}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`))},recomendedWalletsTemplate(e=!1){return et.recomendedWallets(e).map((e=>r.dy`<wcm-wallet-button name="${e.name}" walletId="${e.id}" imageId="${e.image_id}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`))},recentWalletTemplate(){const e=et.recentWallet();if(e)return r.dy`<wcm-wallet-button name="${e.name}" walletId="${e.id}" imageId="${(0,l.o)(e.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`}},nt=r.iv`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var rt=Object.defineProperty,it=Object.getOwnPropertyDescriptor;let st=class extends r.oi{render(){const{explorerExcludedWalletIds:e,enableExplorer:t}=o.ConfigCtrl.state,n="ALL"!==e&&t,i=tt.manualWalletsTemplate(),s=tt.recomendedWalletsTemplate();let a=[tt.recentWalletTemplate(),...i,...s];a=a.filter(Boolean);const c=a.length>4||n;let l=[];l=c?a.slice(0,3):a;const u=Boolean(l.length);return r.dy`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${Y.handleUriCopy}" .actionIcon="${M.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${M.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${M.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${u?r.dy`<wcm-modal-footer><div class="wcm-desktop-title">${M.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${l} ${c?r.dy`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};st.styles=[w.globalCss,nt],st=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?it(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&rt(t,n,s),s})([(0,i.Mo)("wcm-desktop-wallet-selection")],st);const ot=r.iv`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var at=Object.defineProperty,ct=Object.getOwnPropertyDescriptor;let lt=class extends r.oi{render(){const{termsOfServiceUrl:e,privacyPolicyUrl:t}=o.ConfigCtrl.state;return e??t?r.dy`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${e?r.dy`<a href="${e}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${e&&t?"and":null} ${t?r.dy`<a href="${t}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};lt.styles=[w.globalCss,ot],lt=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?ct(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&at(t,n,s),s})([(0,i.Mo)("wcm-legal-notice")],lt);const ut=r.iv`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var ht=Object.defineProperty,dt=Object.getOwnPropertyDescriptor;let pt=class extends r.oi{onQrcode(){o.AV.push("Qrcode")}render(){const{explorerExcludedWalletIds:e,enableExplorer:t}=o.ConfigCtrl.state,n="ALL"!==e&&t,i=tt.manualWalletsTemplate(),s=tt.recomendedWalletsTemplate();let a=[tt.recentWalletTemplate(),...i,...s];a=a.filter(Boolean);const c=a.length>8||n;let l=[];l=c?a.slice(0,7):a;const u=Boolean(l.length);return r.dy`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${M.QRCODE_ICON}"></wcm-modal-header>${u?r.dy`<wcm-modal-content><div>${l} ${c?r.dy`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};pt.styles=[w.globalCss,ut],pt=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?dt(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&ht(t,n,s),s})([(0,i.Mo)("wcm-mobile-wallet-selection")],pt);const ft=r.iv`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var gt=Object.defineProperty,mt=Object.getOwnPropertyDescriptor,wt=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?mt(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&gt(t,n,s),s};let yt=class extends r.oi{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=o.jb.subscribe((e=>{e.open?this.onOpenModalEvent():this.onCloseModalEvent()}))}disconnectedCallback(){var e;null==(e=this.unsubscribeModal)||e.call(this)}get overlayEl(){return Y.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return Y.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(e){if(document.querySelector("body"))if(e){const e=document.getElementById("wcm-styles");e?.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(e){e.target===e.currentTarget&&o.jb.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout((async()=>{const e=Y.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]};await Promise.all([(0,c.j)(this.overlayEl,{opacity:[0,1]},{delay:.1,duration:.2}).finished,(0,c.j)(this.containerEl,e,{delay:.1,duration:.2}).finished]),this.active=!0}),0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const e=Y.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]};await Promise.all([(0,c.j)(this.overlayEl,{opacity:[1,0]},{duration:.2}).finished,(0,c.j)(this.containerEl,e,{duration:.2}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",(e=>{var t;"Escape"===e.key?o.jb.close():"Tab"===e.key&&(null!=(t=e.target)&&t.tagName.includes("wcm-")||this.containerEl.focus())}),this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var e;null==(e=this.abortController)||e.abort(),this.abortController=void 0}render(){const e={"wcm-overlay":!0,"wcm-active":this.active};return r.dy`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${(0,s.$)(e)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?r.dy`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};yt.styles=[w.globalCss,ft],wt([(0,i.SB)()],yt.prototype,"open",2),wt([(0,i.SB)()],yt.prototype,"active",2),yt=wt([(0,i.Mo)("wcm-modal")],yt);const vt=r.iv`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var bt=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,Et=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?_t(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&bt(t,n,s),s};let xt=class extends r.oi{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){o.zv.isMobile()?o.AV.replace("MobileConnecting"):o.AV.replace("MobileQrcodeConnecting")}onDesktop(){o.AV.replace("DesktopConnecting")}onWeb(){o.AV.replace("WebConnecting")}render(){return r.dy`<div>${this.isRetry?r.dy`<slot></slot>`:null} ${this.isMobile?r.dy`<wcm-button .onClick="${this.onMobile}" .iconLeft="${M.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?r.dy`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${M.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?r.dy`<wcm-button .onClick="${this.onWeb}" .iconLeft="${M.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};xt.styles=[w.globalCss,vt],Et([(0,i.Cb)({type:Boolean})],xt.prototype,"isMobile",2),Et([(0,i.Cb)({type:Boolean})],xt.prototype,"isDesktop",2),Et([(0,i.Cb)({type:Boolean})],xt.prototype,"isWeb",2),Et([(0,i.Cb)({type:Boolean})],xt.prototype,"isRetry",2),xt=Et([(0,i.Mo)("wcm-platform-selection")],xt);const Ct=r.iv`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var It=Object.defineProperty,St=Object.getOwnPropertyDescriptor;let Ot=class extends r.oi{onClick(){o.AV.push("WalletExplorer")}render(){const{recomendedWallets:e}=o.ExplorerCtrl.state,t=[...e,...et.manualWallets()].reverse().slice(0,4);return r.dy`<button @click="${this.onClick}"><div class="wcm-icons">${t.map((e=>{const t=Y.getWalletIcon(e);if(t)return r.dy`<img src="${t}">`;const n=Y.getWalletIcon({id:e.id});return n?r.dy`<img src="${n}">`:M.WALLET_PLACEHOLDER}))} ${[...Array(4-t.length)].map((()=>M.WALLET_PLACEHOLDER))}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};Ot.styles=[w.globalCss,Ct],Ot=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?St(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&It(t,n,s),s})([(0,i.Mo)("wcm-view-all-wallets-button")],Ot);const kt=r.iv`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var Pt=Object.defineProperty,At=Object.getOwnPropertyDescriptor,Nt=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?At(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Pt(t,n,s),s};let Mt=class extends r.oi{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout((()=>{const{walletConnectUri:e}=o.OptionsCtrl.state;this.uri=e}),0)}get overlayEl(){return Y.getShadowRootElement(this,".wcm-qr-container")}render(){return r.dy`<div class="wcm-qr-container">${this.uri?r.dy`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${(0,l.o)(this.walletId)}" imageId="${(0,l.o)(this.imageId)}"></wcm-qrcode>`:r.dy`<wcm-spinner></wcm-spinner>`}</div>`}};Mt.styles=[w.globalCss,kt],Nt([(0,i.Cb)()],Mt.prototype,"walletId",2),Nt([(0,i.Cb)()],Mt.prototype,"imageId",2),Nt([(0,i.SB)()],Mt.prototype,"uri",2),Mt=Nt([(0,i.Mo)("wcm-walletconnect-qr")],Mt);var Tt=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor;let Lt=class extends r.oi{viewTemplate(){return o.zv.isAndroid()?r.dy`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:o.zv.isMobile()?r.dy`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:r.dy`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return r.dy`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};Lt.styles=[w.globalCss],Lt=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?Rt(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Tt(t,n,s),s})([(0,i.Mo)("wcm-connect-wallet-view")],Lt);const Dt=r.iv`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var jt=Object.defineProperty,Ut=Object.getOwnPropertyDescriptor,Bt=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?Ut(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&jt(t,n,s),s};let $t=class extends r.oi{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(e){const{desktop:t,name:n}=o.zv.getWalletRouterData(),r=t?.native;if(r){const t=o.zv.formatNativeUrl(r,e,n);o.zv.openHref(t,"_self")}}openDesktopApp(){const{walletConnectUri:e}=o.OptionsCtrl.state,t=o.zv.getWalletRouterData();Y.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}render(){const{name:e,id:t,image_id:n}=o.zv.getWalletRouterData(),{isMobile:i,isWeb:s}=Y.getCachedRouterWalletPlatforms();return r.dy`<wcm-modal-header title="${e}" .onAction="${Y.handleUriCopy}" .actionIcon="${M.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${(0,l.o)(n)}" label="${`Continue in ${e}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${e} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isWeb="${s}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${M.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};$t.styles=[w.globalCss,Dt],Bt([(0,i.SB)()],$t.prototype,"isError",2),$t=Bt([(0,i.Mo)("wcm-desktop-connecting-view")],$t);const zt=r.iv`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var qt=Object.defineProperty,Wt=Object.getOwnPropertyDescriptor;let Ft=class extends r.oi{onInstall(e){e&&o.zv.openHref(e,"_blank")}render(){const{name:e,id:t,image_id:n,homepage:i}=o.zv.getWalletRouterData();return r.dy`<wcm-modal-header title="${e}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${(0,l.o)(n)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${e} to continue. If multiple browser extensions are installed, disable non ${e} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(i)}" .iconLeft="${M.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};Ft.styles=[w.globalCss,zt],Ft=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?Wt(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&qt(t,n,s),s})([(0,i.Mo)("wcm-install-wallet-view")],Ft);const Ht=r.iv`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var Vt=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,Gt=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?Kt(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Vt(t,n,s),s};let Zt=class extends r.oi{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(e,t=!1){const{mobile:n,name:r}=o.zv.getWalletRouterData(),i=n?.native,s=n?.universal;if(i&&!t){const t=o.zv.formatNativeUrl(i,e,r);o.zv.openHref(t,"_self")}else if(s){const t=o.zv.formatUniversalUrl(s,e,r);o.zv.openHref(t,"_self")}}openMobileApp(e=!1){const{walletConnectUri:t}=o.OptionsCtrl.state,n=o.zv.getWalletRouterData();Y.setRecentWallet(n),t&&this.onFormatAndRedirect(t,e)}onGoToAppStore(e){e&&o.zv.openHref(e,"_blank")}render(){const{name:e,id:t,image_id:n,app:i,mobile:s}=o.zv.getWalletRouterData(),{isWeb:a}=Y.getCachedRouterWalletPlatforms(),c=i?.ios,u=s?.universal;return r.dy`<wcm-modal-header title="${e}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${(0,l.o)(n)}" label="Tap 'Open' to continue…" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${a}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${M.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${u?r.dy`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${t}" imageId="${(0,l.o)(n)}"></wcm-wallet-image><wcm-text>${`Get ${e}`}</wcm-text></div><wcm-button .iconRight="${M.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(c)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};Zt.styles=[w.globalCss,Ht],Gt([(0,i.SB)()],Zt.prototype,"isError",2),Zt=Gt([(0,i.Mo)("wcm-mobile-connecting-view")],Zt);const Yt=r.iv`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var Qt=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor;let Xt=class extends r.oi{render(){const{name:e,id:t,image_id:n}=o.zv.getWalletRouterData(),{isDesktop:i,isWeb:s}=Y.getCachedRouterWalletPlatforms();return r.dy`<wcm-modal-header title="${e}" .onAction="${Y.handleUriCopy}" .actionIcon="${M.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${t}" imageId="${(0,l.o)(n)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${e} app`}</wcm-text><wcm-platform-selection .isDesktop="${i}" .isWeb="${s}"></wcm-platform-selection></wcm-info-footer>`}};Xt.styles=[w.globalCss,Yt],Xt=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?Jt(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&Qt(t,n,s),s})([(0,i.Mo)("wcm-mobile-qr-connecting-view")],Xt);var en=Object.defineProperty,tn=Object.getOwnPropertyDescriptor;let nn=class extends r.oi{render(){return r.dy`<wcm-modal-header title="Scan the code" .onAction="${Y.handleUriCopy}" .actionIcon="${M.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};nn.styles=[w.globalCss],nn=((e,t,n,r)=>{for(var i,s=r>1?void 0:r?tn(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&en(t,n,s),s})([(0,i.Mo)("wcm-qrcode-view")],nn);const rn=r.iv`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var sn=Object.defineProperty,on=Object.getOwnPropertyDescriptor,an=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?on(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&sn(t,n,s),s};let cn=class extends r.oi{constructor(){super(...arguments),this.loading=!o.ExplorerCtrl.state.wallets.listings.length,this.firstFetch=!o.ExplorerCtrl.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=Y.debounce((e=>{e.length>=3?(this.firstFetch=!0,this.endReached=!1,this.search=e,o.ExplorerCtrl.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),o.ExplorerCtrl.resetSearch())}))}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var e;null==(e=this.intersectionObserver)||e.disconnect()}get placeholderEl(){return Y.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver((([e])=>{e.isIntersecting&&(!this.search||!this.firstFetch)&&this.fetchWallets()})),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:e,search:t}=o.ExplorerCtrl.state,{listings:n,total:r}=this.search?t:e;return r<=40||n.length>=r}async fetchWallets(){var e;const{wallets:t,search:n}=o.ExplorerCtrl.state,{listings:r,total:i,page:s}=this.search?n:t;if(!this.endReached&&(this.firstFetch||i>40&&r.length<i))try{this.loading=!0;const t=null==(e=o.OptionsCtrl.state.chains)?void 0:e.join(","),{listings:n}=await o.ExplorerCtrl.getWallets({page:this.firstFetch?1:s+1,entries:40,search:this.search,version:2,chains:t}),r=n.map((e=>Y.getWalletIcon(e)));await Promise.all([...r.map((async e=>Y.preloadImage(e))),o.zv.wait(300)]),this.endReached=this.isLastPage()}catch(e){o.ToastCtrl.openToast(Y.getErrorMessage(e),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(e){o.zv.isAndroid()?Y.handleMobileLinking(e):Y.goToConnectingView(e)}onSearchChange(e){const{value:t}=e.target;this.searchDebounce(t)}render(){const{wallets:e,search:t}=o.ExplorerCtrl.state,{listings:n}=this.search?t:e,i=this.loading&&!n.length,a=this.search.length>=3;let c=tt.manualWalletsTemplate(),l=tt.recomendedWalletsTemplate(!0);a&&(c=c.filter((({values:e})=>Y.caseSafeIncludes(e[0],this.search))),l=l.filter((({values:e})=>Y.caseSafeIncludes(e[0],this.search))));const u=!this.loading&&!n.length&&!l.length,h={"wcm-loading":i,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":u};return r.dy`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${(0,s.$)(h)}"><div class="wcm-grid">${i?null:c} ${i?null:l} ${i?null:n.map((e=>r.dy`${e?r.dy`<wcm-wallet-button imageId="${e.image_id}" name="${e.name}" walletId="${e.id}" .onClick="${()=>this.onConnect(e)}"></wcm-wallet-button>`:null}`))}</div><div class="wcm-placeholder-block">${u?r.dy`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!u&&this.loading?r.dy`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};cn.styles=[w.globalCss,rn],an([(0,i.SB)()],cn.prototype,"loading",2),an([(0,i.SB)()],cn.prototype,"firstFetch",2),an([(0,i.SB)()],cn.prototype,"search",2),an([(0,i.SB)()],cn.prototype,"endReached",2),cn=an([(0,i.Mo)("wcm-wallet-explorer-view")],cn);const ln=r.iv`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var un=Object.defineProperty,hn=Object.getOwnPropertyDescriptor,dn=(e,t,n,r)=>{for(var i,s=r>1?void 0:r?hn(t,n):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r?i(t,n,s):i(s))||s);return r&&s&&un(t,n,s),s};let pn=class extends r.oi{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(e){const{desktop:t,name:n}=o.zv.getWalletRouterData(),r=t?.universal;if(r){const t=o.zv.formatUniversalUrl(r,e,n);o.zv.openHref(t,"_blank")}}openWebWallet(){const{walletConnectUri:e}=o.OptionsCtrl.state,t=o.zv.getWalletRouterData();Y.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}render(){const{name:e,id:t,image_id:n}=o.zv.getWalletRouterData(),{isMobile:i,isDesktop:s}=Y.getCachedRouterWalletPlatforms(),a=o.zv.isMobile();return r.dy`<wcm-modal-header title="${e}" .onAction="${Y.handleUriCopy}" .actionIcon="${M.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${(0,l.o)(n)}" label="${`Continue in ${e}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${e} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isDesktop="${!a&&s}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${M.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};pn.styles=[w.globalCss,ln],dn([(0,i.SB)()],pn.prototype,"isError",2),pn=dn([(0,i.Mo)("wcm-web-connecting-view")],pn)},59343:(e,t,n)=>{"use strict";n.d(t,{WalletConnectModal:()=>i});var r=n(70672);class i{constructor(e){this.openModal=r.jb.open,this.closeModal=r.jb.close,this.subscribeModal=r.jb.subscribe,this.setTheme=r.ThemeCtrl.setThemeConfig,r.ThemeCtrl.setThemeConfig(e),r.ConfigCtrl.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.all([n.e(7882),n.e(9120)]).then(n.bind(n,68189));const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),r.OptionsCtrl.setIsUiLoaded(!0)}}}}}]);